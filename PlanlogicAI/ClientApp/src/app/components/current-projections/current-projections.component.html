
<table *ngIf="(projection == 'overview' )" class="table" style="margin-top:50px;">


  <tr>
    <td style="text-align:center;background:antiquewhite" colspan="2">
      Net Cash Flow
    </td>
  </tr>

  <tr>
    <td>
      <table>
        <tr style="height:10px;">
          <td></td>
        </tr>
        <tr>
          <td style="border:none;font-weight:bold;" colspan="3">Inflow ($)</td>
        </tr>
        <tr style="height:20px;">
          <td></td>
        </tr>
        <tr>
        <tr *ngFor="let item of totaltaxableIncomes">
          <td style="border:none;" class="col-sm-1">Taxable Income</td>
          <td style="border:none;" class="col-sm-1"></td>
          <td style="border:none;" class="col-sm-1">{{item.value}}</td>
        </tr>

        <tr style="height:10px;">
          <td></td>
        </tr>
        <tr *ngFor="let item of taxableIncomes" style="color:gray;">
          <td style="border:none;" class="col-sm-1">{{item.owner}}</td>
          <td style="border:none;" class="col-sm-1">{{item.name}}</td>
          <td style="border:none;" class="col-sm-1">{{item.value}}</td>
        </tr>
        <tr style="height:30px;border:none;">
          <td></td>
        </tr>
        <tr *ngFor="let item of totalnontaxableIncomes">
          <td style="border:none;" class="col-sm-1">Non-Taxable Income</td>
          <td style="border:none;" class="col-sm-1"></td>
          <td style="border:none;" class="col-sm-1">{{item.value}}</td>
        </tr>

        <tr *ngFor="let item of nontaxableIncomes" style="color:gray;">
          <td style="border:none;" class="col-sm-1">{{item.owner}}</td>
          <td style="border:none;" class="col-sm-1">{{item.name}}</td>
          <td style="border:none;" class="col-sm-1">{{item.value}}</td>
        </tr>
      </table>
    </td>
    <td>
      <table>
        <tr style="height:10px;">
          <td></td>
        </tr>
        <tr>
          <td style="border:none;font-weight:bold;" colspan="3">Outflow ($)</td>
        </tr>
        <tr style="height:20px;">
          <td></td>
        </tr>
        <tr *ngFor="let item of totalliving">
          <td style="border:none;" class="col-sm-1">Living</td>
          <td style="border:none;" class="col-sm-1"></td>
          <td style="border:none;" class="col-sm-1">{{item.value}}</td>
        </tr>
        <tr style="height:10px;">
          <td></td>
        </tr>
        <tr *ngFor="let item of living" style="color:gray;">
          <td style="border:none;" class="col-sm-1">{{item.owner}}</td>
          <td style="border:none;" class="col-sm-1">{{item.name}}</td>
          <td style="border:none;" class="col-sm-1">{{item.value}}</td>
        </tr>
        <tr style="height:30px;">
          <td></td>
        </tr>
        <tr>
          <td style="border:none;" colspan="3">Saving</td>
        </tr>
        <tr *ngFor="let item of saving" style="color:gray;">
          <td style="border:none;" class="col-sm-1">{{item.owner}}</td>
          <td style="border:none;" class="col-sm-1">{{item.name}}</td>
          <td style="border:none;" class="col-sm-1">{{item.value}}</td>
        </tr>
      </table>
    </td>
  </tr>
  <tr style="height:40px;">
    <td></td>
  </tr>
  <tr>
    <td style="text-align:center;background:antiquewhite" colspan="2">
      Net Asset
    </td>
  </tr>

  <tr>
    <td>
      <table>
        <tr style="height:10px;">
          <td></td>
        </tr>
        <tr>
          <td style="border:none;font-weight:bold;" colspan="3">Assets ($)</td>
        </tr>
        <tr style="height:20px;">
          <td></td>
        </tr>
        <tr *ngFor="let item of totallifestyleOverview">
          <td style="border:none;" class="col-sm-1">Lifestyle</td>
          <td style="border:none;" class="col-sm-1"></td>
          <td style="border:none;" class="col-sm-1">{{item.value}}</td>
        </tr>
        <tr style="height:10px;">
          <td></td>
        </tr>
        <tr *ngFor="let item of lifestyleOverview" style="color:gray;">
          <td style="border:none;" class="col-sm-1">{{item.ownerDetail}}</td>
          <td style="border:none;" class="col-sm-1">{{item.name}}</td>
          <td style="border:none;" class="col-sm-1">{{item.value}}</td>
        </tr>
        <tr style="height:10px;">
          <td></td>
        </tr>
        <tr *ngFor="let item of totalinvestmentOverview">
          <td style="border:none;" class="col-sm-1">Direct Investment</td>
          <td style="border:none;" class="col-sm-1"></td>
          <td style="border:none;" class="col-sm-1">{{item.value}}</td>
        </tr>
        <tr style="height:10px;">
          <td></td>
        </tr>
        <tr *ngFor="let item of investmentOverview" style="color:gray;">
          <td style="border:none;" class="col-sm-1">{{item.ownerDetail}}</td>
          <td style="border:none;" class="col-sm-1">{{item.name}}</td>
          <td style="border:none;" class="col-sm-1">{{item.value}}</td>
        </tr>
        <tr style="height:10px;">
          <td></td>
        </tr>
        <tr *ngFor="let item of totalsuperOverview">
          <td style="border:none;" class="col-sm-1">Super</td>
          <td style="border:none;" class="col-sm-1"></td>
          <td style="border:none;" class="col-sm-1">{{item.value}}</td>
        </tr>
        <tr style="height:10px;">
          <td></td>
        </tr>
        <tr *ngFor="let item of superOverview" style="color:gray;">
          <td style="border:none;" class="col-sm-1">{{item.ownerDetail}}</td>
          <td style="border:none;" class="col-sm-1">{{item.name}}</td>
          <td style="border:none;" class="col-sm-1">{{item.value}}</td>
        </tr>
        <tr style="height:10px;">
          <td></td>
        </tr>
        <tr *ngFor="let item of totalpensionOverview">
          <td style="border:none;" class="col-sm-1">Pension</td>
          <td style="border:none;" class="col-sm-1"></td>
          <td style="border:none;" class="col-sm-1">{{item.value}}</td>
        </tr>
        <tr style="height:10px;">
          <td></td>
        </tr>
        <tr *ngFor="let item of pensionOverview " style="color:gray;">
          <td style="border:none;" class="col-sm-1">{{item.ownerDetail}}</td>
          <td style="border:none;" class="col-sm-1">{{item.name}}</td>
          <td style="border:none;" class="col-sm-1">{{item.value}}</td>
        </tr>
      </table>
    </td>
    <td>
      <table>
        <tr style="height:10px;">
          <td></td>
        </tr>
        <tr>
          <td style="border:none;font-weight:bold;" colspan="3">Outflow ($)</td>
        </tr>
        <tr style="height:20px;">
          <td></td>
        </tr>

      </table>
    </td>
  </tr>


</table>

<!--Projection-->
<!--Cashflow-->
<table *ngIf="(projection == 'cashflow' )" class="table" style="margin-top:50px;">
  <tr style="background-color:#8f8f8f;color:white">
    <td style="min-width:230px !important;"></td>
    <td style="text-align:center;" *ngFor="let year of years">1/7/{{year}}</td>
  </tr>
  <tr style="color:gray">
    <td style="border:none;"> Age - {{clientDetails.clientName}}</td>
    <td style="border:none;text-align:center;" *ngFor="let year of years;let index = index">
      <span *ngIf="year == clientRetirementYear else ageC">  {{index + clientAge }} [R] </span>  <ng-template #ageC> <span>{{index + clientAge }}</span> </ng-template>
    </td>
  </tr>
  <tr style="color:gray" *ngIf="clientDetails.maritalStatus == 'M'">
    <td style="border:none;"> Age - {{clientDetails.partnerName}}</td>
    <td style="border:none;text-align:center;" *ngFor="let year of years;let index = index">
      <span *ngIf="year == partnerRetirementYear else ageP"> {{index + partnerAge }} [R] </span>  <ng-template #ageP> <span>{{index + partnerAge }}</span> </ng-template>
    </td>
  </tr>
  <tr style="height:40px;">
    <td [attr.colspan]="period"></td>
  </tr>

  <tr class="header">
    <td style="border:none;font-weight:bold;" [attr.colspan]="period"> INFLOW </td>
  </tr>
  <tr style="background:#f18b43;">
    <td [attr.colspan]="period" style="padding:0 !important;height:3px;"></td>
  </tr>


  <tr *ngIf="cfiClient?.length <= 0 && cfiPartner?.length <= 0 else clientIncomeTotal"></tr>
  <ng-template #clientIncomeTotal>
    <tr>
      <td style="padding-left:1em !important;border:none;">Income</td>
      <td [attr.colspan]="period - 1"></td>
    </tr>

    <tr *ngFor="let item of inflow | filterHide:'Client'" style="color:gray;">
      <td style="padding-left:2em !important;border:none;">{{item.name}} - {{clientDetails.clientName}}</td>
      <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
        <span *ngIf="value.value == 0 else ic"> - </span>  <ng-template #ic> <span>${{value.value | number}} </span> </ng-template>
      </td>
    </tr>


    <tr class="lessons-list" *ngIf="clientDetails.maritalStatus == 'S' else partnerIncome"></tr>
    <ng-template #partnerIncome>

      <tr *ngIf="cfiPartner?.length <= 0 else partnerIncomeTotal"></tr>
      <ng-template #partnerIncomeTotal>
        <tr *ngFor="let item of inflow | filterHide:'Partner'" style="color:gray;">
          <td style="padding-left:2em !important;border:none;">{{item.name}} - {{clientDetails.partnerName}}</td>
          <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
            <span *ngIf="value.value == 0 else ip"> - </span>  <ng-template #ip> <span>${{value.value | number}} </span> </ng-template>
          </td>
        </tr>

      </ng-template>
    </ng-template>


    <tr style="height:10px;">
      <td [attr.colspan]="period" style="border:none;"></td>
    </tr>
    <tr *ngFor="let item of Pensiontotal | filterHide:'TotalPensionIncome'" style="color:gray;">
      <td style="padding-left:2em !important;border:none;">{{item.name}}</td>
      <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
        <span *ngIf="value.value == 0 else ipoP"> - </span>  <ng-template #ipoP> <span>${{value.value | number}} </span> </ng-template>
      </td>
    </tr>
    <tr style="height:10px;">
      <td [attr.colspan]="period" style="border:none;"></td>
    </tr>
    <tr *ngIf="((FAtotal | filterHide:'TotalIPO')?.length <= 0   && (Propertiestotal | filterHide:'TotalRent')?.length <= 0 ) else CFIIncome"> </tr>
    <ng-template #CFIIncome>
      <tr>
        <td style="padding-left:1em !important;border:none;">Investment Income</td>
        <td [attr.colspan]="period - 1" style="border:none;"></td>
      </tr>
    </ng-template>
    <tr *ngFor="let item of FAtotal | filterHide:'TotalIPO'" style="color:gray;">
      <td style="padding-left:2em !important;border:none;">{{item.name}}</td>
      <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
        <span *ngIf="value.value == 0 else ipoP"> - </span>  <ng-template #ipoP> <span>${{value.value | number}} </span> </ng-template>
      </td>
    </tr>
    <tr *ngFor="let item of Propertiestotal | filterHide:'TotalRent'" style="color:gray;">
      <td style="padding-left:2em !important;border:none;">{{item.name}}</td>
      <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
        <span *ngIf="value.value == 0 else rentP"> - </span>  <ng-template #rentP> <span>${{value.value | number}} </span> </ng-template>
      </td>
    </tr>
    <tr style="height:10px;">
      <td [attr.colspan]="period" style="border:none;"></td>
    </tr>

    <tr *ngIf="((FAtotal | filterHide:'TotalIW')?.length <= 0   && (Propertiestotal | filterHide:'TotalSaleProceeds')?.length <= 0 && (Propertiestotal | filterHide:'TotalSaleProceeds')?.length <= 0 && (Supertotal | filterHide:'TotalLumpSumWithdrawals')?.length <= 0) else SWA"> </tr>
    <ng-template #SWA>
      <tr>
        <td style="padding-left:1em !important;border:none;">Sale of/Withdrawals from Assets</td>
        <td [attr.colspan]="period - 1" style="border:none;"></td>
      </tr>
    </ng-template>

    <tr *ngFor="let item of FAtotal | filterHide:'TotalIW'" style="color:gray;">
      <td style="padding-left:2em !important;border:none;">{{item.name}}</td>
      <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
        <span *ngIf="value.value == 0 else ipoP"> - </span>  <ng-template #ipoP> <span>${{value.value | number}} </span> </ng-template>
      </td>
    </tr>
    <tr *ngFor="let item of Propertiestotal | filterHide:'TotalSaleProceeds'" style="color:gray;">
      <td style="padding-left:2em !important;border:none;">{{item.name}}</td>
      <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
        <span *ngIf="value.value == 0 else saleProceeds"> - </span>  <ng-template #saleProceeds> <span>${{value.value | number}} </span> </ng-template>
      </td>
    </tr>
    <tr *ngFor="let item of LATotal | filterHide:'TotalLASales'" style="color:gray;">
      <td style="padding-left:2em !important;border:none;">{{item.name}}</td>
      <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
        <span *ngIf="value.value == 0 else laSaleProceeds"> - </span>  <ng-template #laSaleProceeds> <span>${{value.value | number}} </span> </ng-template>
      </td>
    </tr>
    <tr *ngFor="let item of Supertotal | filterHide:'TotalLumpSumWithdrawals'" style="color:gray;">
      <td style="padding-left:2em !important;border:none;">{{item.name}}</td>
      <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
        <span *ngIf="value.value == 0 else lumpSumWithdrawals"> - </span>  <ng-template #lumpSumWithdrawals> <span>${{value.value | number}} </span> </ng-template>
      </td>
    </tr>
  </ng-template>

  <tr *ngIf="(cfiClient?.length <= 0 && cfiPartner?.length <= 0 ) else InflowTotal"></tr>
  <ng-template #InflowTotal>

    <tr style="height:10px;">
      <td [attr.colspan]="period" style="border:none;"></td>
    </tr>
    <tr style="background-color:#9d9b9b1c;font-weight:bold;" *ngFor="let item of inflow | filterHide:'Inflow'">
      <td style="border-bottom:1px solid #dbdbdb;border-top:none;">Total Inflow</td>
      <td style="border-bottom:1px solid #dbdbdb;border-top:none;text-align:right;" *ngFor=" let value of item.values | keys">
        <span *ngIf="value.value == 0 else ti"> - </span>  <ng-template #ti> <span>${{value.value | number}} </span> </ng-template>
      </td>
    </tr>
  </ng-template>
  <tr style="height:20px;">
    <td [attr.colspan]="period" style="border:none;"></td>
  </tr>




  <tr class="header">
    <td style="border:none;font-weight:bold;" [attr.colspan]="period"> OUTFLOW </td>
  </tr>
  <tr style="background:#f18b43;">
    <td [attr.colspan]="period" style="padding:0 !important;height:3px;"></td>
  </tr>

  <tr *ngIf="(cfeClient?.length <= 0 && cfePartner?.length <= 0 && cfeJoint?.length <= 0)else clientExpenditureTotal"></tr>
  <ng-template #clientExpenditureTotal>
    <tr>
      <td style="padding-left:1em !important;border:none;">Expenses</td>
      <td [attr.colspan]="period - 1" style="border:none;"></td>
    </tr>


    <tr *ngFor="let item of outflow | filterHide:'Client'" style="color:gray;">
      <td style="padding-left:2em !important;border:none;">{{item.name}} - {{clientDetails.clientName}}</td>
      <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
        <span *ngIf="value.value == 0 else ec"> - </span>  <ng-template #ec> <span>${{value.value | number}} </span> </ng-template>
      </td>
    </tr>




    <tr class="lessons-list" *ngIf="clientDetails.maritalStatus == 'S' else partnerExpenditure"></tr>
    <ng-template #partnerExpenditure>

      <tr *ngIf="cfePartner?.length <= 0 else partnerExpenditureTotal"></tr>
      <ng-template #partnerExpenditureTotal>

        <tr *ngFor="let item of outflow | filterHide:'Partner'" style="color:gray;">
          <td style="padding-left:2em !important;border:none;">{{item.name}} - {{clientDetails.partnerName}}</td>
          <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
            <span *ngIf="value.value == 0 else ep"> - </span>  <ng-template #ep> <span>${{value.value | number}} </span> </ng-template>
          </td>
        </tr>

      </ng-template>





      <tr *ngIf="cfeJoint?.length <= 0 else jointExpenditureTotal"></tr>
      <ng-template #jointExpenditureTotal>

        <tr *ngFor="let item of outflow | filterHide:'Joint'" style="color:gray;">
          <td style="padding-left:2em !important;border:none;">{{item.name}} - Joint</td>
          <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
            <span *ngIf="value.value == 0 else ej"> - </span>  <ng-template #ej> <span>${{value.value | number}} </span> </ng-template>
          </td>
        </tr>

      </ng-template>

    </ng-template>

  </ng-template>

  <tr style="height:10px;">
    <td [attr.colspan]="period" style="border:none;"></td>
  </tr>

  <tr *ngIf="FAtotal?.length <= 0 else clientTotalInvestments"></tr>
  <ng-template #clientTotalInvestments>

    <tr>
      <td style="padding-left:1em !important;border:none;">Purchase of/Contributions into Assets</td>
      <td [attr.colspan]="period - 1" style="border:none;"></td>
    </tr>

    <tr *ngFor="let item of FAtotal | filterHide:'TotalIC'" style="color:gray;">
      <td style="padding-left:2em !important;border:none;">{{item.name}}</td>
      <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
        <span *ngIf="value.value == 0 else ipoP"> - </span>  <ng-template #ipoP> <span>${{value.value | number}} </span> </ng-template>
      </td>
    </tr>
    <tr *ngFor="let item of Propertiestotal | filterHide:'TotalPropertyExpenses'" style="color:gray;">
      <td style="padding-left:2em !important;border:none;">{{item.name}}</td>
      <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
        <span *ngIf="value.value == 0 else propertyExpenses"> - </span>  <ng-template #propertyExpenses> <span>${{value.value | number}} </span> </ng-template>
      </td>
    </tr>
    <tr *ngFor="let item of LATotal | filterHide:'TotalLAPurchase'" style="color:gray;">
      <td style="padding-left:2em !important;border:none;">{{item.name}}</td>
      <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
        <span *ngIf="value.value == 0 else laPurchaseProceeds"> - </span>  <ng-template #laPurchaseProceeds> <span>${{value.value | number}} </span> </ng-template>
      </td>
    </tr>
    <tr style="height:10px;">
      <td [attr.colspan]="period" style="border:none;"></td>
    </tr>

    <tr *ngFor="let item of FAtotal | filterHide:'TotalITPayable'">
      <td style="padding-left:1em !important;border:none;">{{item.name}}</td>
      <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
        <span *ngIf="value.value == 0 else ipoP"> - </span>  <ng-template #ipoP> <span>${{value.value | number}} </span> </ng-template>
      </td>
    </tr>
    <tr style="height:10px;">
      <td [attr.colspan]="period" style="border:none;"></td>
    </tr>

    <tr *ngFor="let item of LBtotal | filterHide:'TotalDebtRepayment'">
      <td style="padding-left:1em !important;border:none;">{{item.name}}</td>
      <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
        <span *ngIf="value.value == 0 else dRepmt"> - </span>  <ng-template #dRepmt> <span>${{value.value | number}} </span> </ng-template>
      </td>
    </tr>
    <tr style="height:10px;">
      <td [attr.colspan]="period" style="border:none;"></td>
    </tr>
  </ng-template>



  <tr *ngIf="((Supertotal | filterHide:'TotalSalarySacrificeContributions')?.length <= 0   && (Supertotal | filterHide:'TotalPNCContributions')?.length <= 0 && (Supertotal | filterHide:'TotalSpouseContributions')?.length <= 0) else CFSuper"> </tr>
  <ng-template #CFSuper>
    <tr style="height:10px;">
      <td [attr.colspan]="period" style="border:none;"></td>
    </tr>

    <tr>
      <td style="padding-left:1em !important;border:none;">Super Contributions</td>
      <td [attr.colspan]="period - 1" style="border:none;"></td>
    </tr>
    <tr *ngFor="let item of Supertotal | filterHide:'TotalSalarySacrificeContributions'" style="color:gray;">
      <td style="padding-left:2em !important;border:none;">{{item.name}}</td>
      <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
        <span *ngIf="value.value == 0 else ipoP"> - </span>  <ng-template #ipoP> <span>${{value.value | number}} </span> </ng-template>
      </td>
    </tr>
    <tr *ngFor="let item of Supertotal | filterHide:'TotalPNCContributions'" style="color:gray;">
      <td style="padding-left:2em !important;border:none;">{{item.name}}</td>
      <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
        <span *ngIf="value.value == 0 else ipoP"> - </span>  <ng-template #ipoP> <span>${{value.value | number}} </span> </ng-template>
      </td>
    </tr>
    <tr *ngIf="clientDetails.maritalStatus == 'S' else spouseOutflow"></tr>
    <ng-template #spouseOutflow>
      <tr *ngFor="let item of Supertotal | filterHide:'TotalSpouseContributions'" style="color:gray;">
        <td style="padding-left:2em !important;border:none;">{{item.name}}</td>
        <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
          <span *ngIf="value.value == 0 else ipoP"> - </span>  <ng-template #ipoP> <span>${{value.value | number}} </span> </ng-template>
        </td>
      </tr>
    </ng-template>


  </ng-template>
  <tr *ngIf="(cfeClient?.length <= 0 && cfePartner?.length <= 0 && cfeJoint?.length <= 0 ) else OutflowTotal"></tr>
  <ng-template #OutflowTotal>
    <tr style="height:10px;">
      <td [attr.colspan]="period" style="border:none;"></td>
    </tr>
    <tr style="background-color:#9d9b9b1c;font-weight:bold;" *ngFor="let item of outflow | filterHide:'Outflow'">
      <td style="border-bottom:1px solid #dbdbdb;border-top:none;">Total Outflow</td>
      <td style="border-bottom:1px solid #dbdbdb;border-top:none;text-align:right;" *ngFor=" let value of item.values | keys">
        <span *ngIf="value.value == 0 else to"> - </span>  <ng-template #to> <span>${{value.value | number}} </span> </ng-template>
      </td>
    </tr>
  </ng-template>

  <tr style="height:20px;">
    <td [attr.colspan]="period" style="border:none;"></td>
  </tr>
  <tr *ngIf="(netCashFlow?.length <= 0 ) else NetFlowTotal"></tr>
  <ng-template #NetFlowTotal>
    <tr style="font-weight:bold;background-color:#9d9b9b1c;border:none;" *ngFor="let item of netCashFlow">
      <td style="border:none;">Net Cashflow</td>
      <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
        <span *ngIf="value.value == 0 else nc"> - </span>
        <ng-template #nc>
          <span *ngIf="value.value > 0 else neg">${{value.value | number}} </span>
          <ng-template #neg>
            <span> (${{value.value | positive | number  }}) </span>
          </ng-template>
        </ng-template>

      </td>
    </tr>
    <tr style="font-weight:bold;background-color:#9d9b9b1c;border:none;" *ngFor="let item of netCashFlow">
      <td style="border:none;">Allocation to/from Assets</td>
      <td style="border:none;text-align:right;" *ngFor=" let value of item.assetAllocationValues | keys">
        <span *ngIf="value.value == 0 else nc"> - </span>
        <ng-template #nc>
          <span *ngIf="value.value > 0 else neg">${{value.value | number}} </span>
          <ng-template #neg>
            <span> (${{value.value | positive | number  }}) </span>
          </ng-template>
        </ng-template>
      </td>
    </tr>
    <tr style="font-weight:bold;background-color:#9d9b9b1c;border:none;" *ngFor="let item of netCashFlow">
      <td style="border:none;">Unfunded Net Cashflow</td>
      <td style="border:none;text-align:right;" *ngFor=" let value of item.unfundedNetCFValues | keys">
        <span *ngIf="value.value == 0 else nc"> - </span>

        <ng-template #nc>
          <span *ngIf="value.value > 0 else neg">${{value.value | number}} </span>
          <ng-template #neg>
            <span> (${{value.value | positive | number  }}) </span>
          </ng-template>
        </ng-template>
      </td>
    </tr>
    <tr style="background:#f18b43;">
      <td [attr.colspan]="period" style="padding:0 !important;height:3px;"></td>
    </tr>
    <tr style="height:10px;">

      <td [attr.colspan]="period" style="border:none;"></td>
    </tr>

  </ng-template>
</table>
<div style="float:right" *ngIf="(projection == 'cashflow' )">
  <a (click)="onPreviousCF()" class="previous">&laquo; Previous</a>
  <a (click)="onNextCF()" class="next">Next &raquo;</a>
</div>

<table class="table" *ngIf="(projection == 'tax' ) " style="margin-top:30px;">
  <tbody>
    <tr style="background-color:#8f8f8f;color:white">
      <th style="min-width:230px !important;"></th>
      <th style="text-align:center;" *ngFor="let year of years">1/7/{{year}}</th>
    </tr>
    <tr style="color:gray">
      <td style="border:none;"> Age - {{clientDetails.clientName}}</td>
      <td style="border:none;text-align:center;" *ngFor="let year of years;let index = index">
        <span *ngIf="year == clientRetirementYear else ageC">  {{index + clientAge }} [R] </span>  <ng-template #ageC> <span>{{index + clientAge }}</span> </ng-template>
      </td>
    </tr>
    <tr style="color:gray" *ngIf="clientDetails.maritalStatus == 'M'">
      <td style="border:none;"> Age - {{clientDetails.partnerName}}</td>
      <td style="border:none;text-align:center;" *ngFor="let year of years;let index = index">
        <span *ngIf="year == partnerRetirementYear else ageP"> {{index + partnerAge }} [R] </span>  <ng-template #ageP> <span>{{index + partnerAge }}</span> </ng-template>
      </td>
    </tr>
    <tr style="height:40px;">
      <td [attr.colspan]="period"></td>
    </tr>

    <tr class="header">
      <td style="border:none;font-weight:bold;" [attr.colspan]="period"> SUMMARY </td>
    </tr>
    <tr style="background:#f18b43;">
      <td [attr.colspan]="period" style="padding:0 !important;height:3px;"></td>
    </tr>

    <tr>
      <td [attr.colspan]="period" style="border-bottom:1px solid #dbdbdb;">{{clientDetails.clientName}}</td>
    </tr>
    <tr *ngIf="TotalPayable?.length <= 0 else clientTotalPayableSummary"></tr>
    <ng-template #clientTotalPayableSummary>
      <tr style="font-weight:bold;background:#9d9b9b1c;" *ngFor="let item of TotalPayable | filterHide:'ClientTotalTaxPayable'">
        <td style="border:none;">{{item.name}}</td>
        <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
          <span *ngIf="value.value == 0 else ti"> - </span>  <ng-template #ti> <span>${{value.value | number}} </span> </ng-template>
        </td>
      </tr>
      <tr style="color:gray;font-style:oblique;" *ngFor="let item of TotalPayable | filterHide:'ClientAverageTaxRate'">
        <td style="border:none;padding-left:2em !important;">{{item.name}}</td>
        <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
          <span>{{value.value | number}}% </span>
        </td>
      </tr>
      <tr style="color:gray;font-style:oblique;" *ngFor="let item of TotalPayable | filterHide:'ClientMarginalTaxRate'">
        <td style="border:none;padding-left:2em !important;">{{item.name}}</td>
        <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
          <span>{{value.value | number}}% </span>
        </td>
      </tr>
    </ng-template>
    <tr style="height:10px;">
      <td [attr.colspan]="period" style="border:none;"></td>
    </tr>


    <ng-container *ngIf="clientDetails.maritalStatus == 'M'">
      <tr>
        <td [attr.colspan]="period" style="border-bottom:1px solid #dbdbdb;border-top:none;">{{clientDetails.partnerName}}</td>
      </tr>
      <tr *ngIf="TotalPayable?.length <= 0 else partnerTotalPayableSummary"></tr>
      <ng-template #partnerTotalPayableSummary>
        <tr style="font-weight:bold;background:#9d9b9b1c;" *ngFor="let item of TotalPayable | filterHide:'PartnerTotalTaxPayable'">
          <td style="border:none;">{{item.name}}</td>
          <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
            <span *ngIf="value.value == 0 else ti"> - </span>  <ng-template #ti> <span>${{value.value | number}} </span> </ng-template>
          </td>
        </tr>
        <tr style="color:gray;font-style:oblique;" *ngFor="let item of TotalPayable | filterHide:'PartnerAverageTaxRate'">
          <td style="border:none;padding-left:2em !important;">{{item.name}}</td>
          <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
            <span *ngIf="value.value == 0 else ti"> - </span>  <ng-template #ti> <span>{{value.value | number}}% </span> </ng-template>
          </td>
        </tr>
        <tr style="color:gray;font-style:oblique;" *ngFor="let item of TotalPayable | filterHide:'PartnerMarginalTaxRate'">
          <td style="border:none;padding-left:2em !important;">{{item.name}}</td>
          <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
            <span *ngIf="value.value == 0 else ti"> - </span>  <ng-template #ti> <span>{{value.value | number}}% </span> </ng-template>
          </td>
        </tr>
      </ng-template>
      <tr style="height:10px;">
        <td [attr.colspan]="period" style="border:none;"></td>
      </tr>
    </ng-container>


    <tr style="height:30px;" [attr.colspan]="period"></tr>

    <tr class="header" style="margin-top:10px;">
      <td style="border:none;font-weight:bold;" [attr.colspan]="period"> TAXATION -  {{clientDetails.clientName}} <span class="glyphicon glyphicon-chevron-up" style="left:90%;"></span></td>
    </tr>
    <tr style="background:#f18b43;">
      <td [attr.colspan]="period" style="padding:0 !important;height:3px;"></td>
    </tr>
    <tr style="height:20px;">
      <td [attr.colspan]="period" style="border-bottom:1px solid #dbdbdb;"></td>
    </tr>

    <tr *ngIf="cfiClient?.length <= 0 else clientIncomeTotal"></tr>
    <ng-template #clientIncomeTotal>

      <tr>
        <td style="padding-left:1em !important;border:none;">Income</td>
        <td [attr.colspan]="period - 1"></td>
      </tr>
      <tr *ngFor="let item of Income | filterHide:'ClientIncome-tax'" style="color:gray;"> <!-- change to incometax-client -->
        <td style="padding-left:2em !important;border:none;">{{item.name}}</td>
        <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
          <span *ngIf="value.value == 0 else ic"> - </span>  <ng-template #ic> <span>${{value.value | number}} </span> </ng-template>
        </td>
      </tr>
      <tr *ngFor="let item of Pensiontotal | filterHide:'PensionIncome-client'" style="color:gray;">
        <td style="padding-left:2em !important;border:none;">{{item.name}}</td>
        <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
          <span *ngIf="value.value == 0 else ic"> - </span>  <ng-template #ic> <span>${{value.value | number}} </span> </ng-template>
        </td>
      </tr>
      <tr *ngFor="let item of FAtotal | filterHide:'TotalTaxIE-client'" style="color:gray;">
        <td style="padding-left:2em !important;border:none;">{{item.name}}</td>
        <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
          <span *ngIf="value.value == 0 else ic"> - </span>  <ng-template #ic> <span>${{value.value | number}} </span> </ng-template>
        </td>
      </tr>
      <tr *ngFor="let item of FAtotal | filterHide:'FrankingCredits-client'" style="color:gray;">
        <td style="padding-left:2em !important;border:none;">{{item.name}}</td>
        <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
          <span *ngIf="value.value == 0 else ic"> - </span>  <ng-template #ic> <span>${{value.value | number}} </span> </ng-template>
        </td>
      </tr>
      <tr>
        <td [attr.colspan]="period" style="border:none;"></td>
      </tr>
      <tr>
        <td style="padding-left:1em !important;border:none;">Capital gains</td>
        <td [attr.colspan]="period - 1" style="border:none;"></td>
      </tr>
      <tr *ngFor="let item of FAtotal | filterHide:'RCGFA-client'" style="color:gray;">
        <td style="padding-left:2em !important;border:none;">{{item.name}}</td>
        <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
          <span *ngIf="value.value == 0 else ic"> - </span>  <ng-template #ic> <span>${{value.value | number}} </span> </ng-template>
        </td>
      </tr>
      <tr *ngFor="let item of Propertiestotal | filterHide:'RCGP-client'" style="color:gray;">
        <td style="padding-left:2em !important;border:none;">{{item.name}}</td>
        <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
          <span *ngIf="value.value == 0 else ic"> - </span>  <ng-template #ic> <span>${{value.value | number}} </span> </ng-template>
        </td>
      </tr>
      <tr *ngFor="let item of Propertiestotal | filterHide:'CLA-client'" style="color:gray;">
        <td style="padding-left:2em !important;border:none;font-style:italic;">{{item.name}}</td>
        <td style="border:none;font-style:italic;text-align:right;" *ngFor=" let value of item.values | keys">
          <span *ngIf="value.value == 0 else ic"> - </span>  <ng-template #ic> <span>${{value.value | number}} </span> </ng-template>
        </td>
      </tr>

      <tr *ngFor="let item of Supertotal | filterHide:'LumpSum-client'">
        <td style="border:none;">{{item.name}}</td>
        <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
          <span *ngIf="value.value == 0 else ic"> - </span>  <ng-template #ic> <span>${{value.value | number}} </span> </ng-template>
        </td>
      </tr>
    </ng-template>

    <tr *ngIf="cfiClient?.length <= 0  else CAssessibleIncomeTotal"></tr>
    <ng-template #CAssessibleIncomeTotal>
      <tr>
        <td [attr.colspan]="period" style="border:none;"></td>
      </tr>
      <tr style="font-weight:bold;" *ngFor="let item of Income | filterHide:'ClientAssessibleIncome'">
        <td style="border:none;">Total Assessable Income</td>
        <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
          <span *ngIf="value.value == 0 else ti"> - </span>  <ng-template #ti> <span>${{value.value | number}} </span> </ng-template>
        </td>
      </tr>
    </ng-template>
    <tr>
      <td [attr.colspan]="period" style="border:none;border-bottom:1px solid #dbdbdb;"></td>
    </tr>


    <tr *ngIf="( EPRTClient?.length <= 0 && EPRTJoint?.length <= 0 && Propertiestotal?.length <= 0 && SalarySacrificeTax?.length <= 0 ) else clientDeduction"></tr>
    <ng-template #clientDeduction>
      <tr *ngFor="let item of Propertiestotal | filterHide:'InvestmentPropertyExpenses-client'">
        <td style="padding-left:1em !important;">{{item.name}}</td>
        <td style="text-align:right;" *ngFor=" let value of item.values | keys">
          <span *ngIf="value.value == 0 else ipeC"> - </span>  <ng-template #ipeC> <span>${{value.value | number}} </span> </ng-template>
        </td>
      </tr>
      <tr *ngFor="let item of LBtotal | filterHide:'Accruedliability-client'">
        <td style="padding-left:1em !important;">{{item.name}}</td>
        <td style="text-align:right;" *ngFor=" let value of item.values | keys">
          <span *ngIf="value.value == 0 else ACLC"> - </span>  <ng-template #ACLC> <span>${{value.value | number}} </span> </ng-template>
        </td>
      </tr>
      <tr *ngFor="let item of Supertotal | filterHide:'SalarySacrifice-client'">
        <td style="padding-left:1em !important;">{{item.name}}</td>
        <td style="text-align:right;" *ngFor=" let value of item.values | keys">
          <span *ngIf="value.value == 0 else ipeC"> - </span>  <ng-template #ipeC> <span>${{value.value | number}} </span> </ng-template>
        </td>
      </tr>
      <tr *ngFor="let item of ClientDeductions | filterHide:'Client'">
        <td style="padding-left:1em !important;border:none;">{{item.name}}</td>
        <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
          <span *ngIf="value.value == 0 else ec"> - </span>  <ng-template #ec> <span>${{value.value | number}} </span> </ng-template>
        </td>
      </tr>
    </ng-template>
    <tr *ngIf="( EPRTClient?.length <= 0 && EPRTJoint?.length <= 0 && Propertiestotal?.length <= 0 ) else CDeductionTotal"></tr>
    <ng-template #CDeductionTotal>
      <tr style="font-weight:bold;" *ngFor="let item of ClientDeductions | filterHide:'ClientDeductions'">
        <td style="border:none;">Total Deductions</td>
        <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
          <span *ngIf="value.value == 0 else td"> - </span>  <ng-template #td> <span>${{value.value | number}} </span> </ng-template>
        </td>
      </tr>
    </ng-template>
    <tr>
      <td [attr.colspan]="period" style="border:none;border-bottom:1px solid #dbdbdb;"></td>
    </tr>

    <tr *ngIf="(clientTaxableIncome?.length <= 0) else CTaxableIncome"></tr>
    <ng-template #CTaxableIncome>
      <tr style="font-weight:bold;" *ngFor="let item of clientTaxableIncome | filterHide:'ClientTaxableIncome'">
        <td style="border:none;">Taxable Income</td>
        <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
          <span *ngIf="value.value == 0 else tincome"> - </span>  <ng-template #tincome> <span>${{value.value | number}} </span> </ng-template>
        </td>
      </tr>
    </ng-template>
    <tr *ngIf="clientLossAdjustment?.length <= 0 else CLossAdjustment"></tr>
    <ng-template #CLossAdjustment>
      <tr *ngFor="let item of clientLossAdjustment | filterHide:'ClientAdjustment'" style="color:gray;">
        <td style="padding-left:2em !important;border:none;">Adjustment for losses</td>
        <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
          <span *ngIf="value.value == 0 else cla"> - </span>  <ng-template #cla> <span>${{value.value | number}} </span> </ng-template>
        </td>
      </tr>
    </ng-template>
    <tr>
      <td [attr.colspan]="period" style="border:none;border-bottom:1px solid #dbdbdb;"></td>
    </tr>

    <tr *ngIf="GrossTax?.length <= 0 else ClientGrossTaxPayable"></tr>
    <ng-template #ClientGrossTaxPayable>
      <tr style="font-weight:bold;" *ngFor="let item of GrossTax | filterHide:'ClientGrossTax'">
        <td style="border:none;">{{item.name}}</td>
        <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
          <span *ngIf="value.value == 0 else gtc"> - </span>  <ng-template #gtc> <span>${{value.value | number}} </span> </ng-template>
        </td>
      </tr>
      <tr>
        <td [attr.colspan]="period" style="border:none;border-bottom:1px solid #dbdbdb;"></td>
      </tr>
    </ng-template>


    <tr *ngIf="clientNRTaxOffset?.length <= 0 else clientNRTaxOffsets"></tr>
    <ng-template #clientNRTaxOffsets>
      <tr *ngFor="let item of clientNRTaxOffset | filterHide:'ClientLowIncomeTO'">
        <td style="border:none;padding-left:1em !important;">{{item.name}}</td>
        <td style="text-align:right;" *ngFor=" let value of item.values | keys">
          <span *ngIf="value.value == 0 else cnr"> - </span>  <ng-template #cnr> <span>${{value.value | number}} </span> </ng-template>
        </td>
      </tr>
      <tr *ngFor="let item of Pensiontotal | filterHide:'SIncomeTaxOffset-client'">
        <td style="border:none;padding-left:1em !important;">{{item.name}}</td>
        <td style="text-align:right;" *ngFor=" let value of item.values | keys">
          <span *ngIf="value.value == 0 else cnr"> - </span>  <ng-template #cnr> <span>${{value.value | number}} </span> </ng-template>
        </td>
      </tr>
      <tr style="font-weight:bold;" *ngFor="let item of clientNRTaxOffset | filterHide:'ClientTotalTO'">
        <td style="border:none;">{{item.name}}</td>
        <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
          <span *ngIf="value.value == 0 else cnrt"> - </span>  <ng-template #cnrt> <span>${{value.value | number}} </span> </ng-template>
        </td>
      </tr>
      <tr>
        <td [attr.colspan]="period" style="border:none;border-bottom:1px solid #dbdbdb;"></td>
      </tr>
    </ng-template>

    <tr *ngIf="clientRTaxOffset?.length <= 0 else clientRTaxOffsets"></tr>
    <ng-template #clientRTaxOffsets>
      <tr *ngFor="let item of clientRTaxOffset | filterHide:'ClientFrankingCredits'">
        <td style="border:none;padding-left:1em !important;">{{item.name}}</td>
        <td style="text-align:right;" *ngFor=" let value of item.values | keys">
          <span *ngIf="value.value == 0 else cr"> - </span>  <ng-template #cr> <span>${{value.value | number}} </span> </ng-template>
        </td>
      </tr>
      <tr style="font-weight:bold;" *ngFor="let item of clientRTaxOffset | filterHide:'ClientFrankingCredits'">
        <td style="border:none;">Total refundable tax offsets</td>
        <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
          <span *ngIf="value.value == 0 else crt"> - </span>  <ng-template #crt> <span>${{value.value | number}} </span> </ng-template>
        </td>
      </tr>
      <tr>
        <td [attr.colspan]="period" style="border:none;border-bottom:1px solid #dbdbdb;"></td>
      </tr>
    </ng-template>

    <tr *ngIf="NetPayable?.length <= 0 else clientTaxPayable"></tr>
    <ng-template #clientTaxPayable>
      <tr style="color:gray;" *ngFor="let item of NetPayable | filterHide:'ClientTPNonRefundable'">
        <td style="border:none;padding-left:1em !important;">{{item.name}}</td>
        <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
          <span *ngIf="value.value == 0 else ctp"> - </span>  <ng-template #ctp> <span>${{value.value | number}} </span> </ng-template>
        </td>
      </tr>
      <tr style="color:gray;" *ngFor="let item of NetPayable | filterHide:'ClientTPRefundable'">
        <td style="border:none;padding-left:1em !important;">{{item.name}}</td>
        <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
          <span *ngIf="value.value == '0' else ctpt"> - </span>
          <ng-template #ctpt>
            <span *ngIf="value.value > 0 else ct">${{value.value | number}} </span>
            <ng-template #ct>
              <span> (${{value.value | positive | number  }}) </span>
            </ng-template>
          </ng-template>
        </td>
      </tr>
      <tr style="font-weight:bold;" *ngFor="let item of NetPayable | filterHide:'ClientTPRefundable'">
        <td style="border:none;">Net tax payable</td>
        <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
          <span *ngIf="value.value == 0 else ct"> - </span>
          <ng-template #ct>
            <span *ngIf="value.value > 0 else ctn">${{value.value | number}} </span>
            <ng-template #ctn>
              <span> (${{value.value | positive | number  }}) </span>
            </ng-template>
          </ng-template>
        </td>
      </tr>
      <tr>
        <td [attr.colspan]="period" style="border:none;border-bottom:1px solid #dbdbdb;"></td>
      </tr>
    </ng-template>

    <tr *ngIf="clientMedicareLevy?.length <= 0 else clientMedicareLevys"></tr>
    <ng-template #clientMedicareLevys>
      <tr *ngFor="let item of clientMedicareLevy | filterHide:'ClientMedicareLevy'">
        <td style="border:none;padding-left:1em !important;">{{item.name}}</td>
        <td style="text-align:right;" *ngFor=" let value of item.values | keys">
          <span *ngIf="value.value == 0 else ec"> - </span>  <ng-template #ec> <span>${{value.value | number}} </span> </ng-template>
        </td>
      </tr>
      <tr style="font-weight:bold;" *ngFor="let item of clientMedicareLevy | filterHide:'ClientMedicareLevy'">
        <td style="border:none;">Medicare levy payable</td>
        <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
          <span *ngIf="value.value == 0 else ti"> - </span>  <ng-template #ti> <span>${{value.value | number}} </span> </ng-template>
        </td>
      </tr>
      <tr>
        <td [attr.colspan]="period" style="border:none;border-bottom:1px solid #dbdbdb;"></td>
      </tr>
    </ng-template>

    <tr *ngIf="TotalPayable?.length <= 0 else clientTotalPayable"></tr>
    <ng-template #clientTotalPayable>
      <tr style="font-weight:bold;" *ngFor="let item of TotalPayable | filterHide:'ClientTotalTaxPayable'">
        <td style="border:none;">{{item.name}}</td>
        <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
          <span *ngIf="value.value == 0 else ti"> - </span>  <ng-template #ti> <span>${{value.value | number}} </span> </ng-template>
        </td>
      </tr>
      <tr *ngFor="let item of TotalPayable | filterHide:'ClientAverageTaxRate'">
        <td style="border:none;padding-left:2em !important;font-style:oblique;">{{item.name}}</td>
        <td style="border:none;font-style:oblique;text-align:right;" *ngFor=" let value of item.values | keys">
          <span>{{value.value | number}}% </span>
        </td>
      </tr>
      <tr *ngFor="let item of TotalPayable | filterHide:'ClientMarginalTaxRate'">
        <td style="border:none;padding-left:2em !important;font-style:oblique;">{{item.name}}</td>
        <td style="border:none;font-style:oblique;text-align:right;" *ngFor=" let value of item.values | keys">
          <span>{{value.value | number}}% </span>
        </td>
      </tr>
      <tr>
        <td [attr.colspan]="period" style="border:none;border-bottom:1px solid #dbdbdb;"></td>
      </tr>
    </ng-template>

    <ng-container *ngIf="clientDetails.maritalStatus == 'M'">
      <tr style="height:50px;" [attr.colspan]="period"></tr>
      <tr class="header">
        <td style="border:none;font-weight:bold;" [attr.colspan]="period"> TAXATION -  {{clientDetails.partnerName}} <span class="glyphicon glyphicon-chevron-up" style="left:90%;"></span></td>
      </tr>
      <tr style="background:#f18b43;">
        <td [attr.colspan]="period" style="padding:0 !important;height:3px;"></td>
      </tr>
      <tr style="height:20px;">
        <td [attr.colspan]="period" style="border-bottom:1px solid #dbdbdb;"></td>
      </tr>
      <tr *ngIf="cfiPartner?.length <= 0 else partnerIncomeTotal"></tr>
      <ng-template #partnerIncomeTotal>
        <!--<tr *ngFor="let item of Income | filterHide:'TotalTax-partner'">
            <td style="padding-left:1em !important;border:none;">{{item.name}}</td>
            <td style="border:none;" *ngFor=" let value of item.values | keys">
                <span *ngIf="value.value == 0 else ict"> - </span>  <ng-template #ict> <span>${{value.value | number}} </span> </ng-template>
            </td>
        </tr>-->
        <tr>

          <td style="padding-left:1em !important;border:none;">Income</td>
          <td [attr.colspan]="period - 1"></td>
        </tr>
        le
        <tr *ngFor="let item of Income | filterHide:'PartnerIncome-tax'" style="color:gray;">
          <td style="padding-left:2em !important;border:none;">{{item.name}}</td>
          <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
            <span *ngIf="value.value == 0 else ic"> - </span>  <ng-template #ic> <span>${{value.value | number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngFor="let item of Pensiontotal | filterHide:'PensionIncome-partner'" style="color:gray;">
          <td style="padding-left:2em !important;border:none;">{{item.name}}</td>
          <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
            <span *ngIf="value.value == 0 else ic"> - </span>  <ng-template #ic> <span>${{value.value | number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngFor="let item of FAtotal | filterHide:'TotalTaxIE-partner'" style="color:gray;">
          <td style="padding-left:2em !important;border:none;">{{item.name}}</td>
          <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
            <span *ngIf="value.value == 0 else ic"> - </span>  <ng-template #ic> <span>${{value.value | number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngFor="let item of FAtotal | filterHide:'FrankingCredits-partner'" style="color:gray;">
          <td style="padding-left:2em !important;border:none;">{{item.name}}</td>
          <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
            <span *ngIf="value.value == 0 else ic"> - </span>  <ng-template #ic> <span>${{value.value | number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngFor="let item of Supertotal | filterHide:'LumpSum-partner'">
          <td style="border:none;">{{item.name}}</td>
          <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
            <span *ngIf="value.value == 0 else ic"> - </span>  <ng-template #ic> <span>${{value.value | number}} </span> </ng-template>
          </td>
        <tr>
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>
        <tr>
          <td style="padding-left:1em !important;border:none;">Capital gains</td>
          <td [attr.colspan]="period - 1" style="border:none;"></td>
        </tr>
        <tr *ngFor="let item of FAtotal | filterHide:'RCGFA-partner'" style="color:gray;">
          <td style="padding-left:2em !important;border:none;">{{item.name}}</td>
          <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
            <span *ngIf="value.value == 0 else ic"> - </span>  <ng-template #ic> <span>${{value.value | number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngFor="let item of Propertiestotal | filterHide:'RCGP-partner'" style="color:gray;">
          <td style="padding-left:2em !important;border:none;">{{item.name}}</td>
          <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
            <span *ngIf="value.value == 0 else ic"> - </span>  <ng-template #ic> <span>${{value.value | number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngFor="let item of Propertiestotal | filterHide:'CLA-partner'" style="color:gray;">
          <td style="padding-left:2em !important;border:none;font-style:italic;">{{item.name}}</td>
          <td style="border:none;font-style:italic;text-align:right;" *ngFor=" let value of item.values | keys">
            <span *ngIf="value.value == 0 else ic"> - </span>  <ng-template #ic> <span>${{value.value | number}} </span> </ng-template>
          </td>
        </tr>
      </ng-template>
      <!--Income Total-->
      <tr *ngIf="cfiPartner?.length <= 0  else PAssessibleIncomeTotal"></tr>
      <ng-template #PAssessibleIncomeTotal>
        <tr>
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>
        <tr style="font-weight:bold;" *ngFor="let item of Income | filterHide:'PartnerAssessibleIncome'">
          <td style="border:none;">Total Assessable Income</td>
          <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
            <span *ngIf="value.value == 0 else ti"> - </span>  <ng-template #ti> <span>${{value.value | number}} </span> </ng-template>
          </td>
        </tr>
        <tr>
          <td [attr.colspan]="period" style="border:none;border-bottom:1px solid #dbdbdb;"></td>
        </tr>
      </ng-template>
      <!--Deductions-->

      <tr *ngIf="( EPRTPartner?.length <= 0 && EPRTJoint?.length <= 0 && Propertiestotal?.length <= 0) else partnerDeduction"></tr>
      <ng-template #partnerDeduction>
        <tr *ngFor="let item of Propertiestotal | filterHide:'InvestmentPropertyExpenses-partner'">
          <td style="padding-left:1em !important;">{{item.name}}</td>
          <td style="text-align:right;" *ngFor=" let value of item.values | keys">
            <span *ngIf="value.value == 0 else ipeC"> - </span>  <ng-template #ipeC> <span>${{value.value | number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngFor="let item of LBtotal | filterHide:'Accruedliability-partner'">
          <td style="padding-left:1em !important;">{{item.name}}</td>
          <td style="text-align:right;" *ngFor=" let value of item.values | keys">
            <span *ngIf="value.value == 0 else ACLC"> - </span>  <ng-template #ACLC> <span>${{value.value | number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngFor="let item of Supertotal | filterHide:'SalarySacrifice-partner'">
          <td style="padding-left:1em !important;">{{item.name}}</td>
          <td style="text-align:right;" *ngFor=" let value of item.values | keys">
            <span *ngIf="value.value == 0 else ipeC"> - </span>  <ng-template #ipeC> <span>${{value.value | number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngFor="let item of PartnerDeductions | filterHide:'Partner'">
          <td style="padding-left:1em !important;border:none;">{{item.name}}</td>
          <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
            <span *ngIf="value.value == 0 else ec"> - </span>  <ng-template #ec> <span>${{value.value | number}} </span> </ng-template>
          </td>
        </tr>
      </ng-template>
      <tr *ngIf="( EPRTPartner?.length <= 0 && EPRTJoint?.length <= 0 && Propertiestotal?.length <= 0)  else PDeductionTotal"></tr>
      <ng-template #PDeductionTotal>
        <tr style="font-weight:bold;" *ngFor="let item of PartnerDeductions | filterHide:'PartnerDeductions'">
          <td style="border:none;">Total Deductions</td>
          <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
            <span *ngIf="value.value == 0 else ti"> - </span>  <ng-template #ti> <span>${{value.value | number}} </span> </ng-template>
          </td>
        </tr>
      </ng-template>
      <tr>
        <td [attr.colspan]="period" style="border:none;border-bottom:1px solid #dbdbdb;"></td>
      </tr>
      <!--Taxable Income & Adjustment for losses-->
      <tr *ngIf="(partnerTaxableIncome?.length <= 0) else PTaxableIncome"></tr>
      <ng-template #PTaxableIncome>
        <tr style="font-weight:bold;" *ngFor="let item of partnerTaxableIncome | filterHide:'PartnerTaxableIncome'">
          <td style="border:none;">Taxable Income</td>
          <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
            <span *ngIf="value.value == 0 else ti"> - </span>  <ng-template #ti> <span>${{value.value | number}} </span> </ng-template>
          </td>
        </tr>
      </ng-template>
      <tr *ngIf="partnerLossAdjustment?.length <= 0 else PLossAdjustment"></tr>
      <ng-template #PLossAdjustment>
        <tr *ngFor="let item of partnerLossAdjustment | filterHide:'PartnerAdjustment'" style="color:gray;">
          <td style="padding-left:2em !important;border:none;">Adjustment for losses</td>
          <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
            <span *ngIf="value.value == 0 else ec"> - </span>  <ng-template #ec> <span>${{value.value | number}} </span> </ng-template>
          </td>
        </tr>
      </ng-template>
      <tr>
        <td [attr.colspan]="period" style="border:none;border-bottom:1px solid #dbdbdb;"></td>
      </tr>
      <!--Gross tax payable-->
      <tr *ngIf="GrossTax?.length <= 0 else PartnerGrossTaxPayable"></tr>
      <ng-template #PartnerGrossTaxPayable>
        <tr style="font-weight:bold;" *ngFor="let item of GrossTax | filterHide:'PartnerGrossTax'">
          <td style="border:none;">{{item.name}}</td>
          <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
            <span *ngIf="value.value == 0 else gtp"> - </span>  <ng-template #gtp> <span>${{value.value | number}} </span> </ng-template>
          </td>
        </tr>
        <tr>
          <td [attr.colspan]="period" style="border:none;border-bottom:1px solid #dbdbdb;"></td>
        </tr>
      </ng-template>
      <!--Non-refundable tax offsets-->
      <tr *ngIf="partnerNRTaxOffset?.length <= 0 else partnerNRTaxOffsets"></tr>
      <ng-template #partnerNRTaxOffsets>
        <tr *ngFor="let item of partnerNRTaxOffset | filterHide:'PartnerLowIncomeTO'">
          <td style="border:none;padding-left:1em !important;">{{item.name}}</td>
          <td style="text-align:right;" *ngFor=" let value of item.values | keys">
            <span *ngIf="value.value == 0 else ec"> - </span>  <ng-template #ec> <span>${{value.value | number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngFor="let item of Pensiontotal | filterHide:'SIncomeTaxOffset-partner'">
          <td style="border:none;padding-left:1em !important;">{{item.name}}</td>
          <td style="text-align:right;" *ngFor=" let value of item.values | keys">
            <span *ngIf="value.value == 0 else cnr"> - </span>  <ng-template #cnr> <span>${{value.value | number}} </span> </ng-template>
          </td>
        </tr>
        <tr style="font-weight:bold;" *ngFor="let item of partnerNRTaxOffset | filterHide:'PartnerTotalTO'">
          <td style="border:none;">{{item.name}}</td>
          <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
            <span *ngIf="value.value == 0 else ti"> - </span>  <ng-template #ti> <span>${{value.value | number}} </span> </ng-template>
          </td>
        </tr>
        <tr>
          <td [attr.colspan]="period" style="border:none;border-bottom:1px solid #dbdbdb;"></td>
        </tr>
      </ng-template>
      <!--Refundable tax offsets-->
      <tr *ngIf="partnerRTaxOffset?.length <= 0 else partnerRTaxOffsets"></tr>
      <ng-template #partnerRTaxOffsets>
        <tr *ngFor="let item of partnerRTaxOffset | filterHide:'PartnerFrankingCredits'">
          <td style="border:none;padding-left:1em !important;">{{item.name}}</td>
          <td style="text-align:right;" *ngFor=" let value of item.values | keys">
            <span *ngIf="value.value == 0 else ec"> - </span>  <ng-template #ec> <span>${{value.value | number}} </span> </ng-template>
          </td>
        </tr>
        <tr style="font-weight:bold;" *ngFor="let item of partnerRTaxOffset | filterHide:'PartnerFrankingCredits'">
          <td style="border:none;">Total refundable tax offsets</td>
          <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
            <span *ngIf="value.value == 0 else ti"> - </span>  <ng-template #ti> <span>${{value.value | number}} </span> </ng-template>
          </td>
        </tr>
        <tr>
          <td [attr.colspan]="period" style="border:none;border-bottom:1px solid #dbdbdb;"></td>
        </tr>
      </ng-template>

      <!--Net tax payable-->
      <tr *ngIf="NetPayable?.length <= 0 else partnerTaxPayable"></tr>
      <ng-template #partnerTaxPayable>
        <tr style="color:gray;" *ngFor="let item of NetPayable | filterHide:'PartnerTPNonRefundable'">
          <td style="border:none;padding-left:1em !important;">{{item.name}}</td>
          <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
            <span *ngIf="value.value == 0 else ec"> - </span>  <ng-template #ec> <span>${{value.value | number}} </span> </ng-template>
          </td>
        </tr>
        <tr style="color:gray;" *ngFor="let item of NetPayable | filterHide:'PartnerTPRefundable'">
          <td style="border:none;padding-left:1em !important;">{{item.name}}</td>
          <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
            <span *ngIf="value.value == '0' else ctpt"> - </span>
            <ng-template #ctpt>
              <span *ngIf="value.value > 0 else ct">${{value.value | number}} </span>
              <ng-template #ct>
                <span> (${{value.value | positive | number  }}) </span>
              </ng-template>
            </ng-template>
          </td>
        </tr>
        <tr style="font-weight:bold;" *ngFor="let item of NetPayable | filterHide:'PartnerTPRefundable'">
          <td style="border:none;">Net tax payable</td>
          <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
            <span *ngIf="value.value == 0 else ct"> - </span>
            <ng-template #ct>
              <span *ngIf="value.value > 0 else ctn">${{value.value | number}} </span>
              <ng-template #ctn>
                <span> (${{value.value | positive | number  }}) </span>
              </ng-template>
            </ng-template>
          </td>
        </tr>
        <tr>
          <td [attr.colspan]="period" style="border:none;border-bottom:1px solid #dbdbdb;"></td>
        </tr>
      </ng-template>
      <!--Medicare levy-->
      <tr *ngIf="partnerMedicareLevy?.length <= 0 else partnerMedicareLevys"></tr>
      <ng-template #partnerMedicareLevys>
        <tr *ngFor="let item of partnerMedicareLevy | filterHide:'PartnerMedicareLevy'">
          <td style="border:none;padding-left:1em !important;">{{item.name}}</td>
          <td style="text-align:right;" *ngFor=" let value of item.values | keys">
            <span *ngIf="value.value == 0 else ec"> - </span>  <ng-template #ec> <span>${{value.value | number}} </span> </ng-template>
          </td>
        </tr>
        <tr style="font-weight:bold;" *ngFor="let item of partnerMedicareLevy | filterHide:'PartnerMedicareLevy'">
          <td style="border:none;">Medicare levy payable</td>
          <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
            <span *ngIf="value.value == 0 else ti"> - </span>  <ng-template #ti> <span>${{value.value | number}} </span> </ng-template>
          </td>
        </tr>
        <tr>
          <td [attr.colspan]="period" style="border:none;border-bottom:1px solid #dbdbdb;"></td>
        </tr>
      </ng-template>
      <!--Total tax payable-->
      <tr *ngIf="TotalPayable?.length <= 0 else partnerTotalPayable"></tr>
      <ng-template #partnerTotalPayable>
        <tr style="font-weight:bold;" *ngFor="let item of TotalPayable | filterHide:'PartnerTotalTaxPayable'">
          <td style="border:none;">{{item.name}}</td>
          <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
            <span *ngIf="value.value == 0 else ti"> - </span>  <ng-template #ti> <span>${{value.value | number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngFor="let item of TotalPayable | filterHide:'PartnerAverageTaxRate'">
          <td style="border:none;padding-left:2em !important;font-style:oblique;">{{item.name}}</td>
          <td style="border:none;font-style:oblique;text-align:right;" *ngFor=" let value of item.values | keys">
            <span>{{value.value | number}}% </span>
          </td>
        </tr>
        <tr *ngFor="let item of TotalPayable | filterHide:'PartnerMarginalTaxRate'">
          <td style="border:none;padding-left:2em !important;font-style:oblique;">{{item.name}}</td>
          <td style="border:none;font-style:oblique;" *ngFor=" let value of item.values | keys">
            <span>{{value.value | number}}% </span>
          </td>
        </tr>
        <tr>
          <td [attr.colspan]="period" style="border:none;border-bottom:1px solid #dbdbdb;"></td>
        </tr>
      </ng-template>
      <!--<tr class="header">
          <td [attr.colspan]="period"></td>
      </tr>-->
    </ng-container>
  </tbody>
</table>
<div style="float:right" *ngIf="(projection == 'tax' )">
  <a (click)="onPreviousTX()" class="previous">&laquo; Previous</a>
  <a (click)="onNextTX()" class="next">Next &raquo;</a>
</div>
<table class="table" *ngIf="(projection == 'financialAssets' ) " style="margin-top:30px;">
  <tbody>
    <tr style="background-color:#8f8f8f;color:white">
      <th style="min-width:250px !important;"></th>
      <th style="text-align:center;" *ngFor="let year of years">1/7/{{year}}</th>
    </tr>
    <tr style="color:gray">
      <td style="border:none;"> Age - {{clientDetails.clientName}}</td>
      <td style="border:none;text-align:center;" *ngFor="let year of years;let index = index">
        <span *ngIf="year == clientRetirementYear else ageC">  {{index + clientAge }} [R] </span>  <ng-template #ageC> <span>{{index + clientAge }}</span> </ng-template>
      </td>
    </tr>
    <tr style="color:gray" *ngIf="clientDetails.maritalStatus == 'M'">
      <td style="border:none;"> Age - {{clientDetails.partnerName}}</td>
      <td style="border:none;text-align:center;" *ngFor="let year of years;let index = index">
        <span *ngIf="year == partnerRetirementYear else ageP"> {{index + partnerAge }} [R] </span>  <ng-template #ageP> <span>{{index + partnerAge }}</span> </ng-template>
      </td>
    </tr>
    <tr style="height:40px;">
      <td [attr.colspan]="period"></td>
    </tr>

    <!--Summary-->
    <tr class="header">
      <td style="border:none;font-weight:bold;" [attr.colspan]="period"> SUMMARY </td>
    </tr>
    <tr style="background:#f18b43;">
      <td [attr.colspan]="period" style="padding:0 !important;height:3px;"></td>
    </tr>
    <!--Investment-->
    <tr *ngIf="investmentClient?.length <= 0 else clientInvestmentsSummary"></tr>
    <ng-template #clientInvestmentsSummary>
      <ng-container *ngFor="let item of investmentClient">
        <tr *ngFor="let endingVal of BeginningValue | filterFurther:'Client':item.investmentId:'endingValues'">
          <td style="border:none;">{{item.name}} - {{clientDetails.clientName}}</td>
          <td style="border:none;text-align:right;" *ngFor=" let endv of endingVal.endingValues | keys">
            <span *ngIf="endv.value == 0 else endingValInvestment"> - </span>  <ng-template #endingValInvestment> <span>${{endv.value| number}} </span> </ng-template>
          </td>
        </tr>
      </ng-container>
    </ng-template>
    <tr *ngIf="investmentPartner?.length <= 0 else partnerInvestmentsSummary"></tr>
    <ng-template #partnerInvestmentsSummary>
      <ng-container *ngFor="let item of investmentPartner">
        <tr *ngFor="let endingVal of BeginningValue | filterFurther:'Partner':item.investmentId:'endingValues'">
          <td style="border:none;">{{item.name}} - {{clientDetails.partnerName}}</td>
          <td style="border:none;text-align:right;" *ngFor=" let endv of endingVal.endingValues | keys">
            <span *ngIf="endv.value == 0 else endingValInvestment"> - </span>  <ng-template #endingValInvestment> <span>${{endv.value| number}} </span> </ng-template>
          </td>
        </tr>
      </ng-container>
    </ng-template>
    <tr *ngIf="investmentJoint?.length <= 0 else jointInvestmentsSummary"></tr>
    <ng-template #jointInvestmentsSummary>
      <ng-container *ngFor="let item of investmentJoint">
        <tr *ngFor="let endingVal of BeginningValue | filterFurther:'Joint':item.investmentId:'endingValues'">
          <td style="border:none;">{{item.name}} - Joint</td>
          <td style="border:none;text-align:right;" *ngFor=" let endv of endingVal.endingValues | keys">
            <span *ngIf="endv.value == 0 else endingValInvestment"> - </span>  <ng-template #endingValInvestment> <span>${{endv.value| number}} </span> </ng-template>
          </td>
        </tr>
      </ng-container>
    </ng-template>

    <!--Property-->
    <tr *ngIf="propertiesClient?.length <= 0 else clientPropertiesSummary"></tr>
    <ng-template #clientPropertiesSummary>
      <ng-container *ngFor="let item of propertiesClient">
        <tr *ngFor="let endingVal of PropertiesValue | filterFurther:'Client':item.propertyId:'endingValues'">
          <td style="border:none;">{{item.name}} - {{clientDetails.clientName}}</td>
          <td style="border:none;text-align:right;" *ngFor=" let endv of endingVal.endingValues | keys">
            <span *ngIf="endv.value == 0 else endingValProperty"> - </span>  <ng-template #endingValProperty> <span>${{endv.value| number}} </span> </ng-template>
          </td>
        </tr>
      </ng-container>
    </ng-template>
    <tr *ngIf="propertiesPartner?.length <= 0 else partnerPropertiesSummary"></tr>
    <ng-template #partnerPropertiesSummary>
      <ng-container *ngFor="let item of propertiesPartner">
        <tr *ngFor="let endingVal of PropertiesValue | filterFurther:'Partner':item.propertyId:'endingValues'">
          <td style="border:none;">{{item.name}} - {{clientDetails.partnerName}}</td>
          <td style="border:none;text-align:right;" *ngFor=" let endv of endingVal.endingValues | keys">
            <span *ngIf="endv.value == 0 else endingValProperty"> - </span>  <ng-template #endingValProperty> <span>${{endv.value| number}} </span> </ng-template>
          </td>
        </tr>
      </ng-container>
    </ng-template>
    <tr *ngIf="propertiesJoint?.length <= 0 else jointPropertiesSummary"></tr>
    <ng-template #jointPropertiesSummary>
      <ng-container *ngFor="let item of propertiesJoint">
        <tr *ngFor="let endingVal of PropertiesValue | filterFurther:'Joint':item.propertyId:'endingValues'">
          <td style="border:none;">{{item.name}} - Joint</td>
          <td style="border:none;text-align:right;" *ngFor=" let endv of endingVal.endingValues | keys">
            <span *ngIf="endv.value == 0 else endingValProperty"> - </span>  <ng-template #endingValProperty> <span>${{endv.value| number}} </span> </ng-template>
          </td>
        </tr>
      </ng-container>
    </ng-template>
    <!--Super-->
    <tr *ngIf="superClient?.length <= 0 else clientSupersSummary"></tr>
    <ng-template #clientSupersSummary>
      <ng-container *ngFor="let item of superClient">
        <tr *ngFor="let endingVal of SuperValue | filterFurther:'Client':item.superId:'endingValues'">
          <td style="border:none;">{{item.name}} - {{clientDetails.clientName}}</td>
          <td style="border:none;text-align:right;" *ngFor=" let endv of endingVal.endingValues | keys">
            <span *ngIf="endv.value == 0 else endingValSuper"> - </span>  <ng-template #endingValSuper> <span>${{endv.value| number}} </span> </ng-template>
          </td>
        </tr>
      </ng-container>
    </ng-template>
    <tr *ngIf="superPartner?.length <= 0 else partnerSupersummary"></tr>
    <ng-template #partnerSupersummary>
      <ng-container *ngFor="let item of superPartner">
        <tr *ngFor="let endingVal of SuperValue | filterFurther:'Partner':item.superId:'endingValues'">
          <td style="border:none;">{{item.name}} - {{clientDetails.partnerName}}</td>
          <td style="border:none;text-align:right;" *ngFor=" let endv of endingVal.endingValues | keys">
            <span *ngIf="endv.value == 0 else endingValSuper"> - </span>  <ng-template #endingValSuper> <span>${{endv.value| number}} </span> </ng-template>
          </td>
        </tr>
      </ng-container>
    </ng-template>
    <!--Pension-->
    <tr *ngIf="pensionClient?.length <= 0 else clientPensionsSummary"></tr>
    <ng-template #clientPensionsSummary>
      <ng-container *ngFor="let item of pensionClient">
        <tr *ngFor="let endingVal of PensionValue | filterFurther:'Client':item.pensionId:'endingValues'">
          <td style="border:none;">{{item.name}} - {{clientDetails.clientName}}</td>
          <td style="border:none;text-align:right;" *ngFor=" let endv of endingVal.endingValues | keys">
            <span *ngIf="endv.value == 0 else endingValPension"> - </span>  <ng-template #endingValPension> <span>${{endv.value| number}} </span> </ng-template>
          </td>
        </tr>
      </ng-container>
    </ng-template>
    <tr *ngIf="pensionPartner?.length <= 0 else partnerPensionsSummary"></tr>
    <ng-template #partnerPensionsSummary>
      <ng-container *ngFor="let item of pensionPartner">
        <tr *ngFor="let endingVal of PensionValue | filterFurther:'Partner':item.pensionId:'endingValues'">
          <td style="border:none;">{{item.name}} - {{clientDetails.partnerName}}</td>
          <td style="border:none;text-align:right;" *ngFor=" let endv of endingVal.endingValues | keys">
            <span *ngIf="endv.value == 0 else endingValPension"> - </span>  <ng-template #endingValPension> <span>${{endv.value| number}} </span> </ng-template>
          </td>
        </tr>
      </ng-container>
    </ng-template>

    <tr style="height:50px;" [attr.colspan]="period"></tr>
    <!--End------------------------------------------------------------------------------------------------------------------>




    <tr class="header" style="margin-top:30px;">
      <td style="border:none;font-weight:bold;" [attr.colspan]="period"> ASSETS <span class="glyphicon glyphicon-chevron-up" style="left:90%;"></span></td>
    </tr>
    <tr style="background:#f18b43;">
      <td [attr.colspan]="period" style="padding:0 !important;height:3px;"></td>
    </tr>
    <!--Client-->
    <tr *ngIf="lifestyles?.length <= 0 else LAsset"></tr>
    <ng-template #LAsset>
      <tr *ngFor="let item of lifestyles | filter:'Client'" style="color:gray;">

        <td style="padding-left:2em !important;border:none;">{{item.name}} - {{clientDetails.clientName}} </td>
        <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
          <span *ngIf="value.value == 0 else ic"> - </span>  <ng-template #ic> <span>${{value.value | number}} </span> </ng-template>
        </td>
      </tr>
      <tr *ngFor="let item of lifestyles | filter:'Partner'" style="color:gray;">
        <td style="padding-left:2em !important;border:none;">{{item.name}} - {{clientDetails.partnerName}} </td>
        <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
          <span *ngIf="value.value == 0 else ic"> - </span>  <ng-template #ic> <span>${{value.value | number}} </span> </ng-template>
        </td>
      </tr>
      <tr *ngFor="let item of lifestyles | filter:'Joint'" style="color:gray;">
        <td style="padding-left:2em !important;border:none;">{{item.name}} - Joint </td>
        <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
          <span *ngIf="value.value == 0 else ic"> - </span>  <ng-template #ic> <span>${{value.value | number}} </span> </ng-template>
        </td>
      </tr>
    </ng-template>
    <tr *ngIf="investmentClient?.length <= 0 else clientInvestments"></tr>
    <ng-template #clientInvestments>
      <ng-container *ngFor="let item of investmentClient">
        <tr style="font-weight:bold;background:#9d9b9b1c;">
          <td style="border-bottom:1px solid #dbdbdb;">{{item.name}} - {{clientDetails.clientName}} </td>
          <td [attr.colspan]="period - 1" style="border-bottom:1px solid #dbdbdb;"></td>
        </tr>
        <tr *ngFor="let beg of BeginningValue | filterFurther:'Client':item.investmentId:'BegValues'">
          <td style="border:none;">{{beg.name}}</td>
          <td style="border:none;text-align:right;" *ngFor=" let value of beg.BegValues | keys">
            <span *ngIf="value.value == 0 else begInvestment"> - </span>  <ng-template #begInvestment> <span>${{value.value| number}} </span> </ng-template>
          </td>
        </tr>

        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>
        <tr *ngFor="let earnings of BeginningValue | filterFurther:'Client':item.investmentId">
          <td style="border:none;">Earnings</td>
          <td [attr.colspan]="period - 1" style="border:none;"></td>
        </tr>
        <tr *ngFor="let growth of BeginningValue | filterFurther:'Client':item.investmentId:'growthValues'" style="color:gray">
          <td style="padding-left:2em !important;border:none;">Growth</td>
          <td style="border:none;text-align:right;" *ngFor=" let g of growth.growthValues | keys">
            <span *ngIf="g.value == 0 else growthInvestment"> - </span>  <ng-template #growthInvestment> <span>${{g.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngFor="let income of BeginningValue | filterFurther:'Client':item.investmentId:'incomeValues'" style="color:gray">
          <td style="padding-left:2em !important;border:none;">Income</td>
          <td style="border:none;text-align:right;" *ngFor=" let i of income.incomeValues | keys">
            <span *ngIf="i.value == 0 else incomeInvestment"> - </span>  <ng-template #incomeInvestment> <span>${{i.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngFor="let incomePaidOut of BeginningValue | filterFurther:'Client':item.investmentId:'incomePaidOutValues'" style="color:gray">
          <td style="padding-left:4em !important;border:none;">Income paid out</td>
          <td style="border:none;text-align:right;" *ngFor=" let ipv of incomePaidOut.incomePaidOutValues | keys">
            <span *ngIf="ipv.value == 0 else incomePaidValueInvestment"> - </span>  <ng-template #incomePaidValueInvestment> <span>$({{ipv.value| number}}) </span> </ng-template>
          </td>
        </tr>
        <!--<tr *ngFor="let frankingCredits of BeginningValue | filterFurther:'Client':item.investmentId" style="color:gray">
            <td style="padding-left:4em !important;border:none;font-style:italic;">Franking credits</td>
            <td style="border:none;" *ngFor=" let fc of frankingCredits.frankingCreditsValues | keys">
                <span *ngIf="fc.value == 0 else frankingCreditsInvestment" style="font-style:italic;"> 0 </span>
                <ng-template #frankingCreditsInvestment>
                    <span style="font-style:italic;" *ngIf="fc.value > 0 else neg">${{fc.value | number}} </span>
                    <ng-template #neg>
                        <span style="font-style:italic;"> (${{fc.value | positive | number  }}) </span>
                    </ng-template>
                </ng-template>
            </td>
        </tr>-->
        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>
        <tr *ngFor="let contributions of BeginningValue | filterFurther:'Client':item.investmentId">
          <td style="border:none;">Contributions</td>
          <td [attr.colspan]="period - 1" style="border:none;"></td>
        </tr>
        <tr *ngFor="let regularContributions of BeginningValue | filterFurther:'Client':item.investmentId:'regularContributionsValues'" style="color:gray">
          <td style="padding-left:2em !important;border:none;">Regular Contributions</td>
          <td style="border:none;text-align:right;" *ngFor=" let rcntb of regularContributions.regularContributionsValues | keys">
            <span *ngIf="rcntb.value == 0 else regContributionInvestment"> - </span>  <ng-template #regContributionInvestment> <span>${{rcntb.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngFor="let purchaseOfAsset of BeginningValue | filterFurther:'Client':item.investmentId:'purchaseOfAssetValues'" style="color:gray">
          <td style="padding-left:2em !important;border:none;">Purchase of asset</td>
          <td style="border:none;text-align:right;" *ngFor=" let poa of purchaseOfAsset.purchaseOfAssetValues | keys">
            <span *ngIf="poa.value == 0 else poaInvestment"> - </span>  <ng-template #poaInvestment> <span>${{poa.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>
        <tr *ngFor="let withdrawals of BeginningValue | filterFurther:'Client':item.investmentId">
          <td style="border:none;">Withdrawals</td>
          <td [attr.colspan]="period - 1" style="border:none;"></td>

        </tr>
        <tr *ngFor="let regularWithdrawals of BeginningValue | filterFurther:'Client':item.investmentId:'regularWithdrawalsValues'" style="color:gray">
          <td style="padding-left:2em !important;border:none;">Regular Withdrawals</td>
          <td style="border:none;text-align:right;" *ngFor=" let rwtdl of regularWithdrawals.regularWithdrawalsValues | keys">
            <span *ngIf="rwtdl.value == 0 else regWithdrawalInvestment"> - </span>  <ng-template #regWithdrawalInvestment> <span>${{rwtdl.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngFor="let saleOfAsset of BeginningValue | filterFurther:'Client':item.investmentId:'saleOfAssetValues'" style="color:gray">
          <td style="padding-left:2em !important;border:none;">Sale of asset</td>
          <td style="border:none;text-align:right;" *ngFor=" let soa of saleOfAsset.saleOfAssetValues | keys">
            <span *ngIf="soa.value == 0 else soaInvestment"> - </span>  <ng-template #soaInvestment> <span>${{soa.value| number}} </span> </ng-template>
          </td>
        </tr>

        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>
        <tr *ngFor="let sup of BeginningValue | filterFurther:'Client':item.investmentId:'cashFlowValues'">
          <td style="border:none;">Surplus Cash flow</td>
          <td style="border:none;text-align:right;" *ngFor=" let value of sup.cashFlowValues | keys">
            <span *ngIf="value.value == 0 else begCS"> - </span>  <ng-template #begCS> <span>${{value.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngFor="let endingVal of BeginningValue | filterFurtherAllowZero:'Client':item.investmentId:'endingValues'">
          <td style="border:none;font-weight:bold">Closing Value</td>
          <td style="border:none;font-weight:bold;text-align:right;" *ngFor=" let endv of endingVal.endingValues | keys">
            <span *ngIf="endv.value == 0 else endingValInvestment"> - </span>  <ng-template #endingValInvestment> <span>${{endv.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngFor="let endingValPV of BeginningValue | filterFurtherAllowZero:'Client':item.investmentId:'endingValuesPV'" style="color:gray">
          <td style="padding-left:2em !important;border:none;">Closing Value (PV)</td>
          <td style="border:none;text-align:right;" *ngFor=" let pv of endingValPV.endingValuesPV | keys">
            <span *ngIf="pv.value == 0 else pvInvestment"> - </span>  <ng-template #pvInvestment> <span>${{pv.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>
        <tr *ngFor="let unrealCG of BeginningValue | filterFurther:'Client':item.investmentId:'unrealCGValues'" style="color:gray;">
          <td style="border:none;font-style:italic;">Unrealised capital gains</td>
          <td style="border:none;font-style:italic;text-align:right;" *ngFor=" let unrcg of unrealCG.unrealCGValues | keys">
            <span *ngIf="unrcg.value == 0 else unrcgInvestment"> - </span>  <ng-template #unrcgInvestment> <span>${{unrcg.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngFor="let realCG of BeginningValue | filterFurther:'Client':item.investmentId:'realCGValues'" style="color:gray;">
          <td style="border:none;font-style:italic;">Realised capital gains</td>
          <td style="border:none;font-style:italic;text-align:right;" *ngFor=" let rcg of realCG.realCGValues | keys">
            <span *ngIf="rcg.value == 0 else rcgInvestment"> - </span>  <ng-template #rcgInvestment> <span>${{rcg.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>
      </ng-container>

    </ng-template>

    <tr *ngIf="investmentPartner?.length <= 0 else partnerInvestments"></tr>
    <ng-template #partnerInvestments>
      <ng-container *ngFor="let item of investmentPartner">
        <tr style="font-weight:bold;background:#9d9b9b1c;">
          <td style="border-bottom:1px solid #dbdbdb;">{{item.name}} - {{clientDetails.partnerName}}</td>
          <td [attr.colspan]="period - 1" style="border-bottom:1px solid #dbdbdb;"></td>
        </tr>
        <tr *ngFor="let beg of BeginningValue | filterFurther:'Partner':item.investmentId:'BegValues'">
          <td style="border:none;">{{beg.name}}</td>
          <td style="border:none;text-align:right;" *ngFor=" let value of beg.BegValues | keys">
            <span *ngIf="value.value == 0 else begInvestment"> - </span>  <ng-template #begInvestment> <span>${{value.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr style="height:20px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>
        <tr *ngFor="let earnings of BeginningValue | filterFurther:'Partner':item.investmentId">
          <td style="border:none;text-align:right;">Earnings</td>
          <td [attr.colspan]="period - 1" style="border:none;"></td>

        </tr>
        <tr *ngFor="let growth of BeginningValue | filterFurther:'Partner':item.investmentId:'growthValues'" style="color:gray">
          <td style="padding-left:2em !important;border:none;">Growth</td>
          <td style="border:none;text-align:right;" *ngFor=" let g of growth.growthValues | keys">
            <span *ngIf="g.value == 0 else growthInvestment"> - </span>  <ng-template #growthInvestment> <span>${{g.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngFor="let income of BeginningValue | filterFurther:'Partner':item.investmentId:'incomeValues'" style="color:gray">
          <td style="padding-left:2em !important;border:none;">Income</td>
          <td style="border:none;text-align:right;" *ngFor=" let i of income.incomeValues | keys">
            <span *ngIf="i.value == 0 else incomeInvestment"> - </span>  <ng-template #incomeInvestment> <span>${{i.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngFor="let incomePaidOut of BeginningValue | filterFurther:'Partner':item.investmentId:'incomePaidOutValues'" style="color:gray">
          <td style="padding-left:4em !important;border:none;">Income paid out</td>
          <td style="border:none;text-align:right;" *ngFor=" let ipv of incomePaidOut.incomePaidOutValues | keys">
            <span *ngIf="ipv.value == 0 else incomePaidValueInvestment"> - </span>  <ng-template #incomePaidValueInvestment> <span>(${{ipv.value| number}})</span> </ng-template>
          </td>
        </tr>
        <!--<tr *ngFor="let frankingCredits of BeginningValue | filterFurther:'Partner':item.investmentId" style="color:gray">
            <td style="padding-left:4em !important;border:none;font-style:italic">Franking credits</td>
            <td style="border:none;font-style:italic;" *ngFor=" let fc of frankingCredits.frankingCreditsValues | keys">
                <span style="font-style:italic" *ngIf="fc.value == 0 else frankingCreditsInvestment"> 0 </span>
                <ng-template #frankingCreditsInvestment>
                    <span style="font-style:italic" *ngIf="fc.value > 0 else neg">${{fc.value | number}} </span>
                    <ng-template #neg>
                        <span style="font-style:italic"> (${{fc.value | positive | number  }}) </span>
                    </ng-template>
                </ng-template>
            </td>
        </tr>-->
        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>
        <tr *ngFor="let contributions of BeginningValue | filterFurther:'Partner':item.investmentId">
          <td style="border:none;">Contributions</td>
          <td [attr.colspan]="period - 1" style="border:none;"></td>

        </tr>
        <tr *ngFor="let regularContributions of BeginningValue | filterFurther:'Partner':item.investmentId:'regularContributionsValues'" style="color:gray">
          <td style="padding-left:2em !important;border:none;">Regular Contributions</td>
          <td style="border:none;text-align:right;" *ngFor=" let rcntb of regularContributions.regularContributionsValues | keys">
            <span *ngIf="rcntb.value == 0 else regContributionInvestment"> - </span>  <ng-template #regContributionInvestment> <span>${{rcntb.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngFor="let purchaseOfAsset of BeginningValue | filterFurther:'Partner':item.investmentId:'purchaseOfAssetValues'" style="color:gray">
          <td style="padding-left:2em !important;border:none;">Purchase of asset</td>
          <td style="border:none;text-align:right;" *ngFor=" let poa of purchaseOfAsset.purchaseOfAssetValues | keys">
            <span *ngIf="poa.value == 0 else poaInvestment"> - </span>  <ng-template #poaInvestment> <span>${{poa.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>
        <tr *ngFor="let withdrawals of BeginningValue | filterFurther:'Partner':item.investmentId">
          <td style="border:none;">Withdrawals</td>
          <td [attr.colspan]="period - 1" style="border:none;"></td>

        </tr>
        <tr *ngFor="let regularWithdrawals of BeginningValue | filterFurther:'Partner':item.investmentId:'regularWithdrawalsValues'" style="color:gray">
          <td style="padding-left:2em !important;border:none;">Regular Withdrawals</td>
          <td style="border:none;text-align:right;" *ngFor=" let rwtdl of regularWithdrawals.regularWithdrawalsValues | keys">
            <span *ngIf="rwtdl.value == 0 else regWithdrawalInvestment"> - </span>  <ng-template #regWithdrawalInvestment> <span>${{rwtdl.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngFor="let saleOfAsset of BeginningValue | filterFurther:'Partner':item.investmentId:'saleOfAssetValues'" style="color:gray">
          <td style="padding-left:2em !important;border:none;">Sale of asset</td>
          <td style="border:none;text-align:right;" *ngFor=" let soa of saleOfAsset.saleOfAssetValues | keys">
            <span *ngIf="soa.value == 0 else soaInvestment"> - </span>  <ng-template #soaInvestment> <span>${{soa.value| number}} </span> </ng-template>
          </td>
        </tr>

        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>
        <tr *ngFor="let endingVal of BeginningValue | filterFurtherAllowZero:'Partner':item.investmentId:'endingValues'">
          <td style="border:none;font-weight:bold">Closing Value</td>
          <td style="border:none;font-weight:bold;text-align:right;" *ngFor=" let endv of endingVal.endingValues | keys">
            <span *ngIf="endv.value == 0 else endingValInvestment"> - </span>  <ng-template #endingValInvestment> <span>${{endv.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngFor="let endingValPV of BeginningValue | filterFurtherAllowZero:'Partner':item.investmentId:'endingValuesPV'" style="color:gray">
          <td style="padding-left:2em !important;border:none;">Closing Value (PV)</td>
          <td style="border:none;text-align:right;" *ngFor=" let pv of endingValPV.endingValuesPV | keys">
            <span *ngIf="pv.value == 0 else pvInvestment"> - </span>  <ng-template #pvInvestment> <span>${{pv.value| number}} </span> </ng-template>
          </td>
        </tr>

        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>
        <tr *ngFor="let unrealCG of BeginningValue | filterFurther:'Partner':item.investmentId:'unrealCGValues'" style="color:gray;">
          <td style="border:none;font-style:italic">Unrealised capital gains</td>
          <td style="border:none;font-style:italic;text-align:right;" *ngFor=" let unrcg of unrealCG.unrealCGValues | keys">
            <span *ngIf="unrcg.value == 0 else unrcgInvestment"> - </span>  <ng-template #unrcgInvestment> <span>${{unrcg.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngFor="let realCG of BeginningValue | filterFurther:'Partner':item.investmentId:'realCGValues'" style="color:gray">
          <td style="border:none;font-style:italic">Realised capital gains</td>
          <td style="border:none;font-style:italic;text-align:right;" *ngFor=" let rcg of realCG.realCGValues | keys">
            <span *ngIf="rcg.value == 0 else rcgInvestment"> - </span>  <ng-template #rcgInvestment> <span>${{rcg.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>
      </ng-container>

    </ng-template>

    <tr *ngIf="investmentJoint?.length <= 0 else jointInvestments"></tr>
    <ng-template #jointInvestments>
      <ng-container *ngFor="let item of investmentJoint">
        <tr style="font-weight:bold;background:#9d9b9b1c;">
          <td style="border-bottom:1px solid #dbdbdb;">{{item.name}} - Joint</td>
          <td [attr.colspan]="period - 1" style="border-bottom:1px solid #dbdbdb;"></td>
        </tr>
        <tr *ngFor="let beg of BeginningValue | filterFurther:'Joint':item.investmentId:'BegValues'">
          <td style="border:none;">{{beg.name}}</td>
          <td style="border:none;text-align:right;" *ngFor=" let value of beg.BegValues | keys">
            <span *ngIf="value.value == 0 else begInvestment"> - </span>  <ng-template #begInvestment> <span>${{value.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr style="height:20px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>
        <tr *ngFor="let earnings of BeginningValue | filterFurther:'Joint':item.investmentId">
          <td style="border:none;">Earnings</td>
          <td [attr.colspan]="period - 1" style="border:none;"></td>

        </tr>
        <tr *ngFor="let growth of BeginningValue | filterFurther:'Joint':item.investmentId:'growthValues'" style="color:gray">
          <td style="padding-left:2em !important;border:none;">Growth</td>
          <td style="border:none;text-align:right;" *ngFor=" let g of growth.growthValues | keys">
            <span *ngIf="g.value == 0 else growthInvestment"> - </span>  <ng-template #growthInvestment> <span>${{g.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngFor="let income of BeginningValue | filterFurther:'Joint':item.investmentId:'incomeValues'" style="color:gray">
          <td style="padding-left:2em !important;border:none;">Income</td>
          <td style="border:none;text-align:right;" *ngFor=" let i of income.incomeValues | keys">
            <span *ngIf="i.value == 0 else incomeInvestment"> - </span>  <ng-template #incomeInvestment> <span>${{i.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngFor="let incomePaidOut of BeginningValue | filterFurther:'Joint':item.investmentId:'incomePaidOutValues'" style="color:gray">
          <td style="padding-left:4em !important;border:none;">Income paid out</td>
          <td style="border:none;text-align:right;" *ngFor=" let ipv of incomePaidOut.incomePaidOutValues | keys">
            <span *ngIf="ipv.value == 0 else incomePaidValueInvestment"> - </span>  <ng-template #incomePaidValueInvestment> <span>$({{ipv.value| number}}) </span> </ng-template>
          </td>
        </tr>
        <!--<tr *ngFor="let frankingCredits of BeginningValue | filterFurther:'Joint':item.investmentId" style="color:gray">
            <td style="padding-left:4em !important;border:none;font-style:italic">Franking credits</td>
            <td style="border:none;font-style:italic" *ngFor=" let fc of frankingCredits.frankingCreditsValues | keys">
                <span style="font-style:italic" *ngIf="fc.value == 0 else frankingCreditsInvestment"> 0 </span>
                <ng-template #frankingCreditsInvestment>
                    <span style="font-style:italic" *ngIf="fc.value > 0 else neg">${{fc.value | number}} </span>
                    <ng-template #neg>
                        <span style="font-style:italic"> (${{fc.value | positive | number  }}) </span>
                    </ng-template>
                </ng-template>
            </td>
        </tr>-->
        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>
        <tr *ngFor="let contributions of BeginningValue | filterFurther:'Joint':item.investmentId">
          <td style="border:none;">Contributions</td>
          <td [attr.colspan]="period - 1" style="border:none;"></td>

        </tr>
        <tr *ngFor="let regularContributions of BeginningValue | filterFurther:'Joint':item.investmentId:'regularContributionsValues'" style="color:gray">
          <td style="padding-left:2em !important;border:none;">Regular Contributions</td>
          <td style="border:none;text-align:right;" *ngFor=" let rcntb of regularContributions.regularContributionsValues | keys">
            <span *ngIf="rcntb.value == 0 else regContributionInvestment"> - </span>  <ng-template #regContributionInvestment> <span>${{rcntb.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngFor="let purchaseOfAsset of BeginningValue | filterFurther:'Joint':item.investmentId:'purchaseOfAssetValues'" style="color:gray">
          <td style="padding-left:2em !important;border:none;">Purchase of asset</td>
          <td style="border:none;text-align:right;" *ngFor=" let poa of purchaseOfAsset.purchaseOfAssetValues | keys">
            <span *ngIf="poa.value == 0 else poaInvestment"> - </span>  <ng-template #poaInvestment> <span>${{poa.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>
        <tr *ngFor="let withdrawals of BeginningValue | filterFurther:'Joint':item.investmentId">
          <td style="border:none;">Withdrawals</td>
          <td [attr.colspan]="period - 1" style="border:none;"></td>

        </tr>
        <tr *ngFor="let regularWithdrawals of BeginningValue | filterFurther:'Joint':item.investmentId:'regularWithdrawalsValues'" style="color:gray">
          <td style="padding-left:2em !important;border:none;">Regular Withdrawals</td>
          <td style="border:none;text-align:right;" *ngFor=" let rwtdl of regularWithdrawals.regularWithdrawalsValues | keys">
            <span *ngIf="rwtdl.value == 0 else regWithdrawalInvestment"> - </span>  <ng-template #regWithdrawalInvestment> <span>${{rwtdl.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngFor="let saleOfAsset of BeginningValue | filterFurther:'Joint':item.investmentId:'saleOfAssetValues'" style="color:gray">
          <td style="padding-left:2em !important;border:none;">Sale of asset</td>
          <td style="border:none;text-align:right;" *ngFor=" let soa of saleOfAsset.saleOfAssetValues | keys">
            <span *ngIf="soa.value == 0 else soaInvestment"> - </span>  <ng-template #soaInvestment> <span>${{soa.value| number}} </span> </ng-template>
          </td>
        </tr>

        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>
        <tr *ngFor="let endingVal of BeginningValue | filterFurtherAllowZero:'Joint':item.investmentId:'endingValues'">
          <td style="border:none;font-weight:bold">Closing Value</td>
          <td style="border:none;font-weight:bold;text-align:right;" *ngFor=" let endv of endingVal.endingValues | keys">
            <span *ngIf="endv.value == 0 else endingValInvestment"> - </span>  <ng-template #endingValInvestment> <span>${{endv.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngFor="let endingValPV of BeginningValue | filterFurtherAllowZero:'Joint':item.investmentId:'endingValuesPV'" style="color:gray">
          <td style="padding-left:2em !important;border:none;">Closing Value (PV)</td>
          <td style="border:none;text-align:right;" *ngFor=" let pv of endingValPV.endingValuesPV | keys">
            <span *ngIf="pv.value == 0 else pvInvestment"> - </span>  <ng-template #pvInvestment> <span>${{pv.value| number}} </span> </ng-template>
          </td>
        </tr>

        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>
        <tr *ngFor="let unrealCG of BeginningValue | filterFurther:'Joint':item.investmentId:'unrealCGValues'" style="color:gray">
          <td style="border:none;font-style:italic">Unrealised capital gains</td>
          <td style="border:none;font-style:italic;text-align:right;" *ngFor=" let unrcg of unrealCG.unrealCGValues | keys">
            <span *ngIf="unrcg.value == 0 else unrcgInvestment"> - </span>  <ng-template #unrcgInvestment> <span>${{unrcg.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngFor="let realCG of BeginningValue | filterFurther:'Joint':item.investmentId:'realCGValues'" style="color:gray">
          <td style="border:none;font-style:italic">Realised capital gains</td>
          <td style="border:none;font-style:italic;text-align:right;" *ngFor=" let rcg of realCG.realCGValues | keys">
            <span *ngIf="rcg.value == 0 else rcgInvestment"> - </span>  <ng-template #rcgInvestment> <span>${{rcg.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>
      </ng-container>

    </ng-template>


    <tr *ngIf="propertiesClient?.length <= 0 else propertiesClients"></tr>
    <ng-template #propertiesClients>
      <ng-container *ngFor="let item of propertiesClient">
        <tr style="font-weight:bold;background:#9d9b9b1c;">
          <td style="border-bottom:1px solid #dbdbdb;">{{item.name}} - {{clientDetails.clientName}} </td>
          <td [attr.colspan]="period - 1" style="border-bottom:1px solid #dbdbdb;"></td>
        </tr>
        <tr *ngFor="let prop of PropertiesValue | filterFurther:'Client':item.propertyId:'BegValues'">
          <td style="border:none;">Opening Value</td>
          <td style="border:none;text-align:right;" *ngFor=" let value of prop.BegValues | keys">
            <span *ngIf="value.value == 0 else begProperty"> - </span>  <ng-template #begProperty> <span>${{value.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>
        <tr *ngFor="let capitalGrowth of PropertiesValue | filterFurther:'Client':item.propertyId:'capitalGrowthValues'">
          <td style="border:none;">Capital Growth</td>
          <td style="border:none;text-align:right;" *ngFor=" let cg of capitalGrowth.capitalGrowthValues | keys">
            <span *ngIf="cg.value == 0 else capitalGrowthProperty"> - </span>  <ng-template #capitalGrowthProperty> <span>${{cg.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>

        <tr *ngFor="let endingVal of PropertiesValue | filterFurtherAllowZero:'Client':item.propertyId:'endingValues'">
          <td style="border:none;font-weight:bold">Closing Value</td>
          <td style="border:none;font-weight:bold;text-align:right;" *ngFor=" let endv of endingVal.endingValues | keys">
            <span *ngIf="endv.value == 0 else endingValProperty"> - </span>  <ng-template #endingValProperty> <span>${{endv.value| number}} </span> </ng-template>
          </td>
        </tr>

        <tr *ngFor="let endingValPV of PropertiesValue | filterFurtherAllowZero:'Client':item.propertyId:'endingValuesPV'" style="color:gray">
          <td style="padding-left:2em !important;border:none;">Closing Value (PV)</td>
          <td style="border:none;text-align:right;" *ngFor=" let pv of endingValPV.endingValuesPV | keys">
            <span *ngIf="pv.value == 0 else pvProperty"> - </span>  <ng-template #pvProperty> <span>${{pv.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>
        <tr *ngFor="let rent of PropertiesValue | filterFurther:'Client':item.propertyId:'rentValues'">
          <td style="border:none;">Rent</td>
          <td style="border:none;text-align:right;" *ngFor=" let r of rent.rentValues | keys">
            <span *ngIf="r.value == 0 else rentProperty"> 0 </span>  <ng-template #rentProperty> <span>${{r.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>
        <tr *ngFor="let expenses of PropertiesValue | filterFurther:'Client':item.propertyId:'expensesValues'">
          <td style="border:none;">Expenses</td>
          <td style="border:none;text-align:right;" *ngFor=" let exp of expenses.expensesValues | keys">
            <span *ngIf="exp.value == 0 else expenseProperty"> - </span>  <ng-template #expenseProperty> <span>${{exp.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>
        <tr *ngFor="let unrealCG of PropertiesValue | filterFurther:'Client':item.propertyId:'unrealCGValues'" style="color:gray;">
          <td style="border:none;font-style:italic;">Unrealised capital gains</td>
          <td style="border:none;font-style:italic;text-align:right;" *ngFor=" let unrcg of unrealCG.unrealCGValues | keys">
            <span *ngIf="unrcg.value == 0 else unrcgProperty"> - </span>  <ng-template #unrcgProperty> <span>${{unrcg.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngFor="let realCG of PropertiesValue | filterFurther:'Client':item.propertyId:'realCGValues'" style="color:gray;">
          <td style="border:none;font-style:italic;">Realised capital gains</td>
          <td style="border:none;font-style:italic;text-align:right;" *ngFor=" let rcg of realCG.realCGValues | keys">
            <span *ngIf="rcg.value == 0 else rcgProperty"> 0 </span>  <ng-template #rcgProperty> <span>${{rcg.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>
      </ng-container>

    </ng-template>

    <tr *ngIf="propertiesPartner?.length <= 0 else propertiesPartners"></tr>
    <ng-template #propertiesPartners>
      <ng-container *ngFor="let item of propertiesPartner">
        <tr style="font-weight:bold;background:#9d9b9b1c;">
          <td style="border-bottom:1px solid #dbdbdb;">{{item.name}} - {{clientDetails.partnerName}} </td>
          <td [attr.colspan]="period - 1" style="border-bottom:1px solid #dbdbdb;"></td>
        </tr>
        <tr *ngFor="let prop of PropertiesValue | filterFurther:'Partner':item.propertyId:'BegValues'">
          <td style="border:none;">Opening Value</td>
          <td style="border:none;text-align:right;" *ngFor=" let value of prop.BegValues | keys">
            <span *ngIf="value.value == 0 else begProperty"> - </span>  <ng-template #begProperty> <span>${{value.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>
        <tr *ngFor="let capitalGrowth of PropertiesValue | filterFurther:'Partner':item.propertyId:'capitalGrowthValues'">
          <td style="border:none;">Capital Growth</td>
          <td style="border:none;text-align:right;" *ngFor=" let cg of capitalGrowth.capitalGrowthValues | keys">
            <span *ngIf="cg.value == 0 else capitalGrowthProperty"> - </span>  <ng-template #capitalGrowthProperty> <span>${{cg.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>

        <tr *ngFor="let endingVal of PropertiesValue | filterFurtherAllowZero:'Partner':item.propertyId:'endingValues'">
          <td style="border:none;font-weight:bold">Closing Value</td>
          <td style="border:none;font-weight:bold;text-align:right;" *ngFor=" let endv of endingVal.endingValues | keys">
            <span *ngIf="endv.value == 0 else endingValProperty"> - </span>  <ng-template #endingValProperty> <span>${{endv.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngFor="let endingValPV of PropertiesValue | filterFurtherAllowZero:'Partner':item.propertyId:'endingValuesPV'" style="color:gray">
          <td style="padding-left:2em !important;border:none;">Closing Value (PV)</td>
          <td style="border:none;text-align:right;" *ngFor=" let pv of endingValPV.endingValuesPV | keys">
            <span *ngIf="pv.value == 0 else pvProperty"> - </span>  <ng-template #pvProperty> <span>${{pv.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>
        <tr *ngFor="let rent of PropertiesValue | filterFurther:'Partner':item.propertyId:'rentValues'">
          <td style="border:none;">Rent</td>
          <td style="border:none;text-align:right;" *ngFor=" let r of rent.rentValues | keys">
            <span *ngIf="r.value == 0 else rentProperty"> - </span>  <ng-template #rentProperty> <span>${{r.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>
        <tr *ngFor="let expenses of PropertiesValue | filterFurther:'Partner':item.propertyId:'expensesValues'">
          <td style="border:none;">Expenses</td>
          <td style="border:none;text-align:right;" *ngFor=" let exp of expenses.expensesValues | keys">
            <span *ngIf="exp.value == 0 else expenseProperty"> - </span>  <ng-template #expenseProperty> <span>${{exp.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>
        <tr *ngFor="let unrealCG of PropertiesValue | filterFurther:'Partner':item.propertyId:'unrealCGValues'" style="color:gray;">
          <td style="border:none;font-style:italic;">Unrealised capital gains</td>
          <td style="border:none;font-style:italic;text-align:right;" *ngFor=" let unrcg of unrealCG.unrealCGValues | keys">
            <span *ngIf="unrcg.value == 0 else unrcgProperty"> - </span>  <ng-template #unrcgProperty> <span>${{unrcg.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngFor="let realCG of PropertiesValue | filterFurther:'Partner':item.propertyId:'realCGValues'" style="color:gray;">
          <td style="border:none;font-style:italic;">Realised capital gains</td>
          <td style="border:none;font-style:italic;text-align:right;" *ngFor=" let rcg of realCG.realCGValues | keys">
            <span *ngIf="rcg.value == 0 else rcgProperty"> - </span>  <ng-template #rcgProperty> <span>${{rcg.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>
      </ng-container>

    </ng-template>


    <tr *ngIf="propertiesJoint?.length <= 0 else propertiesJoints"></tr>
    <ng-template #propertiesJoints>
      <ng-container *ngFor="let item of propertiesJoint">
        <tr style="font-weight:bold;background:#9d9b9b1c;">
          <td style="border-bottom:1px solid #dbdbdb;">{{item.name}} - Joint </td>
          <td [attr.colspan]="period - 1" style="border-bottom:1px solid #dbdbdb;"></td>
        </tr>
        <tr *ngFor="let prop of PropertiesValue | filterFurther:'Joint':item.propertyId:'BegValues'">
          <td style="border:none;">Opening Value</td>
          <td style="border:none;text-align:right;" *ngFor=" let value of prop.BegValues | keys">
            <span *ngIf="value.value == 0 else begProperty"> - </span>  <ng-template #begProperty> <span>${{value.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>
        <tr *ngFor="let capitalGrowth of PropertiesValue | filterFurther:'Joint':item.propertyId:'capitalGrowthValues'">
          <td style="border:none;">Capital Growth</td>
          <td style="border:none;text-align:right;" *ngFor=" let cg of capitalGrowth.capitalGrowthValues | keys">
            <span *ngIf="cg.value == 0 else capitalGrowthProperty"> - </span>  <ng-template #capitalGrowthProperty> <span>${{cg.value| number}} </span> </ng-template>
          </td>
        </tr>

        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>
        <tr *ngFor="let endingVal of PropertiesValue | filterFurtherAllowZero:'Joint':item.propertyId:'endingValues'">
          <td style="border:none;font-weight:bold">Closing Value</td>
          <td style="border:none;font-weight:bold;text-align:right;" *ngFor=" let endv of endingVal.endingValues | keys">
            <span *ngIf="endv.value == 0 else endingValProperty"> - </span>  <ng-template #endingValProperty> <span>${{endv.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngFor="let endingValPV of PropertiesValue | filterFurtherAllowZero:'Joint':item.propertyId:'endingValuesPV'" style="color:gray">
          <td style="padding-left:2em !important;border:none;">Closing Value (PV)</td>
          <td style="border:none;text-align:right;" *ngFor=" let pv of endingValPV.endingValuesPV | keys">
            <span *ngIf="pv.value == 0 else pvProperty"> - </span>  <ng-template #pvProperty> <span>${{pv.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>
        <tr *ngFor="let rent of PropertiesValue | filterFurther:'Joint':item.propertyId:'rentValues'">
          <td style="border:none;">Rent</td>
          <td style="border:none;text-align:right;" *ngFor=" let r of rent.rentValues | keys">
            <span *ngIf="r.value == 0 else rentProperty"> - </span>  <ng-template #rentProperty> <span>${{r.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>
        <tr *ngFor="let expenses of PropertiesValue | filterFurther:'Joint':item.propertyId:'expensesValues'">
          <td style="border:none;">Expenses</td>
          <td style="border:none;text-align:right;" *ngFor=" let exp of expenses.expensesValues | keys">
            <span *ngIf="exp.value == 0 else expenseProperty"> - </span>  <ng-template #expenseProperty> <span>${{exp.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>
        <tr *ngFor="let unrealCG of PropertiesValue | filterFurther:'Joint':item.propertyId:'unrealCGValues'" style="color:gray;">
          <td style="border:none;font-style:italic;">Unrealised capital gains</td>
          <td style="border:none;font-style:italic;text-align:right;" *ngFor=" let unrcg of unrealCG.unrealCGValues | keys">
            <span *ngIf="unrcg.value == 0 else unrcgProperty"> - </span>  <ng-template #unrcgProperty> <span>${{unrcg.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngFor="let realCG of PropertiesValue | filterFurther:'Joint':item.propertyId:'realCGValues'" style="color:gray;">
          <td style="border:none;font-style:italic;">Realised capital gains</td>
          <td style="border:none;font-style:italic;text-align:right;" *ngFor=" let rcg of realCG.realCGValues | keys">
            <span *ngIf="rcg.value == 0 else rcgProperty"> - </span>  <ng-template #rcgProperty> <span>${{rcg.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>
      </ng-container>

    </ng-template>


    <tr *ngIf="superClient?.length <= 0 else clientSupers"></tr>
    <ng-template #clientSupers>
      <ng-container *ngFor="let item of superClient">
        <tr style="font-weight:bold;background:#9d9b9b1c;">
          <td style="border-bottom:1px solid #dbdbdb;">{{item.name}} - {{clientDetails.clientName}} </td>
          <td [attr.colspan]="period - 1" style="border-bottom:1px solid #dbdbdb;"></td>
        </tr>
        <tr *ngFor="let beg of SuperValue | filterFurther:'Client':item.superId:'BegValues'">
          <td style="border:none;">{{beg.name}}</td>
          <td style="border:none;text-align:right;" *ngFor=" let value of beg.BegValues | keys">
            <span *ngIf="value.value == 0 else begSuper"> - </span>  <ng-template #begSuper> <span>${{value.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngFor="let taxable of SuperValue | filterFurther:'Client':item.superId:'TaxableBegValues'" style="color:gray">
          <td style="padding-left:2em !important;border:none;">Taxable Component</td>
          <td style="border:none;text-align:right;" *ngFor=" let g of taxable.TaxableBegValues | keys">
            <span *ngIf="g.value == 0 else taxableSuper"> - </span>  <ng-template #taxableSuper> <span>${{g.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngFor="let taxfree of SuperValue | filterFurther:'Client':item.superId:'TaxFreeBegValues'" style="color:gray">
          <td style="padding-left:2em !important;border:none;">Tax-Free Component</td>
          <td style="border:none;text-align:right;" *ngFor=" let g of taxfree.TaxFreeBegValues | keys">
            <span *ngIf="g.value == 0 else taxfreeSuper"> - </span>  <ng-template #taxfreeSuper> <span>${{g.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>
        <tr>
          <td style="border:none;">Earnings</td>
          <td [attr.colspan]="period - 1" style="border:none;"></td>
        </tr>
        <tr *ngFor="let growth of SuperValue | filterFurther:'Client':item.superId:'growthValues'" style="color:gray">
          <td style="padding-left:2em !important;border:none;">Growth</td>
          <td style="border:none;text-align:right;" *ngFor=" let g of growth.growthValues | keys">
            <span *ngIf="g.value == 0 else growthSuper"> - </span>  <ng-template #growthSuper> <span>${{g.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngFor="let income of SuperValue | filterFurther:'Client':item.superId:'incomeValues'" style="color:gray">
          <td style="padding-left:2em !important;border:none;">Income</td>
          <td style="border:none;text-align:right;" *ngFor=" let i of income.incomeValues | keys">
            <span *ngIf="i.value == 0 else incomeSuper"> - </span>  <ng-template #incomeSuper> <span>${{i.value| number}} </span> </ng-template>
          </td>
        </tr>
        <!--<tr *ngFor="let frankingCredits of SuperValue | filterFurther:'Client':item.superId" style="color:gray">
            <td style="padding-left:4em !important;border:none;font-style:italic;">Franking credits</td>
            <td style="border:none;" *ngFor=" let fc of frankingCredits.frankingCreditsValues | keys">
                <span *ngIf="fc.value == 0 else frankingCreditsSuper" style="font-style:italic;"> 0 </span>
                <ng-template #frankingCreditsSuper>
                    <span style="font-style:italic;" *ngIf="fc.value > 0 else neg">${{fc.value | number}} </span>
                    <ng-template #neg>
                        <span style="font-style:italic;"> (${{fc.value | positive | number  }}) </span>
                    </ng-template>
                </ng-template>
            </td>
        </tr>-->
        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>
        <tr *ngFor="let insurance of SuperValue | filterFurther:'Client':item.superId:'insuranceValues'">
          <td style="border:none;">Insurance Premiums</td>
          <td style="border:none;text-align:right;" *ngFor=" let value of insurance.insuranceValues | keys">
            <span *ngIf="value.value == 0 else insuranceSuper"> - </span>  <ng-template #insuranceSuper> <span>${{value.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>
        <tr>
          <td style="border:none;">Contributions</td>
          <td [attr.colspan]="period - 1" style="border:none;"></td>
        </tr>
        <tr>
          <td style="padding-left:2em !important;border:none;color:gray">Concessional</td>
          <td [attr.colspan]="period - 1" style="padding-left:2em !important;border:none;"></td>
        </tr>
        <tr *ngFor="let sg of SuperValue | filterFurther:'Client':item.superId:'sgContrValues' " style="color:gray">
          <td style="padding-left:4em !important;border:none;">Super Guarantee</td>
          <td style="border:none;text-align:right;" *ngFor=" let i of sg.sgContrValues | keys">
            <span *ngIf="i.value == 0 else sgSuper"> - </span>  <ng-template #sgSuper> <span>${{i.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngFor="let ss of SuperValue | filterFurther:'Client':item.superId:'ssContrValues'" style="color:gray">
          <td style="padding-left:4em !important;border:none;">Salary Sacrifice/ Personal Deductible</td>
          <td style="border:none;text-align:right;" *ngFor=" let i of ss.ssContrValues | keys">
            <span *ngIf="i.value == 0 else ssSuper"> - </span>  <ng-template #ssSuper> <span>${{i.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr>
          <td style="padding-left:2em !important;border:none;color:gray">Non-Concessional</td>
          <td [attr.colspan]="period - 1" style="padding-left:2em !important;border:none;"></td>
        </tr>
        <tr *ngFor="let pnc of SuperValue | filterFurther:'Client':item.superId:'pncContrValues'" style="color:gray">
          <td style="padding-left:4em !important;border:none;">Personal Non-Concessional</td>
          <td style="border:none;text-align:right;" *ngFor=" let i of pnc.pncContrValues | keys">
            <span *ngIf="i.value == 0 else pncSuper"> - </span>  <ng-template #pncSuper> <span>${{i.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngIf="clientDetails.maritalStatus == 'S' else spouseSuper2"></tr>
        <ng-template #spouseSuper2>
          <tr *ngFor="let spouse of SuperValue | filterFurther:'Client':item.superId:'spouseContrValues'" style="color:gray">
            <td style="padding-left:4em !important;border:none;">Spouse Contributions</td>
            <td style="border:none;text-align:right;" *ngFor=" let i of spouse.spouseContrValues | keys">
              <span *ngIf="i.value == 0 else spouseSuper"> - </span>  <ng-template #spouseSuper> <span>${{i.value| number}} </span> </ng-template>
            </td>
          </tr>
        </ng-template>
        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>
        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>
        <tr *ngFor="let lumpsum of SuperValue | filterFurther:'Client':item.superId:'lumpSumValues'">
          <td style="border:none;">Lump Sum Withdrawal</td>
          <td style="border:none;text-align:right;" *ngFor=" let value of lumpsum.lumpSumValues | keys">
            <span *ngIf="value.value == 0 else lumpsumSuper"> - </span>  <ng-template #lumpsumSuper> <span>${{value.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngFor="let taxPayable of SuperValue | filterFurther:'Client':item.superId:'taxPayableValues'">
          <td style="border:none;">Taxes Payable</td>
          <td style="border:none;text-align:right;" *ngFor=" let value of taxPayable.taxPayableValues | keys">
            <span *ngIf="value.value == 0 else taxPayableSuper"> - </span>  <ng-template #taxPayableSuper> <span>${{value.value| number}} </span> </ng-template>
          </td>
        </tr>

        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>
        <tr *ngFor="let end of SuperValue | filterFurtherAllowZero:'Client':item.superId:'endingValues'">
          <td style="border:none;">Closing Value</td>
          <td style="border:none;text-align:right;" *ngFor=" let value of end.endingValues | keys">
            <span *ngIf="value.value == 0 else endSuper"> - </span>  <ng-template #endSuper> <span>${{value.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngFor="let taxableEnd of SuperValue | filterFurther:'Client':item.superId:'TaxableEndingValues'" style="color:gray">
          <td style="padding-left:2em !important;border:none;">Taxable Component</td>
          <td style="border:none;text-align:right;" *ngFor=" let g of taxableEnd.TaxableEndingValues | keys">
            <span *ngIf="g.value == 0 else taxableEndSuper"> - </span>  <ng-template #taxableEndSuper> <span>${{g.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngFor="let taxfreeEnd of SuperValue | filterFurther:'Client':item.superId:'TaxFreeEndingValues'" style="color:gray">
          <td style="padding-left:2em !important;border:none;">Tax-Free Component</td>
          <td style="border:none;text-align:right;" *ngFor=" let g of taxfreeEnd.TaxFreeEndingValues | keys">
            <span *ngIf="g.value == 0 else taxfreeEndSuper"> - </span>  <ng-template #taxfreeEndSuper> <span>${{g.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngFor="let endingValPV of SuperValue | filterFurtherAllowZero:'Client':item.superId:'endingValuesPV'" style="color:gray">
          <td style="padding-left:2em !important;border:none;">Closing Value (PV)</td>
          <td style="border:none;text-align:right;" *ngFor=" let pv of endingValPV.endingValuesPV | keys">
            <span *ngIf="pv.value == 0 else pvSuper"> - </span>  <ng-template #pvSuper> <span>${{pv.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>
      </ng-container>

    </ng-template>

    <tr *ngIf="superPartner?.length <= 0 else partnerSupers"></tr>
    <ng-template #partnerSupers>
      <ng-container *ngFor="let item of superPartner">
        <tr style="font-weight:bold;background:#9d9b9b1c;">
          <td style="border-bottom:1px solid #dbdbdb;">{{item.name}} - {{clientDetails.partnerName}} </td>
          <td [attr.colspan]="period - 1" style="border-bottom:1px solid #dbdbdb;"></td>
        </tr>
        <tr *ngFor="let beg of SuperValue | filterFurther:'Partner':item.superId:'BegValues'">
          <td style="border:none;">{{beg.name}}</td>
          <td style="border:none;text-align:right;" *ngFor=" let value of beg.BegValues | keys">
            <span *ngIf="value.value == 0 else begSuper"> - </span>  <ng-template #begSuper> <span>${{value.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngFor="let taxable of SuperValue | filterFurther:'Partner':item.superId:'TaxableBegValues'" style="color:gray">
          <td style="padding-left:2em !important;border:none;">Taxable Component</td>
          <td style="border:none;text-align:right;" *ngFor=" let g of taxable.TaxableBegValues | keys">
            <span *ngIf="g.value == 0 else taxableSuper"> - </span>  <ng-template #taxableSuper> <span>${{g.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngFor="let taxfree of SuperValue | filterFurther:'Partner':item.superId:'TaxFreeBegValues'" style="color:gray">
          <td style="padding-left:2em !important;border:none;">Tax-Free Component</td>
          <td style="border:none;text-align:right;" *ngFor=" let g of taxfree.TaxFreeBegValues | keys">
            <span *ngIf="g.value == 0 else taxfreeSuper"> - </span>  <ng-template #taxfreeSuper> <span>${{g.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>
        <tr>
          <td style="border:none;">Earnings</td>
          <td [attr.colspan]="period - 1" style="border:none;"></td>
        </tr>
        <tr *ngFor="let growth of SuperValue | filterFurther:'Partner':item.superId:'growthValues'" style="color:gray">
          <td style="padding-left:2em !important;border:none;">Growth</td>
          <td style="border:none;text-align:right;" *ngFor=" let g of growth.growthValues | keys">
            <span *ngIf="g.value == 0 else growthSuper"> - </span>  <ng-template #growthSuper> <span>${{g.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngFor="let income of SuperValue | filterFurther:'Partner':item.superId:'incomeValues'" style="color:gray">
          <td style="padding-left:2em !important;border:none;">Income</td>
          <td style="border:none;text-align:right;" *ngFor=" let i of income.incomeValues | keys">
            <span *ngIf="i.value == 0 else incomeSuper"> - </span>  <ng-template #incomeSuper> <span>${{i.value| number}} </span> </ng-template>
          </td>
        </tr>
        <!--<tr *ngFor="let frankingCredits of SuperValue | filterFurther:'Partner':item.superId" style="color:gray">
            <td style="padding-left:4em !important;border:none;font-style:italic;">Franking credits</td>
            <td style="border:none;" *ngFor=" let fc of frankingCredits.frankingCreditsValues | keys">
                <span *ngIf="fc.value == 0 else frankingCreditsSuper" style="font-style:italic;"> 0 </span>
                <ng-template #frankingCreditsSuper>
                    <span style="font-style:italic;" *ngIf="fc.value > 0 else neg">${{fc.value | number}} </span>
                    <ng-template #neg>
                        <span style="font-style:italic;"> (${{fc.value | positive | number  }}) </span>
                    </ng-template>
                </ng-template>
            </td>
        </tr>-->
        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>
        <tr *ngFor="let insurance of SuperValue | filterFurther:'Partner':item.superId:'insuranceValues'">
          <td style="border:none;">Insurance Premiums</td>
          <td style="border:none;text-align:right;" *ngFor=" let value of insurance.insuranceValues | keys">
            <span *ngIf="value.value == 0 else insuranceSuper"> - </span>  <ng-template #insuranceSuper> <span>${{value.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>
        <tr>
          <td style="border:none;">Contributions</td>
          <td [attr.colspan]="period - 1" style="border:none;"></td>
        </tr>
        <tr>
          <td style="padding-left:2em !important;border:none;color:gray">Concessional</td>
          <td [attr.colspan]="period - 1" style="padding-left:2em !important;border:none;"></td>
        </tr>
        <tr *ngFor="let sg of SuperValue | filterFurther:'Partner':item.superId:'sgContrValues'" style="color:gray">
          <td style="padding-left:4em !important;border:none;">Super Guarantee</td>
          <td style="border:none;text-align:right;" *ngFor=" let i of sg.sgContrValues | keys">
            <span *ngIf="i.value == 0 else sgSuper"> - </span>  <ng-template #sgSuper> <span>${{i.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngFor="let ss of SuperValue | filterFurther:'Partner':item.superId:'ssContrValues'" style="color:gray">
          <td style="padding-left:4em !important;border:none;">Salary Sacrifice/ Personal Deductible</td>
          <td style="border:none;text-align:right;" *ngFor=" let i of ss.ssContrValues | keys">
            <span *ngIf="i.value == 0 else ssSuper"> - </span>  <ng-template #ssSuper> <span>${{i.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr>
          <td style="padding-left:2em !important;border:none;color:gray">Non-Concessional</td>
          <td [attr.colspan]="period - 1" style="padding-left:2em !important;border:none;"></td>
        </tr>
        <tr *ngFor="let pnc of SuperValue | filterFurther:'Partner':item.superId:'pncContrValues'" style="color:gray">
          <td style="padding-left:4em !important;border:none;">Personal Non-Concessional</td>
          <td style="border:none;text-align:right;" *ngFor=" let i of pnc.pncContrValues | keys">
            <span *ngIf="i.value == 0 else pncSuper"> - </span>  <ng-template #pncSuper> <span>${{i.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngIf="clientDetails.maritalStatus == 'S' else spouseSuper1"></tr>
        <ng-template #spouseSuper1>
          <tr *ngFor="let spouse of SuperValue | filterFurther:'Partner':item.superId:'spouseContrValues'" style="color:gray">
            <td style="padding-left:4em !important;border:none;">Spouse Contributions</td>
            <td style="border:none;text-align:right;" *ngFor=" let i of spouse.spouseContrValues | keys">
              <span *ngIf="i.value == 0 else spouseSuper"> - </span>  <ng-template #spouseSuper> <span>${{i.value| number}} </span> </ng-template>
            </td>
          </tr>
        </ng-template>
        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>
        <tr *ngFor="let lumpsum of SuperValue | filterFurther:'Partner':item.superId:'lumpSumValues'">
          <td style="border:none;">Lump Sum Withdrawal</td>
          <td style="border:none;text-align:right;" *ngFor=" let value of lumpsum.lumpSumValues | keys">
            <span *ngIf="value.value == 0 else lumpsumSuper"> - </span>  <ng-template #lumpsumSuper> <span>${{value.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>
        <tr *ngFor="let taxPayable of SuperValue | filterFurther:'Partner':item.superId:'taxPayableValues'">
          <td style="border:none;">Taxes Payable</td>
          <td style="border:none;text-align:right;" *ngFor=" let value of taxPayable.taxPayableValues | keys">
            <span *ngIf="value.value == 0 else taxPayableSuper"> - </span>  <ng-template #taxPayableSuper> <span>${{value.value| number}} </span> </ng-template>
          </td>
        </tr>

        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>
        <tr *ngFor="let end of SuperValue | filterFurtherAllowZero:'Partner':item.superId:'endingValues'">
          <td style="border:none;">Closing Value</td>
          <td style="border:none;text-align:right;" *ngFor=" let value of end.endingValues | keys">
            <span *ngIf="value.value == 0 else endSuper"> - </span>  <ng-template #endSuper> <span>${{value.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngFor="let taxableEnd of SuperValue | filterFurther:'Partner':item.superId:'TaxableEndingValues'" style="color:gray">
          <td style="padding-left:2em !important;border:none;">Taxable Component</td>
          <td style="border:none;text-align:right;" *ngFor=" let g of taxableEnd.TaxableEndingValues | keys">
            <span *ngIf="g.value == 0 else taxableEndSuper"> - </span>  <ng-template #taxableEndSuper> <span>${{g.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngFor="let taxfreeEnd of SuperValue | filterFurther:'Partner':item.superId:'TaxFreeEndingValues'" style="color:gray">
          <td style="padding-left:2em !important;border:none;">Tax-Free Component</td>
          <td style="border:none;text-align:right;" *ngFor=" let g of taxfreeEnd.TaxFreeEndingValues | keys">
            <span *ngIf="g.value == 0 else taxfreeEndSuper"> - </span>  <ng-template #taxfreeEndSuper> <span>${{g.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngFor="let endingValPV of SuperValue | filterFurtherAllowZero:'Partner':item.superId:'endingValuesPV'" style="color:gray">
          <td style="padding-left:2em !important;border:none;">Closing Value (PV)</td>
          <td style="border:none;text-align:right;" *ngFor=" let pv of endingValPV.endingValuesPV | keys">
            <span *ngIf="pv.value == 0 else pvSuper"> - </span>  <ng-template #pvSuper> <span>${{pv.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>
      </ng-container>

    </ng-template>

    <tr *ngIf="pensionClient?.length <= 0 else clientPensions"></tr>
    <ng-template #clientPensions>
      <ng-container *ngFor="let item of pensionClient">
        <tr style="font-weight:bold;background:#9d9b9b1c;">
          <td style="border-bottom:1px solid #dbdbdb;">{{item.name}} - {{clientDetails.clientName}} </td>
          <td [attr.colspan]="period - 1" style="border-bottom:1px solid #dbdbdb;"></td>
        </tr>
        <tr *ngFor="let beg of PensionValue | filterFurther:'Client':item.pensionId:'BegValues'">
          <td style="border:none;">{{beg.name}}</td>
          <td style="border:none;text-align:right;" *ngFor=" let value of beg.BegValues | keys">
            <span *ngIf="value.value == 0 else begSuper"> - </span>  <ng-template #begSuper> <span>${{value.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngFor="let taxable of PensionValue | filterFurther:'Client':item.pensionId:'TaxableBegValues'" style="color:gray">
          <td style="padding-left:2em !important;border:none;">Taxable Component</td>
          <td style="border:none;text-align:right;" *ngFor=" let g of taxable.TaxableBegValues | keys">
            <span *ngIf="g.value == 0 else taxableSuper"> - </span>  <ng-template #taxableSuper> <span>${{g.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngFor="let taxfree of PensionValue | filterFurther:'Client':item.pensionId:'TaxFreeBegValues'" style="color:gray">
          <td style="padding-left:2em !important;border:none;">Tax-Free Component</td>
          <td style="border:none;text-align:right;" *ngFor=" let g of taxfree.TaxFreeBegValues | keys">
            <span *ngIf="g.value == 0 else taxfreeSuper"> - </span>  <ng-template #taxfreeSuper> <span>${{g.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>
        <tr>
          <td style="border:none;">Earnings</td>
          <td [attr.colspan]="period - 1" style="border:none;"></td>
        </tr>
        <tr *ngFor="let growth of PensionValue | filterFurther:'Client':item.pensionId:'growthValues'" style="color:gray">
          <td style="padding-left:2em !important;border:none;">Growth</td>
          <td style="border:none;text-align:right;" *ngFor=" let g of growth.growthValues | keys">
            <span *ngIf="g.value == 0 else growthSuper"> - </span>  <ng-template #growthSuper> <span>${{g.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngFor="let income of PensionValue | filterFurther:'Client':item.pensionId:'incomeValues'" style="color:gray">
          <td style="padding-left:2em !important;border:none;">Income</td>
          <td style="border:none;text-align:right;" *ngFor=" let i of income.incomeValues | keys">
            <span *ngIf="i.value == 0 else incomeSuper"> - </span>  <ng-template #incomeSuper> <span>${{i.value| number}} </span> </ng-template>
          </td>
        </tr>

        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>

        <tr *ngFor="let item of PensionValue | filterFurther:'Client':item.pensionId:'pensionIncomeValues'">
          <td style="border:none;">Pension Income</td>
          <td style="border:none;text-align:right;" *ngFor=" let value of item.pensionIncomeValues | keys">
            <span *ngIf="value.value == 0 else begSuper"> - </span>  <ng-template #begSuper> <span>${{value.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngFor="let item of PensionValue | filterFurther:'Client':item.pensionId:'pITaxAssessableValues'" style="color:gray">
          <td style="padding-left:2em !important;border:none;">Tax Assessable Component</td>
          <td style="border:none;text-align:right;" *ngFor=" let g of item.pITaxAssessableValues | keys">
            <span *ngIf="g.value == 0 else taxableSuper"> - </span>  <ng-template #taxableSuper> <span>${{g.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngFor="let item of PensionValue | filterFurther:'Client':item.pensionId:'pITaxExemptValues'" style="color:gray">
          <td style="padding-left:2em !important;border:none;">Tax Exempt Component</td>
          <td style="border:none;text-align:right;" *ngFor=" let g of item.pITaxExemptValues | keys">
            <span *ngIf="g.value == 0 else taxfreeSuper"> - </span>  <ng-template #taxfreeSuper> <span>${{g.value| number}} </span> </ng-template>
          </td>
        </tr>

        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>
        <tr *ngFor="let end of PensionValue | filterFurtherAllowZero:'Client':item.pensionId:'endingValues'">
          <td style="border:none;">Closing Value</td>
          <td style="border:none;text-align:right;" *ngFor=" let value of end.endingValues | keys">
            <span *ngIf="value.value == 0 else endSuper"> - </span>  <ng-template #endSuper> <span>${{value.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngFor="let taxableEnd of PensionValue | filterFurther:'Client':item.pensionId:'TaxableEndingValues'" style="color:gray">
          <td style="padding-left:2em !important;border:none;">Taxable Component</td>
          <td style="border:none;text-align:right;" *ngFor=" let g of taxableEnd.TaxableEndingValues | keys">
            <span *ngIf="g.value == 0 else taxableEndSuper"> - </span>  <ng-template #taxableEndSuper> <span>${{g.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngFor="let taxfreeEnd of PensionValue | filterFurther:'Client':item.pensionId:'TaxFreeEndingValues'" style="color:gray">
          <td style="padding-left:2em !important;border:none;">Tax-Free Component</td>
          <td style="border:none;text-align:right;" *ngFor=" let g of taxfreeEnd.TaxFreeEndingValues | keys">
            <span *ngIf="g.value == 0 else taxfreeEndSuper"> - </span>  <ng-template #taxfreeEndSuper> <span>${{g.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngFor="let endingValPV of PensionValue | filterFurtherAllowZero:'Client':item.pensionId:'endingValuesPV'" style="color:gray">
          <td style="padding-left:2em !important;border:none;">Closing Value (PV)</td>
          <td style="border:none;text-align:right;" *ngFor=" let pv of endingValPV.endingValuesPV | keys">
            <span *ngIf="pv.value == 0 else pvSuper"> - </span>  <ng-template #pvSuper> <span>${{pv.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>
      </ng-container>

    </ng-template>

    <tr *ngIf="pensionPartner?.length <= 0 else partnerPensions"></tr>
    <ng-template #partnerPensions>
      <ng-container *ngFor="let item of pensionPartner">
        <tr style="font-weight:bold;background:#9d9b9b1c;">
          <td style="border-bottom:1px solid #dbdbdb;">{{item.name}} - {{clientDetails.partnerName}} </td>
          <td [attr.colspan]="period - 1" style="border-bottom:1px solid #dbdbdb;"></td>
        </tr>
        <tr *ngFor="let beg of PensionValue | filterFurther:'Partner':item.pensionId:'BegValues'">
          <td style="border:none;">{{beg.name}}</td>
          <td style="border:none;text-align:right;" *ngFor=" let value of beg.BegValues | keys">
            <span *ngIf="value.value == 0 else begSuper"> - </span>  <ng-template #begSuper> <span>${{value.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngFor="let taxable of PensionValue | filterFurther:'Partner':item.pensionId:'TaxableBegValues'" style="color:gray">
          <td style="padding-left:2em !important;border:none;">Taxable Component</td>
          <td style="border:none;text-align:right;" *ngFor=" let g of taxable.TaxableBegValues | keys">
            <span *ngIf="g.value == 0 else taxableSuper"> - </span>  <ng-template #taxableSuper> <span>${{g.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngFor="let taxfree of PensionValue | filterFurther:'Partner':item.pensionId:'TaxFreeBegValues'" style="color:gray">
          <td style="padding-left:2em !important;border:none;">Tax-Free Component</td>
          <td style="border:none;text-align:right;" *ngFor=" let g of taxfree.TaxFreeBegValues | keys">
            <span *ngIf="g.value == 0 else taxfreeSuper"> - </span>  <ng-template #taxfreeSuper> <span>${{g.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>
        <tr>
          <td style="border:none;">Earnings</td>
          <td [attr.colspan]="period - 1" style="border:none;"></td>
        </tr>
        <tr *ngFor="let growth of PensionValue | filterFurther:'Partner':item.pensionId:'growthValues'" style="color:gray">
          <td style="padding-left:2em !important;border:none;">Growth</td>
          <td style="border:none;text-align:right;" *ngFor=" let g of growth.growthValues | keys">
            <span *ngIf="g.value == 0 else growthSuper"> - </span>  <ng-template #growthSuper> <span>${{g.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngFor="let income of PensionValue | filterFurther:'Partner':item.pensionId:'incomeValues'" style="color:gray">
          <td style="padding-left:2em !important;border:none;">Income</td>
          <td style="border:none;text-align:right;" *ngFor=" let i of income.incomeValues | keys">
            <span *ngIf="i.value == 0 else incomeSuper"> - </span>  <ng-template #incomeSuper> <span>${{i.value| number}} </span> </ng-template>
          </td>
        </tr>

        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>

        <tr *ngFor="let item of PensionValue | filterFurther:'Partner':item.pensionId:'pensionIncomeValues'">
          <td style="border:none;">Pension Income</td>
          <td style="border:none;text-align:right;" *ngFor=" let value of item.pensionIncomeValues | keys">
            <span *ngIf="value.value == 0 else begSuper"> - </span>  <ng-template #begSuper> <span>${{value.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngFor="let item of PensionValue | filterFurther:'Partner':item.pensionId:'pITaxAssessableValues'" style="color:gray">
          <td style="padding-left:2em !important;border:none;">Tax Assessable Component</td>
          <td style="border:none;text-align:right;" *ngFor=" let g of item.pITaxAssessableValues | keys">
            <span *ngIf="g.value == 0 else taxableSuper"> - </span>  <ng-template #taxableSuper> <span>${{g.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngFor="let item of PensionValue | filterFurther:'Partner':item.pensionId:'pITaxExemptValues'" style="color:gray">
          <td style="padding-left:2em !important;border:none;">Tax Exempt Component</td>
          <td style="border:none;text-align:right;" *ngFor=" let g of item.pITaxExemptValues | keys">
            <span *ngIf="g.value == 0 else taxfreeSuper"> - </span>  <ng-template #taxfreeSuper> <span>${{g.value| number}} </span> </ng-template>
          </td>
        </tr>

        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>
        <tr *ngFor="let end of PensionValue | filterFurtherAllowZero:'Partner':item.pensionId:'endingValues'">
          <td style="border:none;">Closing Value</td>
          <td style="border:none;text-align:right;" *ngFor=" let value of end.endingValues | keys">
            <span *ngIf="value.value == 0 else endSuper"> - </span>  <ng-template #endSuper> <span>${{value.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngFor="let taxableEnd of PensionValue | filterFurther:'Partner':item.pensionId:'TaxableEndingValues'" style="color:gray">
          <td style="padding-left:2em !important;border:none;">Taxable Component</td>
          <td style="border:none;text-align:right;" *ngFor=" let g of taxableEnd.TaxableEndingValues | keys">
            <span *ngIf="g.value == 0 else taxableEndSuper"> - </span>  <ng-template #taxableEndSuper> <span>${{g.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngFor="let taxfreeEnd of PensionValue | filterFurther:'Partner':item.pensionId:'TaxFreeEndingValues'" style="color:gray">
          <td style="padding-left:2em !important;border:none;">Tax-Free Component</td>
          <td style="border:none;text-align:right;" *ngFor=" let g of taxfreeEnd.TaxFreeEndingValues | keys">
            <span *ngIf="g.value == 0 else taxfreeEndSuper"> - </span>  <ng-template #taxfreeEndSuper> <span>${{g.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngFor="let endingValPV of PensionValue | filterFurtherAllowZero:'Partner':item.pensionId:'endingValuesPV'" style="color:gray">
          <td style="padding-left:2em !important;border:none;">Closing Value (PV)</td>
          <td style="border:none;text-align:right;" *ngFor=" let pv of endingValPV.endingValuesPV | keys">
            <span *ngIf="pv.value == 0 else pvSuper"> - </span>  <ng-template #pvSuper> <span>${{pv.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>
      </ng-container>

    </ng-template>
  </tbody>
</table>
<div style="float:right" *ngIf="(projection == 'financialAssets' )">
  <a (click)="onPreviousFA()" class="previous">&laquo; Previous</a>
  <a (click)="onNextFA()" class="next">Next &raquo;</a>
</div>
<table class="table" *ngIf="(projection == 'liabilities' ) " style="margin-top:30px;">
  <tbody>
    <tr style="background-color:#8f8f8f;color:white">
      <th style="min-width:130px !important;"></th>
      <th style="text-align:center;" *ngFor="let year of years">1/7/{{year}}</th>
    </tr>
    <tr style="color:gray">
      <td style="border:none;"> Age - {{clientDetails.clientName}}</td>
      <td style="border:none;text-align:center;" *ngFor="let year of years;let index = index">
        <span *ngIf="year == clientRetirementYear else ageC">  {{index + clientAge }} [R] </span>  <ng-template #ageC> <span>{{index + clientAge }}</span> </ng-template>
      </td>
    </tr>
    <tr style="color:gray" *ngIf="clientDetails.maritalStatus == 'M'">
      <td style="border:none;"> Age - {{clientDetails.partnerName}}</td>
      <td style="border:none;text-align:center;" *ngFor="let year of years;let index = index">
        <span *ngIf="year == partnerRetirementYear else ageP"> {{index + partnerAge }} [R] </span>  <ng-template #ageP> <span>{{index + partnerAge }}</span> </ng-template>
      </td>
    </tr>
    <tr style="height:40px;">
      <td [attr.colspan]="period"></td>
    </tr>

    <!--Summary-->
    <tr class="header">
      <td style="border:none;font-weight:bold;" [attr.colspan]="period"> SUMMARY </td>
    </tr>
    <tr style="background:#f18b43;">
      <td [attr.colspan]="period" style="padding:0 !important;height:3px;"></td>
    </tr>
    <!--Investment-->
    <tr *ngIf="liabilityClient?.length <= 0 else clientLiabilitySummary"></tr>
    <ng-template #clientLiabilitySummary>
      <ng-container *ngFor="let item of liabilityClient">
        <tr *ngFor="let endingVal of LBValue | filterFurther:'Client':item.liabilityId:'endingValues'">
          <td style="border:none;">{{item.name}} - {{clientDetails.clientName}}</td>
          <td style="border:none;text-align:right;" *ngFor=" let endv of endingVal.endingValues | keys">
            <span *ngIf="endv.value == 0 else endingValLiability"> - </span>  <ng-template #endingValLiability> <span>${{endv.value| number}} </span> </ng-template>
          </td>
        </tr>
      </ng-container>
    </ng-template>
    <tr *ngIf="liabilityPartner?.length <= 0 else partnerLiabilitySummary"></tr>
    <ng-template #partnerLiabilitySummary>
      <ng-container *ngFor="let item of liabilityPartner">
        <tr *ngFor="let endingVal of LBValue | filterFurther:'Partner':item.liabilityId:'endingValues'">
          <td style="border:none;">{{item.name}} - {{clientDetails.partnerName}}</td>
          <td style="border:none;text-align:right;" *ngFor=" let endv of endingVal.endingValues | keys">
            <span *ngIf="endv.value == 0 else endingValLiability"> - </span>  <ng-template #endingValLiability> <span>${{endv.value| number}} </span> </ng-template>
          </td>
        </tr>
      </ng-container>
    </ng-template>
    <tr *ngIf="liabilityJoint?.length <= 0 else jointLiabilitySummary"></tr>
    <ng-template #jointLiabilitySummary>
      <ng-container *ngFor="let item of liabilityJoint">
        <tr *ngFor="let endingVal of LBValue | filterFurther:'Joint':item.liabilityId:'endingValues'">
          <td style="border:none;">{{item.name}} - Joint</td>
          <td style="border:none;text-align:right;" *ngFor=" let endv of endingVal.endingValues | keys">
            <span *ngIf="endv.value == 0 else endingValLiability"> - </span>  <ng-template #endingValLiability> <span>${{endv.value| number}} </span> </ng-template>
          </td>
        </tr>
      </ng-container>
    </ng-template>

    <tr style="height:20px;">
      <td [attr.colspan]="period"></td>
    </tr>



    <tr class="header" style="margin-top:30px;">
      <td style="border:none;font-weight:bold;" [attr.colspan]="period"> LIABILITIES <span class="glyphicon glyphicon-chevron-up" style="left:90%;"></span></td>
    </tr>
    <tr style="background:#f18b43;">
      <td [attr.colspan]="period" style="padding:0 !important;height:3px;"></td>
    </tr>
    <!--Client-->
    <tr *ngIf="liabilityClient?.length <= 0 else clientLiabilities"></tr>
    <ng-template #clientLiabilities>
      <ng-container *ngFor="let item of liabilityClient">
        <tr style="font-weight:bold;background:#9d9b9b1c;">
          <td style="border-bottom:1px solid #dbdbdb;">{{item.name}} - {{clientDetails.clientName}} </td>
          <td [attr.colspan]="period - 1" style="border-bottom:1px solid #dbdbdb;"></td>
        </tr>
        <tr *ngFor="let beg of LBValue | filterFurther:'Client':item.liabilityId:'BegValues'">
          <td style="border:none;">{{beg.name}}</td>
          <td style="border:none;text-align:right;" *ngFor=" let value of beg.BegValues | keys">
            <span *ngIf="value.value == 0 else begLiability"> - </span>  <ng-template #begLiability> <span>${{value.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>

        <tr *ngFor="let accruedInterest of LBValue | filterFurther:'Client':item.liabilityId:'accruedInterestValues'">
          <td style="border:none;">Accrued Interest</td>
          <td style="border:none;text-align:right;" *ngFor=" let g of accruedInterest.accruedInterestValues | keys">
            <span *ngIf="g.value == 0 else accruedInterestLiability"> - </span>  <ng-template #accruedInterestLiability> <span>${{g.value| number}} </span> </ng-template>
          </td>
        </tr>

        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>

        <tr *ngFor="let repmt of LBValue | filterFurther:'Client':item.liabilityId:'repmtValues'">
          <td style="border:none;">Repayment</td>
          <td style="border:none;text-align:right;" *ngFor=" let g of repmt.repmtValues | keys">
            <span *ngIf="g.value == 0 else repmtLiability"> - </span>  <ng-template #repmtLiability> <span>${{g.value| number}} </span> </ng-template>
          </td>
        </tr>

        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>
        <tr *ngFor="let endingVal of LBValue | filterFurtherAllowZero:'Client':item.liabilityId:'endingValues'">
          <td style="border:none;font-weight:bold">Closing Value</td>
          <td style="border:none;font-weight:bold;text-align:right;" *ngFor=" let endv of endingVal.endingValues | keys">
            <span *ngIf="endv.value == 0 else endingValLiability"> - </span>  <ng-template #endingValLiability> <span>${{endv.value| number}} </span> </ng-template>
          </td>
        </tr>

        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>
      </ng-container>

    </ng-template>

    <!--Partner-->
    <tr *ngIf="liabilityPartner?.length <= 0 else partnerLiabilities"></tr>
    <ng-template #partnerLiabilities>
      <ng-container *ngFor="let item of liabilityPartner">
        <tr style="font-weight:bold;background:#9d9b9b1c;">
          <td style="border-bottom:1px solid #dbdbdb;">{{item.name}} - {{clientDetails.partnerName}} </td>
          <td [attr.colspan]="period - 1" style="border-bottom:1px solid #dbdbdb;"></td>
        </tr>
        <tr *ngFor="let beg of LBValue | filterFurther:'Partner':item.liabilityId:'BegValues'">
          <td style="border:none;">{{beg.name}}</td>
          <td style="border:none;text-align:right;" *ngFor=" let value of beg.BegValues | keys">
            <span *ngIf="value.value == 0 else begLiability"> - </span>  <ng-template #begLiability> <span>${{value.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>

        <tr *ngFor="let accruedInterest of LBValue | filterFurther:'Partner':item.liabilityId:'accruedInterestValues'">
          <td style="border:none;">Accrued Interest</td>
          <td style="border:none;text-align:right;" *ngFor=" let g of accruedInterest.accruedInterestValues | keys">
            <span *ngIf="g.value == 0 else accruedInterestLiability"> - </span>  <ng-template #accruedInterestLiability> <span>${{g.value| number}} </span> </ng-template>
          </td>
        </tr>

        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>

        <tr *ngFor="let repmt of LBValue | filterFurther:'Partner':item.liabilityId:'repmtValues'">
          <td style="border:none;">Repayment</td>
          <td style="border:none;text-align:right;" *ngFor=" let g of repmt.repmtValues | keys">
            <span *ngIf="g.value == 0 else repmtLiability"> - </span>  <ng-template #repmtLiability> <span>${{g.value| number}} </span> </ng-template>
          </td>
        </tr>

        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>
        <tr *ngFor="let endingVal of LBValue | filterFurtherAllowZero:'Partner':item.liabilityId:'endingValues'">
          <td style="border:none;font-weight:bold">Closing Value</td>
          <td style="border:none;font-weight:bold;text-align:right;" *ngFor=" let endv of endingVal.endingValues | keys">
            <span *ngIf="endv.value == 0 else endingValLiability"> - </span>  <ng-template #endingValLiability> <span>${{endv.value| number}} </span> </ng-template>
          </td>
        </tr>

        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>
      </ng-container>

    </ng-template>

    <!--Joint-->
    <tr *ngIf="liabilityJoint?.length <= 0 else jointLiabilities"></tr>
    <ng-template #jointLiabilities>
      <ng-container *ngFor="let item of liabilityJoint">
        <tr style="font-weight:bold;background:#9d9b9b1c;">
          <td style="border-bottom:1px solid #dbdbdb;">{{item.name}} - Joint </td>
          <td [attr.colspan]="period - 1" style="border-bottom:1px solid #dbdbdb;"></td>
        </tr>
        <tr *ngFor="let beg of LBValue | filterFurther:'Joint':item.liabilityId:'BegValues'">
          <td style="border:none;">{{beg.name}}</td>
          <td style="border:none;text-align:right;" *ngFor=" let value of beg.BegValues | keys">
            <span *ngIf="value.value == 0 else begLiability"> - </span>  <ng-template #begLiability> <span>${{value.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>

        <tr *ngFor="let accruedInterest of LBValue | filterFurther:'Joint':item.liabilityId:'accruedInterestValues'">
          <td style="border:none;">Accrued Interest</td>
          <td style="border:none;text-align:right;" *ngFor=" let g of accruedInterest.accruedInterestValues | keys">
            <span *ngIf="g.value == 0 else accruedInterestLiability"> - </span>  <ng-template #accruedInterestLiability> <span>${{g.value| number}} </span> </ng-template>
          </td>
        </tr>

        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>

        <tr *ngFor="let repmt of LBValue | filterFurther:'Joint':item.liabilityId:'repmtValues'">
          <td style="border:none;">Repayment</td>
          <td style="border:none;text-align:right;" *ngFor=" let g of repmt.repmtValues | keys">
            <span *ngIf="g.value == 0 else repmtLiability"> - </span>  <ng-template #repmtLiability> <span>${{g.value| number}} </span> </ng-template>
          </td>
        </tr>

        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>
        <tr *ngFor="let endingVal of LBValue | filterFurtherAllowZero:'Joint':item.liabilityId:'endingValues'">
          <td style="border:none;font-weight:bold">Closing Value</td>
          <td style="border:none;font-weight:bold;text-align:right;" *ngFor=" let endv of endingVal.endingValues | keys">
            <span *ngIf="endv.value == 0 else endingValLiability"> - </span>  <ng-template #endingValLiability> <span>${{endv.value| number}} </span> </ng-template>
          </td>
        </tr>

        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>
      </ng-container>

    </ng-template>
  </tbody>
</table>
<div style="float:right" *ngIf="(projection == 'liabilities' )">
  <a (click)="onPreviousLB()" class="previous">&laquo; Previous</a>
  <a (click)="onNextLB()" class="next">Next &raquo;</a>
</div>
<table class="table" *ngIf="(projection == 'centrelink' ) " style="margin-top:30px;">
  <tbody>
    <tr style="background-color:#8f8f8f;color:white">
      <th style="min-width:230px !important;"></th>
      <th style="text-align:center;" *ngFor="let year of years">1/7/{{year}}</th>
    </tr>
    <tr style="color:gray">
      <td style="border:none;"> Age - {{clientDetails.clientName}}</td>
      <td style="border:none;text-align:center;" *ngFor="let year of years;let index = index">
        <span *ngIf="year == clientRetirementYear else ageC">  {{index + clientAge }} [R] </span>  <ng-template #ageC> <span>{{index + clientAge }}</span> </ng-template>
      </td>
    </tr>
    <tr style="color:gray" *ngIf="clientDetails.maritalStatus == 'M'">
      <td style="border:none;"> Age - {{clientDetails.partnerName}}</td>
      <td style="border:none;text-align:center;" *ngFor="let year of years;let index = index">
        <span *ngIf="year == partnerRetirementYear else ageP"> {{index + partnerAge }} [R] </span>  <ng-template #ageP> <span>{{index + partnerAge }}</span> </ng-template>
      </td>
    </tr>
    <tr style="height:40px;">
      <td [attr.colspan]="period"></td>
    </tr>

    <tr style="height:30px;" [attr.colspan]="period"></tr>

    <tr class="header" style="margin-top:10px;">
      <td style="border:none;font-weight:bold;" [attr.colspan]="period"> ELIGIBILITY <span class="glyphicon glyphicon-chevron-up" style="left:90%;"></span></td>
    </tr>
    <tr style="background:#f18b43;">
      <td [attr.colspan]="period" style="padding:0 !important;height:3px;"></td>
    </tr>
    <tr style="height:20px;">
      <td [attr.colspan]="period" style="border-bottom:1px solid #dbdbdb;"></td>
    </tr>
    <tr *ngIf="CentrelinkTotal?.length <= 0 else ClientEligibility"></tr>
    <ng-template #ClientEligibility>
      <tr style="font-weight:bold;" *ngFor="let item of CentrelinkTotal | filterHide:'EligiblePeriod-client'">
        <td style="border:none;">Period of Eligibility {{clientDetails.clientName}}</td>
        <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
          <span *ngIf="value.value == 0 else gtc"> - </span>  <ng-template #gtc> <span>${{value.value | number}} </span> </ng-template>
        </td>
      </tr>
      <tr>
        <td [attr.colspan]="period" style="border:none;border-bottom:1px solid #dbdbdb;"></td>
      </tr>
      <tr style="font-weight:bold;" *ngFor="let item of CentrelinkTotal | filterHide:'EligiblePeriod-partner'">
        <td style="border:none;">Period of Eligibility {{clientDetails.partnerName}}</td>
        <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
          <span *ngIf="value.value == 0 else gtc"> - </span>  <ng-template #gtc> <span>${{value.value | number}} </span> </ng-template>
        </td>
      </tr>
    </ng-template>
  </tbody>
</table>

<!--Optimizer-->

<table class="table" *ngIf="(projection == 'strategyOptimizer' ) " style="margin-top:30px;">
  <tr>
    <td>
      <div class="col-md-12" style="margin-bottom: 10px">
        <table class="table" style="margin-top:50px;">
          <tr style="background-color:#8f8f8f;color:white">
            <td style="min-width:230px !important;"></td>
            <td style="text-align:center;" *ngFor="let year of years">1/7/{{year}}</td>
          </tr>
          <tr style="color:gray">
            <td style="border:none;"> Age - {{clientDetails.clientName}}</td>
            <td style="border:none;text-align:center;" *ngFor="let year of years;let index = index">
              <span *ngIf="year == clientRetirementYear else ageC">  {{index + clientAge }} [R] </span>  <ng-template #ageC> <span>{{index + clientAge }}</span> </ng-template>
            </td>
          </tr>
          <tr style="color:gray" *ngIf="clientDetails.maritalStatus == 'M'">
            <td style="border:none;"> Age - {{clientDetails.partnerName}}</td>
            <td style="border:none;text-align:center;" *ngFor="let year of years;let index = index">
              <span *ngIf="year == partnerRetirementYear else ageP"> {{index + partnerAge }} [R] </span>  <ng-template #ageP> <span>{{index + partnerAge }}</span> </ng-template>
            </td>
          </tr>

          <tr style="font-weight:bold;border:none;" *ngFor="let item of netAsset">
            <td style="border:none;">Current Net Assets</td>
            <td style="border:none;text-align:right" *ngFor=" let value of item.values | keys">
              <span *ngIf="value.value == 0 else nc"> - </span>
              <ng-template #nc>
                <span *ngIf="value.value > 0 else neg">${{value.value | number}} </span>
                <ng-template #neg>
                  <span> (${{value.value | positive | number  }}) </span>
                </ng-template>
              </ng-template>
            </td>
          </tr>

          <tr style="font-weight:bold;border:none;" *ngFor="let item of netAssetOptimized">
            <td style="border:none;">Proposed Net Assets</td>
            <td style="border:none;text-align:right" *ngFor=" let value of item.values | keys">
              <span *ngIf="value.value == 0 else nc"> - </span>
              <ng-template #nc>
                <span *ngIf="value.value > 0 else neg">${{value.value | number}} </span>
                <ng-template #neg>
                  <span> (${{value.value | positive | number  }}) </span>
                </ng-template>
              </ng-template>
            </td>
          </tr>
          <tr style="height:40px;">
            <td [attr.colspan]="period"></td>
          </tr>
        </table>

      </div>
      <div class="row">
        <div class="col-md-12">
          <div style="display: block;">

            <canvas baseChart width="400" height="300"
                    [datasets]="lineChartData"
                    [labels]="lineChartLabels"
                    [options]="lineChartOptions"
                    [colors]="lineChartColors"
                    [legend]="lineChartLegend"
                    [chartType]="lineChartType"></canvas>
          </div>
        </div>

      </div>
      <div class="col-md-12" style="margin-bottom: 10px">
        <table class="table" style="margin-top:50px;">
          <tr style="background-color:#8f8f8f;color:white">
            <td style="min-width:230px !important;"></td>
            <td style="text-align:center;" *ngFor="let year of years">1/7/{{year}}</td>
          </tr>
          <tr style="color:gray">
            <td style="border:none;"> Age - {{clientDetails.clientName}}</td>
            <td style="border:none;text-align:center;" *ngFor="let year of years;let index = index">
              <span *ngIf="year == clientRetirementYear else ageC">  {{index + clientAge }} [R] </span>  <ng-template #ageC> <span>{{index + clientAge }}</span> </ng-template>
            </td>
          </tr>
          <tr style="color:gray" *ngIf="clientDetails.maritalStatus == 'M'">
            <td style="border:none;"> Age - {{clientDetails.partnerName}}</td>
            <td style="border:none;text-align:center;" *ngFor="let year of years;let index = index">
              <span *ngIf="year == partnerRetirementYear else ageP"> {{index + partnerAge }} [R] </span>  <ng-template #ageP> <span>{{index + partnerAge }}</span> </ng-template>
            </td>
          </tr>



          <tr *ngFor="let item of finalStrategies" style="border:none;color:black">
            <td style="padding-left:2em !important;border:none;">{{item.name}}</td>
            <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
              <span *ngIf="value.value == 0 else ic"> </span>  <ng-template #ic> <span>${{value.value | number}} </span> </ng-template>
            </td>
          </tr>

          <tr style="height:40px;">
            <td [attr.colspan]="period"></td>
          </tr>
        </table>

      </div>
    </td>
  </tr>

</table>
<div style="float:right" *ngIf="(projection == 'strategyOptimizer' )">
  <a (click)="onPreviousSO()" class="previous">&laquo; Previous</a>
  <a (click)="onNextSO()" class="next">Next &raquo;</a>
</div>
<!--Proposed-->
<table *ngIf="(projection == 'proposedcashflow' )" class="table" style="margin-top:50px;">
  <tr style="background-color:#8f8f8f;color:white">
    <td style="min-width:230px !important;"></td>
    <td style="text-align:center;" *ngFor="let year of years">1/7/{{year}}</td>
  </tr>
  <tr style="color:gray">
    <td style="border:none;"> Age - {{clientDetails.clientName}}</td>
    <td style="border:none;text-align:center;" *ngFor="let year of years;let index = index">
      <span *ngIf="year == clientRetirementYear else ageC">  {{index + clientAge }} [R] </span>  <ng-template #ageC> <span>{{index + clientAge }}</span> </ng-template>
    </td>
  </tr>
  <tr style="color:gray" *ngIf="clientDetails.maritalStatus == 'M'">
    <td style="border:none;"> Age - {{clientDetails.partnerName}}</td>
    <td style="border:none;text-align:center;" *ngFor="let year of years;let index = index">
      <span *ngIf="year == partnerRetirementYear else ageP"> {{index + partnerAge }} [R] </span>  <ng-template #ageP> <span>{{index + partnerAge }}</span> </ng-template>
    </td>
  </tr>
  <tr style="height:40px;">
    <td [attr.colspan]="period"></td>
  </tr>
  <!--Inflow-->
  <tr class="header">
    <td style="border:none;font-weight:bold;" [attr.colspan]="period"> INFLOW </td>
  </tr>
  <tr style="background:#f18b43;">
    <td [attr.colspan]="period" style="padding:0 !important;height:3px;"></td>
  </tr>

  <!--Client-->
  <tr *ngIf="cfiClient?.length <= 0 && cfiPartner?.length <= 0 else clientIncomeTotal"></tr>
  <ng-template #clientIncomeTotal>


    <tr>
      <td style="padding-left:1em !important;border:none;">Income</td>
      <td [attr.colspan]="period - 1"></td>
    </tr>

    <tr *ngFor="let item of inflowOptimized | filterHide:'Client'" style="color:gray;">
      <td style="padding-left:2em !important;border:none;">{{item.name}} - {{clientDetails.clientName}}</td>
      <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
        <span *ngIf="value.value == 0 else ic"> - </span>  <ng-template #ic> <span>${{value.value | number}} </span> </ng-template>
      </td>
    </tr>



    <tr style="height:10px;">
      <td [attr.colspan]="period" style="border:none;"></td>
    </tr>
    <tr *ngFor="let item of PensiontotalOptimized | filterHide:'TotalPensionIncome'" style="color:gray;">
      <td style="padding-left:2em !important;border:none;">{{item.name}}</td>
      <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
        <span *ngIf="value.value == 0 else ipoP"> - </span>  <ng-template #ipoP> <span>${{value.value | number}} </span> </ng-template>
      </td>
    </tr>
    <tr style="height:10px;">
      <td [attr.colspan]="period" style="border:none;"></td>
    </tr>
    <tr *ngIf="((FAtotalOptimized | filterHide:'TotalIPO')?.length <= 0   && (PropertiestotalOptimized | filterHide:'TotalRent')?.length <= 0 ) else CFIIncome"> </tr>
    <ng-template #CFIIncome>
      <tr>
        <td style="padding-left:1em !important;border:none;">Investment Income</td>
        <td [attr.colspan]="period - 1" style="border:none;"></td>
      </tr>
    </ng-template>
    <tr *ngFor="let item of FAtotalOptimized | filterHide:'TotalIPO'" style="color:gray;">
      <td style="padding-left:2em !important;border:none;">{{item.name}}</td>
      <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
        <span *ngIf="value.value == 0 else ipoP"> - </span>  <ng-template #ipoP> <span>${{value.value | number}} </span> </ng-template>
      </td>
    </tr>
    <tr *ngFor="let item of PropertiestotalOptimized | filterHide:'TotalRent'" style="color:gray;">
      <td style="padding-left:2em !important;border:none;">{{item.name}}</td>
      <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
        <span *ngIf="value.value == 0 else rentP"> - </span>  <ng-template #rentP> <span>${{value.value | number}} </span> </ng-template>
      </td>
    </tr>
    <tr style="height:10px;">
      <td [attr.colspan]="period" style="border:none;"></td>
    </tr>

    <tr *ngIf="((FAtotalOptimized | filterHide:'TotalIW')?.length <= 0   && (PropertiestotalOptimized | filterHide:'TotalSaleProceeds')?.length <= 0 && (PropertiestotalOptimized | filterHide:'TotalSaleProceeds')?.length <= 0 && (SupertotalOptimized | filterHide:'TotalLumpSumWithdrawals')?.length <= 0) else SWA"> </tr>
    <ng-template #SWA>
      <tr>
        <td style="padding-left:1em !important;border:none;">Sale of/Withdrawals from Assets</td>
        <td [attr.colspan]="period - 1" style="border:none;"></td>
      </tr>
    </ng-template>

    <tr *ngFor="let item of FAtotalOptimized | filterHide:'TotalIW'" style="color:gray;">
      <td style="padding-left:2em !important;border:none;">{{item.name}}</td>
      <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
        <span *ngIf="value.value == 0 else ipoP"> - </span>  <ng-template #ipoP> <span>${{value.value | number}} </span> </ng-template>
      </td>
    </tr>
    <tr *ngFor="let item of PropertiestotalOptimized | filterHide:'TotalSaleProceeds'" style="color:gray;">
      <td style="padding-left:2em !important;border:none;">{{item.name}}</td>
      <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
        <span *ngIf="value.value == 0 else saleProceeds"> - </span>  <ng-template #saleProceeds> <span>${{value.value | number}} </span> </ng-template>
      </td>
    </tr>
    <tr *ngFor="let item of LATotalOptimized | filterHide:'TotalLASales'" style="color:gray;">
      <td style="padding-left:2em !important;border:none;">{{item.name}}</td>
      <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
        <span *ngIf="value.value == 0 else laSaleProceeds"> - </span>  <ng-template #laSaleProceeds> <span>${{value.value | number}} </span> </ng-template>
      </td>
    </tr>
    <tr *ngFor="let item of SupertotalOptimized | filterHide:'TotalLumpSumWithdrawals'" style="color:gray;">
      <td style="padding-left:2em !important;border:none;">{{item.name}}</td>
      <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
        <span *ngIf="value.value == 0 else lumpSumWithdrawals"> - </span>  <ng-template #lumpSumWithdrawals> <span>${{value.value | number}} </span> </ng-template>
      </td>
    </tr>
  </ng-template>

  <tr *ngIf="(cfiClient?.length <= 0 && cfiPartner?.length <= 0 ) else InflowTotal"></tr>
  <ng-template #InflowTotal>

    <tr style="height:10px;">
      <td [attr.colspan]="period" style="border:none;"></td>
    </tr>
    <tr style="background-color:#9d9b9b1c;font-weight:bold;" *ngFor="let item of inflowOptimized | filterHide:'Inflow'">
      <td style="border-bottom:1px solid #dbdbdb;border-top:none;">Total Inflow</td>
      <td style="border-bottom:1px solid #dbdbdb;border-top:none;text-align:right;" *ngFor=" let value of item.values | keys">
        <span *ngIf="value.value == 0 else ti"> - </span>  <ng-template #ti> <span>${{value.value | number}} </span> </ng-template>
      </td>
    </tr>
  </ng-template>
  <tr style="height:20px;">
    <td [attr.colspan]="period" style="border:none;"></td>
  </tr>



  <!--Outflow------------------------------------------------------------------------------------------------------->
  <tr class="header">
    <td style="border:none;font-weight:bold;" [attr.colspan]="period"> OUTFLOW </td>
  </tr>
  <tr style="background:#f18b43;">
    <td [attr.colspan]="period" style="padding:0 !important;height:3px;"></td>
  </tr>

  <tr *ngIf="(cfeClient?.length <= 0 && cfePartner?.length <= 0 && cfeJoint?.length <= 0)else clientExpenditureTotal"></tr>
  <ng-template #clientExpenditureTotal>
    <tr>
      <td style="padding-left:1em !important;border:none;">Expenses</td>
      <td [attr.colspan]="period - 1" style="border:none;"></td>
    </tr>


    <tr *ngFor="let item of outflowOptimized | filterHide:'Client'" style="color:gray;">
      <td style="padding-left:2em !important;border:none;">{{item.name}} - {{clientDetails.clientName}}</td>
      <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
        <span *ngIf="value.value == 0 else ec"> - </span>  <ng-template #ec> <span>${{value.value | number}} </span> </ng-template>
      </td>
    </tr>



    <!--Partner-->
    <tr class="lessons-list" *ngIf="clientDetails.maritalStatus == 'S' else partnerExpenditure"></tr>
    <ng-template #partnerExpenditure>

      <tr *ngIf="cfePartner?.length <= 0 else partnerExpenditureTotal"></tr>
      <ng-template #partnerExpenditureTotal>

        <tr *ngFor="let item of outflowOptimized | filterHide:'Partner'" style="color:gray;">
          <td style="padding-left:2em !important;border:none;">{{item.name}} - {{clientDetails.partnerName}}</td>
          <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
            <span *ngIf="value.value == 0 else ep"> - </span>  <ng-template #ep> <span>${{value.value | number}} </span> </ng-template>
          </td>
        </tr>

      </ng-template>




      <!--Joint-->

      <tr *ngIf="cfeJoint?.length <= 0 else jointExpenditureTotal"></tr>
      <ng-template #jointExpenditureTotal>

        <tr *ngFor="let item of outflowOptimized | filterHide:'Joint'" style="color:gray;">
          <td style="padding-left:2em !important;border:none;">{{item.name}} - Joint</td>
          <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
            <span *ngIf="value.value == 0 else ej"> - </span>  <ng-template #ej> <span>${{value.value | number}} </span> </ng-template>
          </td>
        </tr>

      </ng-template>

    </ng-template>

  </ng-template>

  <tr style="height:10px;">
    <td [attr.colspan]="period" style="border:none;"></td>
  </tr>

  <tr *ngIf="FAtotalOptimized?.length <= 0 else clientTotalInvestments"></tr>
  <ng-template #clientTotalInvestments>

    <tr>
      <td style="padding-left:1em !important;border:none;">Purchase of/Contributions into Assets</td>
      <td [attr.colspan]="period - 1" style="border:none;"></td>
    </tr>

    <tr *ngFor="let item of FAtotalOptimized | filterHide:'TotalIC'" style="color:gray;">
      <td style="padding-left:2em !important;border:none;">{{item.name}}</td>
      <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
        <span *ngIf="value.value == 0 else ipoP"> - </span>  <ng-template #ipoP> <span>${{value.value | number}} </span> </ng-template>
      </td>
    </tr>
    <tr *ngFor="let item of PropertiestotalOptimized | filterHide:'TotalPropertyExpenses'" style="color:gray;">
      <td style="padding-left:2em !important;border:none;">{{item.name}}</td>
      <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
        <span *ngIf="value.value == 0 else propertyExpenses"> - </span>  <ng-template #propertyExpenses> <span>${{value.value | number}} </span> </ng-template>
      </td>
    </tr>
    <tr *ngFor="let item of LATotalOptimized | filterHide:'TotalLAPurchase'" style="color:gray;">
      <td style="padding-left:2em !important;border:none;">{{item.name}}</td>
      <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
        <span *ngIf="value.value == 0 else laPurchaseProceeds"> - </span>  <ng-template #laPurchaseProceeds> <span>${{value.value | number}} </span> </ng-template>
      </td>
    </tr>
    <tr style="height:10px;">
      <td [attr.colspan]="period" style="border:none;"></td>
    </tr>

    <tr *ngFor="let item of FAtotalOptimized | filterHide:'TotalITPayable'">
      <td style="padding-left:1em !important;border:none;">{{item.name}}</td>
      <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
        <span *ngIf="value.value == 0 else ipoP"> - </span>  <ng-template #ipoP> <span>${{value.value | number}} </span> </ng-template>
      </td>
    </tr>
    <tr style="height:10px;">
      <td [attr.colspan]="period" style="border:none;"></td>
    </tr>

    <tr *ngFor="let item of LBtotalOptimized | filterHide:'TotalDebtRepayment'">
      <td style="padding-left:1em !important;border:none;">{{item.name}}</td>
      <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
        <span *ngIf="value.value == 0 else dRepmt"> - </span>  <ng-template #dRepmt> <span>${{value.value | number}} </span> </ng-template>
      </td>
    </tr>
    <tr style="height:10px;">
      <td [attr.colspan]="period" style="border:none;"></td>
    </tr>
  </ng-template>



  <tr *ngIf="((SupertotalOptimized | filterHide:'TotalSalarySacrificeContributions')?.length <= 0   && (SupertotalOptimized | filterHide:'TotalPNCContributions')?.length <= 0 && (SupertotalOptimized | filterHide:'TotalSpouseContributions')?.length <= 0) else CFSuper"> </tr>
  <ng-template #CFSuper>
    <tr style="height:10px;">
      <td [attr.colspan]="period" style="border:none;"></td>
    </tr>

    <tr>
      <td style="padding-left:1em !important;border:none;">Super Contributions</td>
      <td [attr.colspan]="period - 1" style="border:none;"></td>
    </tr>
    <tr *ngFor="let item of SupertotalOptimized | filterHide:'TotalSalarySacrificeContributions'" style="color:gray;">
      <td style="padding-left:2em !important;border:none;">{{item.name}}</td>
      <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
        <span *ngIf="value.value == 0 else ipoP"> - </span>  <ng-template #ipoP> <span>${{value.value | number}} </span> </ng-template>
      </td>
    </tr>
    <tr *ngFor="let item of SupertotalOptimized | filterHide:'TotalPNCContributions'" style="color:gray;">
      <td style="padding-left:2em !important;border:none;">{{item.name}}</td>
      <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
        <span *ngIf="value.value == 0 else ipoP"> - </span>  <ng-template #ipoP> <span>${{value.value | number}} </span> </ng-template>
      </td>
    </tr>
    <tr *ngIf="clientDetails.maritalStatus == 'S' else spouseOutflow"></tr>
    <ng-template #spouseOutflow>
      <tr *ngFor="let item of SupertotalOptimized | filterHide:'TotalSpouseContributions'" style="color:gray;">
        <td style="padding-left:2em !important;border:none;">{{item.name}}</td>
        <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
          <span *ngIf="value.value == 0 else ipoP"> - </span>  <ng-template #ipoP> <span>${{value.value | number}} </span> </ng-template>
        </td>
      </tr>
    </ng-template>


  </ng-template>
  <tr *ngIf="(cfeClient?.length <= 0 && cfePartner?.length <= 0 && cfeJoint?.length <= 0 ) else OutflowTotal"></tr>
  <ng-template #OutflowTotal>
    <tr style="height:10px;">
      <td [attr.colspan]="period" style="border:none;"></td>
    </tr>
    <tr style="background-color:#9d9b9b1c;font-weight:bold;" *ngFor="let item of outflowOptimized | filterHide:'Outflow'">
      <td style="border-bottom:1px solid #dbdbdb;border-top:none;">Total Outflow</td>
      <td style="border-bottom:1px solid #dbdbdb;border-top:none;text-align:right;" *ngFor=" let value of item.values | keys">
        <span *ngIf="value.value == 0 else to"> - </span>  <ng-template #to> <span>${{value.value | number}} </span> </ng-template>
      </td>
    </tr>
  </ng-template>
  <!--<tr style="background:#dbdbdb;">
      <td [attr.colspan]="period"></td>
  </tr>-->
  <tr style="height:20px;">
    <td [attr.colspan]="period" style="border:none;"></td>
  </tr>
  <tr *ngIf="(netCashFlowOptimized?.length <= 0 ) else NetFlowTotal"></tr>
  <ng-template #NetFlowTotal>
    <tr style="font-weight:bold;background-color:#9d9b9b1c;border:none;" *ngFor="let item of netCashFlowOptimized">
      <td style="border:none;">Net Cashflow</td>
      <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
        <span *ngIf="value.value == 0 else nc"> - </span>
        <ng-template #nc>
          <span *ngIf="value.value > 0 else neg">${{value.value | number}} </span>
          <ng-template #neg>
            <span> (${{value.value | positive | number  }}) </span>
          </ng-template>
        </ng-template>
      </td>
    </tr>
    <tr style="font-weight:bold;background-color:#9d9b9b1c;border:none;" *ngFor="let item of netCashFlowOptimized">
      <td style="border:none;">Allocation to/from Assets</td>
      <td style="border:none;text-align:right;" *ngFor=" let value of item.assetAllocationValues | keys">
        <span *ngIf="value.value == 0 else nc"> - </span>
        <ng-template #nc>
          <span *ngIf="value.value > 0 else neg">$({{value.value | number}}) </span>
          <ng-template #neg>
            <span> - </span>
          </ng-template>
        </ng-template>
      </td>
    </tr>
    <tr style="font-weight:bold;background-color:#9d9b9b1c;border:none;" *ngFor="let item of netCashFlowOptimized">
      <td style="border:none;">Unfunded Net Cashflow</td>
      <td style="border:none;text-align:right;" *ngFor=" let value of item.unfundedNetCFValues | keys">
        <span *ngIf="value.value == 0 else nc"> - </span>
        <ng-template #nc>
          <span *ngIf="value.value < 0 else neg">$({{value.value | positive | number}}) </span>
          <ng-template #neg>
            <span> - </span>
          </ng-template>
        </ng-template>
      </td>
    </tr>
    <tr style="background:#f18b43;">
      <td [attr.colspan]="period" style="padding:0 !important;height:3px;"></td>
    </tr>
    <tr style="height:10px;">
      <td [attr.colspan]="period" style="border:none;"></td>
    </tr>
    <!--<tr style="font-weight:bold;border:none;">
        <td style="border:none;">Allocate Surplus To</td>
        <td style="border:none;">

            <label for="owner" style="text-align:right;">Owner</label>
            <div>
                <select class="form-control" id="owner" name="owner" #ownerType (change)="changeOwner(ownerType.value);" [(ngModel)]="Client" required>
                    <option class='option' *ngFor='let o of owner' [value]="o">{{o}}</option>
                </select>
            </div>
        </td>
        <td>
            <label for="owner" style="text-align:right;">Asset</label>
            <div>
                <select class="form-control" id="financialAssetList" name="financialAssetList" >
                    <option class='option' value="0">Create new bank account</option>
                    <option class='option' *ngFor='let i of financialAssetList' [value]="i.id">{{i.name}}</option>
                </select>
            </div>
        </td>

    </tr>-->
  </ng-template>
</table>
<div style="float:right" *ngIf="(projection == 'proposedcashflow' )">
  <a (click)="onPreviousPCF()" class="previous">&laquo; Previous</a>
  <a (click)="onNextPCF()" class="next">Next &raquo;</a>
</div>
<table class="table" *ngIf="(projection == 'proposedFinancialAssets' ) " style="margin-top:30px;">
  <tbody>
    <tr style="background-color:#8f8f8f;color:white">
      <th style="min-width:250px !important;"></th>
      <th style="text-align:center;" *ngFor="let year of years">1/7/{{year}}</th>
    </tr>
    <tr style="color:gray">
      <td style="border:none;"> Age - {{clientDetails.clientName}}</td>
      <td style="border:none;text-align:center;" *ngFor="let year of years;let index = index">
        <span *ngIf="year == clientRetirementYear else ageC">  {{index + clientAge }} [R] </span>  <ng-template #ageC> <span>{{index + clientAge }}</span> </ng-template>
      </td>
    </tr>
    <tr style="color:gray" *ngIf="clientDetails.maritalStatus == 'M'">
      <td style="border:none;"> Age - {{clientDetails.partnerName}}</td>
      <td style="border:none;text-align:center;" *ngFor="let year of years;let index = index">
        <span *ngIf="year == partnerRetirementYear else ageP"> {{index + partnerAge }} [R] </span>  <ng-template #ageP> <span>{{index + partnerAge }}</span> </ng-template>
      </td>
    </tr>
    <tr style="height:40px;">
      <td [attr.colspan]="period"></td>
    </tr>

    <!--Summary-->
    <tr class="header">
      <td style="border:none;font-weight:bold;" [attr.colspan]="period"> SUMMARY </td>
    </tr>
    <tr style="background:#f18b43;">
      <td [attr.colspan]="period" style="padding:0 !important;height:3px;"></td>
    </tr>
    <!--Investment-->
    <tr *ngIf="investmentClientOptimized?.length <= 0 else clientInvestmentsSummary"></tr>
    <ng-template #clientInvestmentsSummary>
      <ng-container *ngFor="let item of investmentClientOptimized">
        <tr *ngFor="let endingVal of BeginningValueOptimized | filterFurther:'Client':item.investmentId:'endingValues'">
          <td style="border:none;">{{item.name}} - {{clientDetails.clientName}}</td>
          <td style="border:none;text-align:right;" *ngFor=" let endv of endingVal.endingValues | keys">
            <span *ngIf="endv.value == 0 else endingValInvestment"> - </span>  <ng-template #endingValInvestment> <span>${{endv.value| number}} </span> </ng-template>
          </td>
        </tr>
      </ng-container>
    </ng-template>
    <tr *ngIf="investmentPartnerOptimized?.length <= 0 else partnerInvestmentsSummary"></tr>
    <ng-template #partnerInvestmentsSummary>
      <ng-container *ngFor="let item of investmentPartnerOptimized">
        <tr *ngFor="let endingVal of BeginningValueOptimized | filterFurther:'Partner':item.investmentId:'endingValues'">
          <td style="border:none;">{{item.name}} - {{clientDetails.partnerName}}</td>
          <td style="border:none;text-align:right;" *ngFor=" let endv of endingVal.endingValues | keys">
            <span *ngIf="endv.value == 0 else endingValInvestment"> - </span>  <ng-template #endingValInvestment> <span>${{endv.value| number}} </span> </ng-template>
          </td>
        </tr>
      </ng-container>
    </ng-template>
    <tr *ngIf="investmentJointOptimized?.length <= 0 else jointInvestmentsSummary"></tr>
    <ng-template #jointInvestmentsSummary>
      <ng-container *ngFor="let item of investmentJointOptimized">
        <tr *ngFor="let endingVal of BeginningValueOptimized | filterFurther:'Joint':item.investmentId:'endingValues'">
          <td style="border:none;">{{item.name}} - Joint</td>
          <td style="border:none;text-align:right;" *ngFor=" let endv of endingVal.endingValues | keys">
            <span *ngIf="endv.value == 0 else endingValInvestment"> - </span>  <ng-template #endingValInvestment> <span>${{endv.value| number}} </span> </ng-template>
          </td>
        </tr>
      </ng-container>
    </ng-template>

    <!--Property-->
    <tr *ngIf="propertiesClient?.length <= 0 else clientPropertiesSummary"></tr>
    <ng-template #clientPropertiesSummary>
      <ng-container *ngFor="let item of propertiesClient">
        <tr *ngFor="let endingVal of PropertiesValueOptimized | filterFurther:'Client':item.propertyId:'endingValues'">
          <td style="border:none;">{{item.name}} - {{clientDetails.clientName}}</td>
          <td style="border:none;text-align:right;" *ngFor=" let endv of endingVal.endingValues | keys">
            <span *ngIf="endv.value == 0 else endingValProperty"> - </span>  <ng-template #endingValProperty> <span>${{endv.value| number}} </span> </ng-template>
          </td>
        </tr>
      </ng-container>
    </ng-template>
    <tr *ngIf="propertiesPartner?.length <= 0 else partnerPropertiesSummary"></tr>
    <ng-template #partnerPropertiesSummary>
      <ng-container *ngFor="let item of propertiesPartner">
        <tr *ngFor="let endingVal of PropertiesValueOptimized | filterFurther:'Partner':item.propertyId:'endingValues'">
          <td style="border:none;">{{item.name}} - {{clientDetails.partnerName}}</td>
          <td style="border:none;text-align:right;" *ngFor=" let endv of endingVal.endingValues | keys">
            <span *ngIf="endv.value == 0 else endingValProperty"> - </span>  <ng-template #endingValProperty> <span>${{endv.value| number}} </span> </ng-template>
          </td>
        </tr>
      </ng-container>
    </ng-template>
    <tr *ngIf="propertiesJoint?.length <= 0 else jointPropertiesSummary"></tr>
    <ng-template #jointPropertiesSummary>
      <ng-container *ngFor="let item of propertiesJoint">
        <tr *ngFor="let endingVal of PropertiesValueOptimized | filterFurther:'Joint':item.propertyId:'endingValues'">
          <td style="border:none;">{{item.name}} - Joint</td>
          <td style="border:none;text-align:right;" *ngFor=" let endv of endingVal.endingValues | keys">
            <span *ngIf="endv.value == 0 else endingValProperty"> - </span>  <ng-template #endingValProperty> <span>${{endv.value| number}} </span> </ng-template>
          </td>
        </tr>
      </ng-container>
    </ng-template>
    <!--Super-->
    <tr *ngIf="superClient?.length <= 0 else clientSupersSummary"></tr>
    <ng-template #clientSupersSummary>
      <ng-container *ngFor="let item of superClient">
        <tr *ngFor="let endingVal of SuperValueOptimized | filterFurther:'Client':item.superId:'endingValues'">
          <td style="border:none;">{{item.name}} - {{clientDetails.clientName}}</td>
          <td style="border:none;text-align:right;" *ngFor=" let endv of endingVal.endingValues | keys">
            <span *ngIf="endv.value == 0 else endingValSuper"> - </span>  <ng-template #endingValSuper> <span>${{endv.value| number}} </span> </ng-template>
          </td>
        </tr>
      </ng-container>
    </ng-template>
    <tr *ngIf="superPartner?.length <= 0 else partnerSupersummary"></tr>
    <ng-template #partnerSupersummary>
      <ng-container *ngFor="let item of superPartner">
        <tr *ngFor="let endingVal of SuperValueOptimized | filterFurther:'Partner':item.superId:'endingValues'">
          <td style="border:none;">{{item.name}} - {{clientDetails.partnerName}}</td>
          <td style="border:none;text-align:right;" *ngFor=" let endv of endingVal.endingValues | keys">
            <span *ngIf="endv.value == 0 else endingValSuper"> - </span>  <ng-template #endingValSuper> <span>${{endv.value| number}} </span> </ng-template>
          </td>
        </tr>
      </ng-container>
    </ng-template>
    <!--Pension-->
    <tr *ngIf="pensionClient?.length <= 0 else clientPensionsSummary"></tr>
    <ng-template #clientPensionsSummary>
      <ng-container *ngFor="let item of pensionClientOptimized">
        <tr *ngFor="let endingVal of PensionValue | filterFurther:'Client':item.pensionId:'endingValues'">
          <td style="border:none;">{{item.name}} - {{clientDetails.clientName}}</td>
          <td style="border:none;text-align:right;" *ngFor=" let endv of endingVal.endingValues | keys">
            <span *ngIf="endv.value == 0 else endingValPension"> - </span>  <ng-template #endingValPension> <span>${{endv.value| number}} </span> </ng-template>
          </td>
        </tr>
      </ng-container>
    </ng-template>
    <tr *ngIf="pensionPartner?.length <= 0 else partnerPensionsSummary"></tr>
    <ng-template #partnerPensionsSummary>
      <ng-container *ngFor="let item of pensionPartner">
        <tr *ngFor="let endingVal of PensionValueOptimized | filterFurther:'Partner':item.pensionId:'endingValues'">
          <td style="border:none;">{{item.name}} - {{clientDetails.partnerName}}</td>
          <td style="border:none;text-align:right;" *ngFor=" let endv of endingVal.endingValues | keys">
            <span *ngIf="endv.value == 0 else endingValPension"> - </span>  <ng-template #endingValPension> <span>${{endv.value| number}} </span> </ng-template>
          </td>
        </tr>
      </ng-container>
    </ng-template>

    <tr style="height:50px;" [attr.colspan]="period"></tr>
    <!--End------------------------------------------------------------------------------------------------------------------>




    <tr class="header" style="margin-top:30px;">
      <td style="border:none;font-weight:bold;" [attr.colspan]="period"> ASSETS <span class="glyphicon glyphicon-chevron-up" style="left:90%;"></span></td>
    </tr>
    <tr style="background:#f18b43;">
      <td [attr.colspan]="period" style="padding:0 !important;height:3px;"></td>
    </tr>
    <!--Client-->
    <tr *ngIf="lifestylesOptimized?.length <= 0 else LAsset"></tr>
    <ng-template #LAsset>
      <tr *ngFor="let item of lifestylesOptimized | filterHide:'Client'" style="color:gray;">

        <td style="padding-left:2em !important;border:none;">{{item.name}} - {{clientDetails.clientName}} </td>
        <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
          <span *ngIf="value.value == 0 else ic"> - </span>  <ng-template #ic> <span>${{value.value | number}} </span> </ng-template>
        </td>
      </tr>
      <tr *ngFor="let item of lifestylesOptimized | filterHide:'Partner'" style="color:gray;">
        <td style="padding-left:2em !important;border:none;">{{item.name}} - {{clientDetails.partnerName}} </td>
        <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
          <span *ngIf="value.value == 0 else ic"> - </span>  <ng-template #ic> <span>${{value.value | number}} </span> </ng-template>
        </td>
      </tr>
      <tr *ngFor="let item of lifestylesOptimized | filterHide:'Joint'" style="color:gray;">
        <td style="padding-left:2em !important;border:none;">{{item.name}} - Joint </td>
        <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
          <span *ngIf="value.value == 0 else ic"> - </span>  <ng-template #ic> <span>${{value.value | number}} </span> </ng-template>
        </td>
      </tr>
    </ng-template>
    <tr *ngIf="investmentClientOptimized?.length <= 0 else clientInvestments"></tr>
    <ng-template #clientInvestments>
      <ng-container *ngFor="let item of investmentClientOptimized">
        <tr style="font-weight:bold;background:#9d9b9b1c;">
          <td style="border-bottom:1px solid #dbdbdb;">{{item.name}} - {{clientDetails.clientName}} </td>
          <td [attr.colspan]="period - 1" style="border-bottom:1px solid #dbdbdb;"></td>
        </tr>
        <tr *ngFor="let beg of BeginningValueOptimized |  filterFurther:'Client':item.investmentId:'BegValues'">
          <td style="border:none;">{{beg.name}}</td>
          <td style="border:none;text-align:right;" *ngFor=" let value of beg.BegValues | keys">
            <span *ngIf="value.value == 0 else begInvestment"> - </span>  <ng-template #begInvestment> <span>${{value.value| number}} </span> </ng-template>
          </td>
        </tr>

        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>
        <tr *ngFor="let earnings of BeginningValueOptimized | filterFurther:'Client':item.investmentId">
          <td style="border:none;">Earnings</td>
          <td [attr.colspan]="period - 1" style="border:none;"></td>
        </tr>
        <tr *ngFor="let growth of BeginningValueOptimized | filterFurther:'Client':item.investmentId:'growthValues'" style="color:gray">
          <td style="padding-left:2em !important;border:none;">Growth</td>
          <td style="border:none;text-align:right;" *ngFor=" let g of growth.growthValues | keys">
            <span *ngIf="g.value == 0 else growthInvestment"> - </span>  <ng-template #growthInvestment> <span>${{g.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngFor="let income of BeginningValueOptimized | filterFurther:'Client':item.investmentId:'incomeValues'" style="color:gray">
          <td style="padding-left:2em !important;border:none;">Income</td>
          <td style="border:none;text-align:right;" *ngFor=" let i of income.incomeValues | keys">
            <span *ngIf="i.value == 0 else incomeInvestment"> - </span>  <ng-template #incomeInvestment> <span>${{i.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngFor="let incomePaidOut of BeginningValueOptimized | filterFurther:'Client':item.investmentId:'incomePaidOutValues'" style="color:gray">
          <td style="padding-left:4em !important;border:none;">Income paid out</td>
          <td style="border:none;text-align:right;" *ngFor=" let ipv of incomePaidOut.incomePaidOutValues | keys">
            <span *ngIf="ipv.value == 0 else incomePaidValueInvestment"> - </span>  <ng-template #incomePaidValueInvestment> <span>$({{ipv.value| number}}) </span> </ng-template>
          </td>
        </tr>
        <!--<tr *ngFor="let frankingCredits of BeginningValue | filterFurther:'Client':item.investmentId" style="color:gray">
            <td style="padding-left:4em !important;border:none;font-style:italic;">Franking credits</td>
            <td style="border:none;" *ngFor=" let fc of frankingCredits.frankingCreditsValues | keys">
                <span *ngIf="fc.value == 0 else frankingCreditsInvestment" style="font-style:italic;"> 0 </span>
                <ng-template #frankingCreditsInvestment>
                    <span style="font-style:italic;" *ngIf="fc.value > 0 else neg">${{fc.value | number}} </span>
                    <ng-template #neg>
                        <span style="font-style:italic;"> (${{fc.value | positive | number  }}) </span>
                    </ng-template>
                </ng-template>
            </td>
        </tr>-->
        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>
        <tr *ngFor="let contributions of BeginningValueOptimized | filterFurther:'Client':item.investmentId">
          <td style="border:none;">Contributions</td>
          <td [attr.colspan]="period - 1" style="border:none;"></td>
        </tr>
        <tr *ngFor="let regularContributions of BeginningValueOptimized | filterFurther:'Client':item.investmentId:'regularContributionsValues'" style="color:gray">
          <td style="padding-left:2em !important;border:none;">Regular Contributions</td>
          <td style="border:none;text-align:right;" *ngFor=" let rcntb of regularContributions.regularContributionsValues | keys">
            <span *ngIf="rcntb.value == 0 else regContributionInvestment"> - </span>  <ng-template #regContributionInvestment> <span>${{rcntb.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngFor="let purchaseOfAsset of BeginningValueOptimized | filterFurther:'Client':item.investmentId:'purchaseOfAssetValues'" style="color:gray">
          <td style="padding-left:2em !important;border:none;">Purchase of asset</td>
          <td style="border:none;text-align:right;" *ngFor=" let poa of purchaseOfAsset.purchaseOfAssetValues | keys">
            <span *ngIf="poa.value == 0 else poaInvestment"> - </span>  <ng-template #poaInvestment> <span>${{poa.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>
        <tr *ngFor="let withdrawals of BeginningValueOptimized | filterFurther:'Client':item.investmentId">
          <td style="border:none;text-align:right;">Withdrawals</td>
          <td [attr.colspan]="period - 1" style="border:none;"></td>

        </tr>
        <tr *ngFor="let regularWithdrawals of BeginningValueOptimized | filterFurther:'Client':item.investmentId:'regularWithdrawalsValues'" style="color:gray">
          <td style="padding-left:2em !important;border:none;">Regular Withdrawals</td>
          <td style="border:none;text-align:right;" *ngFor=" let rwtdl of regularWithdrawals.regularWithdrawalsValues | keys">
            <span *ngIf="rwtdl.value == 0 else regWithdrawalInvestment"> - </span>  <ng-template #regWithdrawalInvestment> <span>${{rwtdl.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngFor="let saleOfAsset of BeginningValueOptimized | filterFurther:'Client':item.investmentId" style="color:gray">
          <td style="padding-left:2em !important;border:none;">Sale of asset</td>
          <td style="border:none;text-align:right;" *ngFor=" let soa of saleOfAsset.saleOfAssetValues | keys">
            <span *ngIf="soa.value == 0 else soaInvestment"> - </span>  <ng-template #soaInvestment> <span>${{soa.value| number}} </span> </ng-template>
          </td>
        </tr>

        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>
        <tr *ngFor="let sup of BeginningValueOptimized | filterFurther:'Client':item.investmentId:'cashFlowValues'">
          <td style="border:none;">Surplus Cash flow</td>
          <td style="border:none;text-align:right;" *ngFor=" let value of sup.cashFlowValues | keys">
            <span *ngIf="value.value == 0 else begCS"> - </span>  <ng-template #begCS> <span>${{value.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngFor="let endingVal of BeginningValueOptimized | filterFurtherAllowZero:'Client':item.investmentId:'endingValues'">
          <td style="border:none;font-weight:bold">Closing Value</td>
          <td style="border:none;font-weight:bold;text-align:right;" *ngFor=" let endv of endingVal.endingValues | keys">
            <span *ngIf="endv.value == 0 else endingValInvestment"> - </span>  <ng-template #endingValInvestment> <span>${{endv.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngFor="let endingValPV of BeginningValueOptimized | filterFurtherAllowZero:'Client':item.investmentId:'endingValuesPV'" style="color:gray">
          <td style="padding-left:2em !important;border:none;">Closing Value (PV)</td>
          <td style="border:none;text-align:right;" *ngFor=" let pv of endingValPV.endingValuesPV | keys">
            <span *ngIf="pv.value == 0 else pvInvestment"> - </span>  <ng-template #pvInvestment> <span>${{pv.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>
        <tr *ngFor="let unrealCG of BeginningValueOptimized | filterFurther:'Client':item.investmentId:'unrealCGValues'" style="color:gray;">
          <td style="border:none;font-style:italic;">Unrealised capital gains</td>
          <td style="border:none;font-style:italic;text-align:right;" *ngFor=" let unrcg of unrealCG.unrealCGValues | keys">
            <span *ngIf="unrcg.value == 0 else unrcgInvestment"> - </span>  <ng-template #unrcgInvestment> <span>${{unrcg.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngFor="let realCG of BeginningValueOptimized | filterFurther:'Client':item.investmentId:'realCGValues'" style="color:gray;">
          <td style="border:none;font-style:italic;">Realised capital gains</td>
          <td style="border:none;font-style:italic;text-align:right;" *ngFor=" let rcg of realCG.realCGValues | keys">
            <span *ngIf="rcg.value == 0 else rcgInvestment"> - </span>  <ng-template #rcgInvestment> <span>${{rcg.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>
      </ng-container>

    </ng-template>

    <tr *ngIf="investmentPartnerOptimized?.length <= 0 else partnerInvestments"></tr>
    <ng-template #partnerInvestments>
      <ng-container *ngFor="let item of investmentPartnerOptimized">
        <tr style="font-weight:bold;background:#9d9b9b1c;">
          <td style="border-bottom:1px solid #dbdbdb;">{{item.name}} - {{clientDetails.partnerName}}</td>
          <td [attr.colspan]="period - 1" style="border-bottom:1px solid #dbdbdb;"></td>
        </tr>
        <tr *ngFor="let beg of BeginningValueOptimized | filterFurther:'Partner':item.investmentId:'BegValues'">
          <td style="border:none;">{{beg.name}}</td>
          <td style="border:none;text-align:right;" *ngFor=" let value of beg.BegValues | keys">
            <span *ngIf="value.value == 0 else begInvestment"> - </span>  <ng-template #begInvestment> <span>${{value.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr style="height:20px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>

        <tr *ngFor="let earnings of BeginningValueOptimized | filterFurther:'Partner':item.investmentId">
          <td style="border:none;">Earnings</td>
          <td [attr.colspan]="period - 1" style="border:none;"></td>
        </tr>
        <tr *ngFor="let growth of BeginningValueOptimized | filterFurther:'Partner':item.investmentId:'growthValues'" style="color:gray">
          <td style="padding-left:2em !important;border:none;">Growth</td>
          <td style="border:none;text-align:right;" *ngFor=" let g of growth.growthValues | keys">
            <span *ngIf="g.value == 0 else growthInvestment"> - </span>  <ng-template #growthInvestment> <span>${{g.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngFor="let income of BeginningValueOptimized | filterFurther:'Partner':item.investmentId:'incomeValues'" style="color:gray">
          <td style="padding-left:2em !important;border:none;">Income</td>
          <td style="border:none;text-align:right;" *ngFor=" let i of income.incomeValues | keys">
            <span *ngIf="i.value == 0 else incomeInvestment"> - </span>  <ng-template #incomeInvestment> <span>${{i.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngFor="let incomePaidOut of BeginningValueOptimized | filterFurther:'Partner':item.investmentId:'incomePaidOutValues'" style="color:gray">
          <td style="padding-left:4em !important;border:none;">Income paid out</td>
          <td style="border:none;text-align:right;" *ngFor=" let ipv of incomePaidOut.incomePaidOutValues | keys">
            <span *ngIf="ipv.value == 0 else incomePaidValueInvestment"> - </span>  <ng-template #incomePaidValueInvestment> <span>(${{ipv.value| number}})</span> </ng-template>
          </td>
        </tr>
        <!--<tr *ngFor="let frankingCredits of BeginningValue | filterFurther:'Partner':item.investmentId" style="color:gray">
            <td style="padding-left:4em !important;border:none;font-style:italic">Franking credits</td>
            <td style="border:none;font-style:italic;" *ngFor=" let fc of frankingCredits.frankingCreditsValues | keys">
                <span style="font-style:italic" *ngIf="fc.value == 0 else frankingCreditsInvestment"> 0 </span>
                <ng-template #frankingCreditsInvestment>
                    <span style="font-style:italic" *ngIf="fc.value > 0 else neg">${{fc.value | number}} </span>
                    <ng-template #neg>
                        <span style="font-style:italic"> (${{fc.value | positive | number  }}) </span>
                    </ng-template>
                </ng-template>
            </td>
        </tr>-->
        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>
        <tr *ngFor="let contributions of BeginningValueOptimized | filterFurther:'Partner':item.investmentId">
          <td style="border:none;">Contributions</td>
          <td [attr.colspan]="period - 1" style="border:none;"></td>

        </tr>
        <tr *ngFor="let regularContributions of BeginningValueOptimized | filterFurther:'Partner':item.investmentId:'regularContributionsValues'" style="color:gray">
          <td style="padding-left:2em !important;border:none;">Regular Contributions</td>
          <td style="border:none;text-align:right;" *ngFor=" let rcntb of regularContributions.regularContributionsValues | keys">
            <span *ngIf="rcntb.value == 0 else regContributionInvestment"> - </span>  <ng-template #regContributionInvestment> <span>${{rcntb.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngFor="let purchaseOfAsset of BeginningValueOptimized | filterFurther:'Partner':item.investmentId:'purchaseOfAssetValues'" style="color:gray">
          <td style="padding-left:2em !important;border:none;">Purchase of asset</td>
          <td style="border:none;text-align:right;" *ngFor=" let poa of purchaseOfAsset.purchaseOfAssetValues | keys">
            <span *ngIf="poa.value == 0 else poaInvestment"> - </span>  <ng-template #poaInvestment> <span>${{poa.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>
        <tr *ngFor="let withdrawals of BeginningValueOptimized | filterFurther:'Partner':item.investmentId">
          <td style="border:none;">Withdrawals</td>
          <td [attr.colspan]="period - 1" style="border:none;"></td>

        </tr>
        <tr *ngFor="let regularWithdrawals of BeginningValueOptimized | filterFurther:'Partner':item.investmentId:'regularWithdrawalsValues'" style="color:gray">
          <td style="padding-left:2em !important;border:none;">Regular Withdrawals</td>
          <td style="border:none;text-align:right;" *ngFor=" let rwtdl of regularWithdrawals.regularWithdrawalsValues | keys">
            <span *ngIf="rwtdl.value == 0 else regWithdrawalInvestment"> - </span>  <ng-template #regWithdrawalInvestment> <span>${{rwtdl.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngFor="let saleOfAsset of BeginningValueOptimized | filterFurther:'Partner':item.investmentId:'saleOfAssetValues'" style="color:gray">
          <td style="padding-left:2em !important;border:none;">Sale of asset</td>
          <td style="border:none;text-align:right;" *ngFor=" let soa of saleOfAsset.saleOfAssetValues | keys">
            <span *ngIf="soa.value == 0 else soaInvestment"> - </span>  <ng-template #soaInvestment> <span>${{soa.value| number}} </span> </ng-template>
          </td>
        </tr>

        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>
        <tr *ngFor="let endingVal of BeginningValueOptimized | filterFurtherAllowZero:'Partner':item.investmentId:'endingValues'">
          <td style="border:none;font-weight:bold">Closing Value</td>
          <td style="border:none;font-weight:bold;text-align:right;" *ngFor=" let endv of endingVal.endingValues | keys">
            <span *ngIf="endv.value == 0 else endingValInvestment"> - </span>  <ng-template #endingValInvestment> <span>${{endv.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngFor="let endingValPV of BeginningValueOptimized | filterFurtherAllowZero:'Partner':item.investmentId:'endingValuesPV'" style="color:gray">
          <td style="padding-left:2em !important;border:none;">Closing Value (PV)</td>
          <td style="border:none;text-align:right;" *ngFor=" let pv of endingValPV.endingValuesPV | keys">
            <span *ngIf="pv.value == 0 else pvInvestment"> - </span>  <ng-template #pvInvestment> <span>${{pv.value| number}} </span> </ng-template>
          </td>
        </tr>

        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>
        <tr *ngFor="let unrealCG of BeginningValueOptimized | filterFurther:'Partner':item.investmentId:'unrealCGValues'" style="color:gray;">
          <td style="border:none;font-style:italic">Unrealised capital gains</td>
          <td style="border:none;font-style:italic;text-align:right;" *ngFor=" let unrcg of unrealCG.unrealCGValues | keys">
            <span *ngIf="unrcg.value == 0 else unrcgInvestment"> - </span>  <ng-template #unrcgInvestment> <span>${{unrcg.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngFor="let realCG of BeginningValueOptimized | filterFurther:'Partner':item.investmentId:'realCGValues'" style="color:gray">
          <td style="border:none;font-style:italic">Realised capital gains</td>
          <td style="border:none;font-style:italic;text-align:right;" *ngFor=" let rcg of realCG.realCGValues | keys">
            <span *ngIf="rcg.value == 0 else rcgInvestment"> - </span>  <ng-template #rcgInvestment> <span>${{rcg.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>
      </ng-container>

    </ng-template>

    <tr *ngIf="investmentJointOptimized?.length <= 0 else jointInvestments"></tr>
    <ng-template #jointInvestments>
      <ng-container *ngFor="let item of investmentJointOptimized">
        <tr style="font-weight:bold;background:#9d9b9b1c;">
          <td style="border-bottom:1px solid #dbdbdb;">{{item.name}} - Joint</td>
          <td [attr.colspan]="period - 1" style="border-bottom:1px solid #dbdbdb;"></td>
        </tr>
        <tr *ngFor="let beg of BeginningValueOptimized | filterFurther:'Joint':item.investmentId:'BegValues'">
          <td style="border:none;">{{beg.name}}</td>
          <td style="border:none;text-align:right;" *ngFor=" let value of beg.BegValues | keys">
            <span *ngIf="value.value == 0 else begInvestment"> - </span>  <ng-template #begInvestment> <span>${{value.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr style="height:20px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>
        <tr *ngFor="let earnings of BeginningValueOptimized | filterFurther:'Joint':item.investmentId">
          <td style="border:none;text-align:right;">Earnings</td>
          <td [attr.colspan]="period - 1" style="border:none;"></td>

        </tr>
        <tr *ngFor="let growth of BeginningValueOptimized | filterFurther:'Joint':item.investmentId:'growthValues'" style="color:gray">
          <td style="padding-left:2em !important;border:none;">Growth</td>
          <td style="border:none;text-align:right;" *ngFor=" let g of growth.growthValues | keys">
            <span *ngIf="g.value == 0 else growthInvestment"> - </span>  <ng-template #growthInvestment> <span>${{g.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngFor="let income of BeginningValueOptimized | filterFurther:'Joint':item.investmentId:'incomeValues'" style="color:gray">
          <td style="padding-left:2em !important;border:none;">Income</td>
          <td style="border:none;text-align:right;" *ngFor=" let i of income.incomeValues | keys">
            <span *ngIf="i.value == 0 else incomeInvestment"> - </span>  <ng-template #incomeInvestment> <span>${{i.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngFor="let incomePaidOut of BeginningValueOptimized | filterFurther:'Joint':item.investmentId:'incomePaidOutValues'" style="color:gray">
          <td style="padding-left:4em !important;border:none;">Income paid out</td>
          <td style="border:none;text-align:right;" *ngFor=" let ipv of incomePaidOut.incomePaidOutValues | keys">
            <span *ngIf="ipv.value == 0 else incomePaidValueInvestment"> - </span>  <ng-template #incomePaidValueInvestment> <span>$({{ipv.value| number}}) </span> </ng-template>
          </td>
        </tr>
        <!--<tr *ngFor="let frankingCredits of BeginningValue | filterFurther:'Joint':item.investmentId" style="color:gray">
            <td style="padding-left:4em !important;border:none;font-style:italic">Franking credits</td>
            <td style="border:none;font-style:italic" *ngFor=" let fc of frankingCredits.frankingCreditsValues | keys">
                <span style="font-style:italic" *ngIf="fc.value == 0 else frankingCreditsInvestment"> 0 </span>
                <ng-template #frankingCreditsInvestment>
                    <span style="font-style:italic" *ngIf="fc.value > 0 else neg">${{fc.value | number}} </span>
                    <ng-template #neg>
                        <span style="font-style:italic"> (${{fc.value | positive | number  }}) </span>
                    </ng-template>
                </ng-template>
            </td>
        </tr>-->
        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>
        <tr *ngFor="let contributions of BeginningValueOptimized | filterFurther:'Joint':item.investmentId">
          <td style="border:none;">Contributions</td>
          <td [attr.colspan]="period - 1" style="border:none;"></td>

        </tr>
        <tr *ngFor="let regularContributions of BeginningValueOptimized | filterFurther:'Joint':item.investmentId:'regularContributionsValues'" style="color:gray">
          <td style="padding-left:2em !important;border:none;">Regular Contributions</td>
          <td style="border:none;text-align:right;" *ngFor=" let rcntb of regularContributions.regularContributionsValues | keys">
            <span *ngIf="rcntb.value == 0 else regContributionInvestment"> - </span>  <ng-template #regContributionInvestment> <span>${{rcntb.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngFor="let purchaseOfAsset of BeginningValueOptimized | filterFurther:'Joint':item.investmentId:'purchaseOfAssetValues'" style="color:gray">
          <td style="padding-left:2em !important;border:none;">Purchase of asset</td>
          <td style="border:none;text-align:right;" *ngFor=" let poa of purchaseOfAsset.purchaseOfAssetValues | keys">
            <span *ngIf="poa.value == 0 else poaInvestment"> - </span>  <ng-template #poaInvestment> <span>${{poa.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>
        <tr *ngFor="let withdrawals of BeginningValueOptimized | filterFurther:'Joint':item.investmentId">
          <td style="border:none;">Withdrawals</td>
          <td [attr.colspan]="period - 1" style="border:none;"></td>

        </tr>
        <tr *ngFor="let regularWithdrawals of BeginningValueOptimized | filterFurther:'Joint':item.investmentId:'regularWithdrawalsValues'" style="color:gray">
          <td style="padding-left:2em !important;border:none;">Regular Withdrawals</td>
          <td style="border:none;text-align:right;" *ngFor=" let rwtdl of regularWithdrawals.regularWithdrawalsValues | keys">
            <span *ngIf="rwtdl.value == 0 else regWithdrawalInvestment"> - </span>  <ng-template #regWithdrawalInvestment> <span>${{rwtdl.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngFor="let saleOfAsset of BeginningValueOptimized | filterFurther:'Joint':item.investmentId:'saleOfAssetValues'" style="color:gray">
          <td style="padding-left:2em !important;border:none;">Sale of asset</td>
          <td style="border:none;text-align:right;" *ngFor=" let soa of saleOfAsset.saleOfAssetValues | keys">
            <span *ngIf="soa.value == 0 else soaInvestment"> - </span>  <ng-template #soaInvestment> <span>${{soa.value| number}} </span> </ng-template>
          </td>
        </tr>

        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>
        <tr *ngFor="let endingVal of BeginningValueOptimized | filterFurtherAllowZero:'Joint':item.investmentId:'endingValues'">
          <td style="border:none;font-weight:bold">Closing Value</td>
          <td style="border:none;font-weight:bold;text-align:right;" *ngFor=" let endv of endingVal.endingValues | keys">
            <span *ngIf="endv.value == 0 else endingValInvestment"> - </span>  <ng-template #endingValInvestment> <span>${{endv.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngFor="let endingValPV of BeginningValueOptimized | filterFurtherAllowZero:'Joint':item.investmentId:'endingValuesPV'" style="color:gray">
          <td style="padding-left:2em !important;border:none;">Closing Value (PV)</td>
          <td style="border:none;text-align:right;" *ngFor=" let pv of endingValPV.endingValuesPV | keys">
            <span *ngIf="pv.value == 0 else pvInvestment"> - </span>  <ng-template #pvInvestment> <span>${{pv.value| number}} </span> </ng-template>
          </td>
        </tr>

        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>
        <tr *ngFor="let unrealCG of BeginningValueOptimized | filterFurther:'Joint':item.investmentId:'unrealCGValues'" style="color:gray">
          <td style="border:none;font-style:italic">Unrealised capital gains</td>
          <td style="border:none;font-style:italic;text-align:right;" *ngFor=" let unrcg of unrealCG.unrealCGValues | keys">
            <span *ngIf="unrcg.value == 0 else unrcgInvestment"> - </span>  <ng-template #unrcgInvestment> <span>${{unrcg.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngFor="let realCG of BeginningValueOptimized | filterFurther:'Joint':item.investmentId:'realCGValues'" style="color:gray">
          <td style="border:none;font-style:italic">Realised capital gains</td>
          <td style="border:none;font-style:italic;text-align:right;" *ngFor=" let rcg of realCG.realCGValues | keys">
            <span *ngIf="rcg.value == 0 else rcgInvestment"> - </span>  <ng-template #rcgInvestment> <span>${{rcg.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>
      </ng-container>

    </ng-template>


    <tr *ngIf="propertiesClient?.length <= 0 else propertiesClients"></tr>
    <ng-template #propertiesClients>
      <ng-container *ngFor="let item of propertiesClient">
        <tr style="font-weight:bold;background:#9d9b9b1c;">
          <td style="border-bottom:1px solid #dbdbdb;">{{item.name}} - {{clientDetails.clientName}} </td>
          <td [attr.colspan]="period - 1" style="border-bottom:1px solid #dbdbdb;"></td>
        </tr>
        <tr *ngFor="let prop of PropertiesValueOptimized | filterFurther:'Client':item.propertyId:'BegValues'">
          <td style="border:none;">Opening Value</td>
          <td style="border:none;text-align:right;" *ngFor=" let value of prop.BegValues | keys">
            <span *ngIf="value.value == 0 else begProperty"> - </span>  <ng-template #begProperty> <span>${{value.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>
        <tr *ngFor="let capitalGrowth of PropertiesValueOptimized | filterFurther:'Client':item.propertyId:'capitalGrowthValues'">
          <td style="border:none;">Capital Growth</td>
          <td style="border:none;text-align:right;" *ngFor=" let cg of capitalGrowth.capitalGrowthValues | keys">
            <span *ngIf="cg.value == 0 else capitalGrowthProperty"> - </span>  <ng-template #capitalGrowthProperty> <span>${{cg.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>

        <tr *ngFor="let endingVal of PropertiesValueOptimized | filterFurtherAllowZero:'Client':item.propertyId:'endingValues'">
          <td style="border:none;font-weight:bold">Closing Value</td>
          <td style="border:none;font-weight:bold;text-align:right;" *ngFor=" let endv of endingVal.endingValues | keys">
            <span *ngIf="endv.value == 0 else endingValProperty"> - </span>  <ng-template #endingValProperty> <span>${{endv.value| number}} </span> </ng-template>
          </td>
        </tr>

        <tr *ngFor="let endingValPV of PropertiesValueOptimized | filterFurtherAllowZero:'Client':item.propertyId:'endingValuesPV'" style="color:gray">
          <td style="padding-left:2em !important;border:none;">Closing Value (PV)</td>
          <td style="border:none;text-align:right;" *ngFor=" let pv of endingValPV.endingValuesPV | keys">
            <span *ngIf="pv.value == 0 else pvProperty"> - </span>  <ng-template #pvProperty> <span>${{pv.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>
        <tr *ngFor="let rent of PropertiesValueOptimized | filterFurther:'Client':item.propertyId:'rentValues'">
          <td style="border:none;">Rent</td>
          <td style="border:none;text-align:right;" *ngFor=" let r of rent.rentValues | keys">
            <span *ngIf="r.value == 0 else rentProperty"> - </span>  <ng-template #rentProperty> <span>${{r.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>
        <tr *ngFor="let expenses of PropertiesValueOptimized | filterFurther:'Client':item.propertyId:'expensesValues'">
          <td style="border:none;">Expenses</td>
          <td style="border:none;text-align:right;" *ngFor=" let exp of expenses.expensesValues | keys">
            <span *ngIf="exp.value == 0 else expenseProperty"> - </span>  <ng-template #expenseProperty> <span>${{exp.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>
        <tr *ngFor="let unrealCG of PropertiesValueOptimized | filterFurther:'Client':item.propertyId:'unrealCGValues'" style="color:gray;">
          <td style="border:none;font-style:italic;">Unrealised capital gains</td>
          <td style="border:none;font-style:italic;text-align:right;" *ngFor=" let unrcg of unrealCG.unrealCGValues | keys">
            <span *ngIf="unrcg.value == 0 else unrcgProperty"> - </span>  <ng-template #unrcgProperty> <span>${{unrcg.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngFor="let realCG of PropertiesValueOptimized | filterFurther:'Client':item.propertyId:'realCGValues'" style="color:gray;">
          <td style="border:none;font-style:italic;">Realised capital gains</td>
          <td style="border:none;font-style:italic;text-align:right;" *ngFor=" let rcg of realCG.realCGValues | keys">
            <span *ngIf="rcg.value == 0 else rcgProperty"> - </span>  <ng-template #rcgProperty> <span>${{rcg.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>
      </ng-container>

    </ng-template>


    <tr *ngIf="superClient?.length <= 0 else clientSupers"></tr>
    <ng-template #clientSupers>
      <ng-container *ngFor="let item of superClient">
        <tr style="font-weight:bold;background:#9d9b9b1c;">
          <td style="border-bottom:1px solid #dbdbdb;">{{item.name}} - {{clientDetails.clientName}} </td>
          <td [attr.colspan]="period - 1" style="border-bottom:1px solid #dbdbdb;"></td>
        </tr>
        <tr *ngFor="let beg of SuperValueOptimized | filterFurther:'Client':item.superId:'BegValues'">
          <td style="border:none;">{{beg.name}}</td>
          <td style="border:none;text-align:right;" *ngFor=" let value of beg.BegValues | keys">
            <span *ngIf="value.value == 0 else begSuper"> - </span>  <ng-template #begSuper> <span>${{value.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngFor="let taxable of SuperValueOptimized | filterFurther:'Client':item.superId:'TaxableBegValues'" style="color:gray">
          <td style="padding-left:2em !important;border:none;">Taxable Component</td>
          <td style="border:none;text-align:right;" *ngFor=" let g of taxable.TaxableBegValues | keys">
            <span *ngIf="g.value == 0 else taxableSuper"> - </span>  <ng-template #taxableSuper> <span>${{g.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngFor="let taxfree of SuperValueOptimized | filterFurther:'Client':item.superId:'TaxFreeBegValues'" style="color:gray">
          <td style="padding-left:2em !important;border:none;">Tax-Free Component</td>
          <td style="border:none;text-align:right;" *ngFor=" let g of taxfree.TaxFreeBegValues | keys">
            <span *ngIf="g.value == 0 else taxfreeSuper"> - </span>  <ng-template #taxfreeSuper> <span>${{g.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>
        <tr>
          <td style="border:none;">Earnings</td>
          <td [attr.colspan]="period - 1" style="border:none;"></td>
        </tr>
        <tr *ngFor="let growth of SuperValueOptimized | filterFurther:'Client':item.superId:'growthValues'" style="color:gray">
          <td style="padding-left:2em !important;border:none;">Growth</td>
          <td style="border:none;text-align:right;" *ngFor=" let g of growth.growthValues | keys">
            <span *ngIf="g.value == 0 else growthSuper"> - </span>  <ng-template #growthSuper> <span>${{g.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngFor="let income of SuperValueOptimized | filterFurther:'Client':item.superId:'incomeValues'" style="color:gray">
          <td style="padding-left:2em !important;border:none;">Income</td>
          <td style="border:none;text-align:right;" *ngFor=" let i of income.incomeValues | keys">
            <span *ngIf="i.value == 0 else incomeSuper"> - </span>  <ng-template #incomeSuper> <span>${{i.value| number}} </span> </ng-template>
          </td>
        </tr>
        <!--<tr *ngFor="let frankingCredits of SuperValue | filterFurther:'Client':item.superId" style="color:gray">
            <td style="padding-left:4em !important;border:none;font-style:italic;">Franking credits</td>
            <td style="border:none;" *ngFor=" let fc of frankingCredits.frankingCreditsValues | keys">
                <span *ngIf="fc.value == 0 else frankingCreditsSuper" style="font-style:italic;"> 0 </span>
                <ng-template #frankingCreditsSuper>
                    <span style="font-style:italic;" *ngIf="fc.value > 0 else neg">${{fc.value | number}} </span>
                    <ng-template #neg>
                        <span style="font-style:italic;"> (${{fc.value | positive | number  }}) </span>
                    </ng-template>
                </ng-template>
            </td>
        </tr>-->
        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>
        <tr *ngFor="let insurance of SuperValueOptimized | filterFurther:'Client':item.superId:'insuranceValues'">
          <td style="border:none;">Insurance Premiums</td>
          <td style="border:none;text-align:right;" *ngFor=" let value of insurance.insuranceValues | keys">
            <span *ngIf="value.value == 0 else insuranceSuper"> - </span>  <ng-template #insuranceSuper> <span>${{value.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>
        <tr>
          <td style="border:none;">Contributions</td>
          <td [attr.colspan]="period - 1" style="border:none;"></td>
        </tr>
        <tr>
          <td style="padding-left:2em !important;border:none;color:gray">Concessional</td>
          <td [attr.colspan]="period - 1" style="padding-left:2em !important;border:none;"></td>
        </tr>
        <tr *ngFor="let sg of SuperValueOptimized | filterFurther:'Client':item.superId:'sgContrValues'" style="color:gray">
          <td style="padding-left:4em !important;border:none;">Super Guarantee</td>
          <td style="border:none;text-align:right;" *ngFor=" let i of sg.sgContrValues | keys">
            <span *ngIf="i.value == 0 else sgSuper"> - </span>  <ng-template #sgSuper> <span>${{i.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngFor="let ss of SuperValueOptimized | filterFurther:'Client':item.superId:'ssContrValues'" style="color:gray">
          <td style="padding-left:4em !important;border:none;">Salary Sacrifice/ Personal Deductible</td>
          <td style="border:none;text-align:right;" *ngFor=" let i of ss.ssContrValues | keys">
            <span *ngIf="i.value == 0 else ssSuper"> - </span>  <ng-template #ssSuper> <span>${{i.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr>
          <td style="padding-left:2em !important;border:none;color:gray">Non-Concessional</td>
          <td [attr.colspan]="period - 1" style="padding-left:2em !important;border:none;"></td>
        </tr>
        <tr *ngFor="let pnc of SuperValueOptimized | filterFurther:'Client':item.superId:'pncContrValues'" style="color:gray">
          <td style="padding-left:4em !important;border:none;">Personal Non-Concessional</td>
          <td style="border:none;text-align:right;" *ngFor=" let i of pnc.pncContrValues | keys">
            <span *ngIf="i.value == 0 else pncSuper"> - </span>  <ng-template #pncSuper> <span>${{i.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngIf="clientDetails.maritalStatus == 'S' else spouseSuper2"></tr>
        <ng-template #spouseSuper2>
          <tr *ngFor="let spouse of SuperValueOptimized | filterFurther:'Client':item.superId:'spouseContrValues'" style="color:gray">
            <td style="padding-left:4em !important;border:none;">Spouse Contributions</td>
            <td style="border:none;text-align:right;" *ngFor=" let i of spouse.spouseContrValues | keys">
              <span *ngIf="i.value == 0 else spouseSuper"> - </span>  <ng-template #spouseSuper> <span>${{i.value| number}} </span> </ng-template>
            </td>
          </tr>
        </ng-template>
        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>
        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>
        <tr *ngFor="let lumpsum of SuperValueOptimized | filterFurther:'Client':item.superId:'lumpSumValues'">
          <td style="border:none;">Lump Sum Withdrawal</td>
          <td style="border:none;text-align:right;" *ngFor=" let value of lumpsum.lumpSumValues | keys">
            <span *ngIf="value.value == 0 else lumpsumSuper"> - </span>  <ng-template #lumpsumSuper> <span>${{value.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngFor="let taxPayable of SuperValueOptimized | filterFurther:'Client':item.superId:'taxPayableValues'">
          <td style="border:none;">Taxes Payable</td>
          <td style="border:none;text-align:right;" *ngFor=" let value of taxPayable.taxPayableValues | keys">
            <span *ngIf="value.value == 0 else taxPayableSuper"> - </span>  <ng-template #taxPayableSuper> <span>${{value.value| number}} </span> </ng-template>
          </td>
        </tr>

        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>
        <tr *ngFor="let end of SuperValueOptimized | filterFurtherAllowZero:'Client':item.superId:'endingValues'">
          <td style="border:none;">Closing Value</td>
          <td style="border:none;text-align:right;" *ngFor=" let value of end.endingValues | keys">
            <span *ngIf="value.value == 0 else endSuper"> - </span>  <ng-template #endSuper> <span>${{value.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngFor="let taxableEnd of SuperValueOptimized | filterFurther:'Client':item.superId:'TaxableEndingValues'" style="color:gray">
          <td style="padding-left:2em !important;border:none;">Taxable Component</td>
          <td style="border:none;text-align:right;" *ngFor=" let g of taxableEnd.TaxableEndingValues | keys">
            <span *ngIf="g.value == 0 else taxableEndSuper"> - </span>  <ng-template #taxableEndSuper> <span>${{g.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngFor="let taxfreeEnd of SuperValueOptimized | filterFurther:'Client':item.superId:'TaxFreeEndingValues'" style="color:gray">
          <td style="padding-left:2em !important;border:none;">Tax-Free Component</td>
          <td style="border:none;text-align:right;" *ngFor=" let g of taxfreeEnd.TaxFreeEndingValues | keys">
            <span *ngIf="g.value == 0 else taxfreeEndSuper"> - </span>  <ng-template #taxfreeEndSuper> <span>${{g.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngFor="let endingValPV of SuperValueOptimized | filterFurtherAllowZero:'Client':item.superId:'endingValuesPV'" style="color:gray">
          <td style="padding-left:2em !important;border:none;">Closing Value (PV)</td>
          <td style="border:none;text-align:right;" *ngFor=" let pv of endingValPV.endingValuesPV | keys">
            <span *ngIf="pv.value == 0 else pvSuper"> - </span>  <ng-template #pvSuper> <span>${{pv.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>
      </ng-container>

    </ng-template>


    <tr *ngIf="pensionClient?.length <= 0 else clientPensions"></tr>
    <ng-template #clientPensions>
      <ng-container *ngFor="let item of pensionClient">
        <tr style="font-weight:bold;background:#9d9b9b1c;">
          <td style="border-bottom:1px solid #dbdbdb;">{{item.name}} - {{clientDetails.clientName}} </td>
          <td [attr.colspan]="period - 1" style="border-bottom:1px solid #dbdbdb;"></td>
        </tr>
        <tr *ngFor="let beg of PensionValueOptimized | filterFurther:'Client':item.pensionId:'BegValues'">
          <td style="border:none;">{{beg.name}}</td>
          <td style="border:none;text-align:right;" *ngFor=" let value of beg.BegValues | keys">
            <span *ngIf="value.value == 0 else begSuper"> - </span>  <ng-template #begSuper> <span>${{value.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngFor="let taxable of PensionValueOptimized | filterFurther:'Client':item.pensionId:'TaxableBegValues'" style="color:gray">
          <td style="padding-left:2em !important;border:none;">Taxable Component</td>
          <td style="border:none;text-align:right;" *ngFor=" let g of taxable.TaxableBegValues | keys">
            <span *ngIf="g.value == 0 else taxableSuper"> - </span>  <ng-template #taxableSuper> <span>${{g.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngFor="let taxfree of PensionValueOptimized | filterFurther:'Client':item.pensionId:'TaxFreeBegValues'" style="color:gray">
          <td style="padding-left:2em !important;border:none;">Tax-Free Component</td>
          <td style="border:none;text-align:right;" *ngFor=" let g of taxfree.TaxFreeBegValues | keys">
            <span *ngIf="g.value == 0 else taxfreeSuper"> - </span>  <ng-template #taxfreeSuper> <span>${{g.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>
        <tr>
          <td style="border:none;">Earnings</td>
          <td [attr.colspan]="period - 1" style="border:none;"></td>
        </tr>
        <tr *ngFor="let growth of PensionValueOptimized | filterFurther:'Client':item.pensionId:'growthValues'" style="color:gray">
          <td style="padding-left:2em !important;border:none;">Growth</td>
          <td style="border:none;text-align:right;" *ngFor=" let g of growth.growthValues | keys">
            <span *ngIf="g.value == 0 else growthSuper"> - </span>  <ng-template #growthSuper> <span>${{g.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngFor="let income of PensionValueOptimized | filterFurther:'Client':item.pensionId:'incomeValues'" style="color:gray">
          <td style="padding-left:2em !important;border:none;">Income</td>
          <td style="border:none;text-align:right;" *ngFor=" let i of income.incomeValues | keys">
            <span *ngIf="i.value == 0 else incomeSuper"> - </span>  <ng-template #incomeSuper> <span>${{i.value| number}} </span> </ng-template>
          </td>
        </tr>

        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>

        <tr *ngFor="let item of PensionValueOptimized | filterFurther:'Client':item.pensionId:'pensionIncomeValues'">
          <td style="border:none;">Pension Income</td>
          <td style="border:none;text-align:right;" *ngFor=" let value of item.pensionIncomeValues | keys">
            <span *ngIf="value.value == 0 else begSuper"> - </span>  <ng-template #begSuper> <span>${{value.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngFor="let item of PensionValueOptimized | filterFurther:'Client':item.pensionId:'pITaxAssessableValues'" style="color:gray">
          <td style="padding-left:2em !important;border:none;">Tax Assessable Component</td>
          <td style="border:none;text-align:right;" *ngFor=" let g of item.pITaxAssessableValues | keys">
            <span *ngIf="g.value == 0 else taxableSuper"> - </span>  <ng-template #taxableSuper> <span>${{g.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngFor="let item of PensionValueOptimized | filterFurther:'Client':item.pensionId:'pITaxExemptValues'" style="color:gray">
          <td style="padding-left:2em !important;border:none;">Tax Exempt Component</td>
          <td style="border:none;text-align:right;" *ngFor=" let g of item.pITaxExemptValues | keys">
            <span *ngIf="g.value == 0 else taxfreeSuper"> - </span>  <ng-template #taxfreeSuper> <span>${{g.value| number}} </span> </ng-template>
          </td>
        </tr>

        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>
        <tr *ngFor="let end of PensionValueOptimized | filterFurtherAllowZero:'Client':item.pensionId:'endingValues'">
          <td style="border:none;">Closing Value</td>
          <td style="border:none;text-align:right;" *ngFor=" let value of end.endingValues | keys">
            <span *ngIf="value.value == 0 else endSuper"> - </span>  <ng-template #endSuper> <span>${{value.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngFor="let taxableEnd of PensionValueOptimized | filterFurther:'Client':item.pensionId:'TaxableEndingValues'" style="color:gray">
          <td style="padding-left:2em !important;border:none;">Taxable Component</td>
          <td style="border:none;text-align:right;" *ngFor=" let g of taxableEnd.TaxableEndingValues | keys">
            <span *ngIf="g.value == 0 else taxableEndSuper"> - </span>  <ng-template #taxableEndSuper> <span>${{g.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngFor="let taxfreeEnd of PensionValueOptimized | filterFurther:'Client':item.pensionId:'TaxFreeEndingValues'" style="color:gray">
          <td style="padding-left:2em !important;border:none;">Tax-Free Component</td>
          <td style="border:none;text-align:right;" *ngFor=" let g of taxfreeEnd.TaxFreeEndingValues | keys">
            <span *ngIf="g.value == 0 else taxfreeEndSuper"> - </span>  <ng-template #taxfreeEndSuper> <span>${{g.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr *ngFor="let endingValPV of PensionValueOptimized | filterFurtherAllowZero:'Client':item.pensionId:'endingValuesPV'" style="color:gray">
          <td style="padding-left:2em !important;border:none;">Closing Value (PV)</td>
          <td style="border:none;text-align:right;" *ngFor=" let pv of endingValPV.endingValuesPV | keys">
            <span *ngIf="pv.value == 0 else pvSuper"> - </span>  <ng-template #pvSuper> <span>${{pv.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>
      </ng-container>

    </ng-template>


  </tbody>
</table>
<div style="float:right" *ngIf="(projection == 'proposedFinancialAssets' )">
  <a (click)="onPreviousPFA()" class="previous">&laquo; Previous</a>
  <a (click)="onNextPFA()" class="next">Next &raquo;</a>
</div>
<table class="table" *ngIf="(projection == 'liabilitiesProposed' ) " style="margin-top:30px;">
  <tbody>
    <tr style="background-color:#8f8f8f;color:white">
      <th style="min-width:130px !important;"></th>
      <th style="text-align:center;" *ngFor="let year of years">1/7/{{year}}</th>
    </tr>
    <tr style="color:gray">
      <td style="border:none;"> Age - {{clientDetails.clientName}}</td>
      <td style="border:none;text-align:center;" *ngFor="let year of years;let index = index">
        <span *ngIf="year == clientRetirementYear else ageC">  {{index + clientAge }} [R] </span>  <ng-template #ageC> <span>{{index + clientAge }}</span> </ng-template>
      </td>
    </tr>
    <tr style="color:gray" *ngIf="clientDetails.maritalStatus == 'M'">
      <td style="border:none;"> Age - {{clientDetails.partnerName}}</td>
      <td style="border:none;text-align:center;" *ngFor="let year of years;let index = index">
        <span *ngIf="year == partnerRetirementYear else ageP"> {{index + partnerAge }} [R] </span>  <ng-template #ageP> <span>{{index + partnerAge }}</span> </ng-template>
      </td>
    </tr>
    <tr style="height:40px;">
      <td [attr.colspan]="period"></td>
    </tr>

    <!--Summary-->
    <tr class="header">
      <td style="border:none;font-weight:bold;" [attr.colspan]="period"> SUMMARY </td>
    </tr>
    <tr style="background:#f18b43;">
      <td [attr.colspan]="period" style="padding:0 !important;height:3px;"></td>
    </tr>
    <!--Investment-->
    <tr *ngIf="liabilityClient?.length <= 0 else clientLiabilitySummary"></tr>
    <ng-template #clientLiabilitySummary>
      <ng-container *ngFor="let item of liabilityClient">
        <tr *ngFor="let endingVal of LBValueOptimized | filterFurther:'Client':item.liabilityId:'endingValues'">
          <td style="border:none;">{{item.name}} - {{clientDetails.clientName}}</td>
          <td style="border:none;text-align:right;" *ngFor=" let endv of endingVal.endingValues | keys">
            <span *ngIf="endv.value == 0 else endingValLiability"> - </span>  <ng-template #endingValLiability> <span>${{endv.value| number}} </span> </ng-template>
          </td>
        </tr>
      </ng-container>
    </ng-template>


    <tr style="height:20px;">
      <td [attr.colspan]="period"></td>
    </tr>



    <tr class="header" style="margin-top:30px;">
      <td style="border:none;font-weight:bold;" [attr.colspan]="period"> LIABILITIES <span class="glyphicon glyphicon-chevron-up" style="left:90%;"></span></td>
    </tr>
    <tr style="background:#f18b43;">
      <td [attr.colspan]="period" style="padding:0 !important;height:3px;"></td>
    </tr>
    <!--Client-->
    <tr *ngIf="liabilityClient?.length <= 0 else clientLiabilities"></tr>
    <ng-template #clientLiabilities>
      <ng-container *ngFor="let item of liabilityClient">
        <tr style="font-weight:bold;background:#9d9b9b1c;">
          <td style="border-bottom:1px solid #dbdbdb;">{{item.name}} - {{clientDetails.clientName}} </td>
          <td [attr.colspan]="period - 1" style="border-bottom:1px solid #dbdbdb;"></td>
        </tr>
        <tr *ngFor="let beg of LBValueOptimized | filterFurther:'Client':item.liabilityId:'BegValues'">
          <td style="border:none;">{{beg.name}}</td>
          <td style="border:none;text-align:right;" *ngFor=" let value of beg.BegValues | keys">
            <span *ngIf="value.value == 0 else begLiability"> - </span>  <ng-template #begLiability> <span>${{value.value| number}} </span> </ng-template>
          </td>
        </tr>
        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>
        <tr *ngFor="let accruedInterest of LBValueOptimized | filterFurther:'Client':item.liabilityId:'accruedInterestValues'">
          <td style="border:none;">Accrued Interest</td>
          <td style="border:none;text-align:right;" *ngFor=" let g of accruedInterest.accruedInterestValues | keys">
            <span *ngIf="g.value == 0 else accruedInterestLiability"> - </span>  <ng-template #accruedInterestLiability> <span>${{g.value| number}} </span> </ng-template>
          </td>
        </tr>

        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>

        <tr *ngFor="let repmt of LBValueOptimized | filterFurther:'Client':item.liabilityId:'repmtValues'">
          <td style="border:none;">Repayment</td>
          <td style="border:none;text-align:right;" *ngFor=" let g of repmt.repmtValues | keys">
            <span *ngIf="g.value == 0 else repmtLiability"> - </span>  <ng-template #repmtLiability> <span>${{g.value| number}} </span> </ng-template>
          </td>
        </tr>

        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>
        <tr *ngFor="let endingVal of LBValueOptimized | filterFurtherAllowZero:'Client':item.liabilityId:'endingValues'">
          <td style="border:none;font-weight:bold">Closing Value</td>
          <td style="border:none;font-weight:bold;text-align:right;" *ngFor=" let endv of endingVal.endingValues | keys">
            <span *ngIf="endv.value == 0 else endingValLiability"> - </span>  <ng-template #endingValLiability> <span>${{endv.value| number}} </span> </ng-template>
          </td>
        </tr>

        <tr style="height:10px;">
          <td [attr.colspan]="period" style="border:none;"></td>
        </tr>
      </ng-container>

    </ng-template>


  </tbody>
</table>
<div style="float:right" *ngIf="(projection == 'liabilitiesProposed' )">
  <a (click)="onPreviousPLB()" class="previous">&laquo; Previous</a>
</div>
<table class="table" *ngIf="(projection == 'proposedtax' ) " style="margin-top:30px;">
  <tbody>
    <tr style="background-color:#8f8f8f;color:white">
      <th style="min-width:230px !important;"></th>
      <th style="text-align:center;" *ngFor="let year of years">1/7/{{year}}</th>
    </tr>
    <tr style="color:gray">
      <td style="border:none;"> Age - {{clientDetails.clientName}}</td>
      <td style="border:none;text-align:center;" *ngFor="let year of years;let index = index">
        <span *ngIf="year == clientRetirementYear else ageC">  {{index + clientAge }} [R] </span>  <ng-template #ageC> <span>{{index + clientAge }}</span> </ng-template>
      </td>
    </tr>
    <tr style="color:gray" *ngIf="clientDetails.maritalStatus == 'M'">
      <td style="border:none;"> Age - {{clientDetails.partnerName}}</td>
      <td style="border:none;text-align:center;" *ngFor="let year of years;let index = index">
        <span *ngIf="year == partnerRetirementYear else ageP"> {{index + partnerAge }} [R] </span>  <ng-template #ageP> <span>{{index + partnerAge }}</span> </ng-template>
      </td>
    </tr>
    <tr style="height:40px;">
      <td [attr.colspan]="period"></td>
    </tr>
    <!--Summary-->
    <tr class="header">
      <td style="border:none;font-weight:bold;" [attr.colspan]="period"> SUMMARY </td>
    </tr>
    <tr style="background:#f18b43;">
      <td [attr.colspan]="period" style="padding:0 !important;height:3px;"></td>
    </tr>
    <!--Client-->
    <tr>
      <td [attr.colspan]="period" style="border-bottom:1px solid #dbdbdb;">{{clientDetails.clientName}}</td>
    </tr>
    <tr *ngIf="TotalPayableOptimized?.length <= 0 else clientTotalPayableSummary"></tr>
    <ng-template #clientTotalPayableSummary>
      <tr style="font-weight:bold;background:#9d9b9b1c;" *ngFor="let item of TotalPayableOptimized | filterHide:'ClientTotalTaxPayable'">
        <td style="border:none;">{{item.name}}</td>
        <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
          <span *ngIf="value.value == 0 else ti"> - </span>  <ng-template #ti> <span>${{value.value | number}} </span> </ng-template>
        </td>
      </tr>
      <tr style="color:gray;font-style:oblique;" *ngFor="let item of TotalPayableOptimized | filterHide:'ClientAverageTaxRate'">
        <td style="border:none;padding-left:2em !important;">{{item.name}}</td>
        <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
          <span>{{value.value | number}}% </span>
        </td>
      </tr>
      <tr style="color:gray;font-style:oblique;" *ngFor="let item of TotalPayableOptimized | filterHide:'ClientMarginalTaxRate'">
        <td style="border:none;padding-left:2em !important;">{{item.name}}</td>
        <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
          <span>{{value.value | number}}% </span>
        </td>
      </tr>
    </ng-template>
    <tr style="height:10px;">
      <td [attr.colspan]="period" style="border:none;"></td>
    </tr>

    <!--Partner-->
    <ng-container *ngIf="clientDetails.maritalStatus == 'M'">
      <tr>
        <td [attr.colspan]="period" style="border-bottom:1px solid #dbdbdb;border-top:none;">{{clientDetails.partnerName}}</td>
      </tr>
      <tr *ngIf="TotalPayableOptimized?.length <= 0 else partnerTotalPayableSummary"></tr>
      <ng-template #partnerTotalPayableSummary>
        <tr style="font-weight:bold;background:#9d9b9b1c;" *ngFor="let item of TotalPayableOptimized | filterHide:'PartnerTotalTaxPayable'">
          <td style="border:none;">{{item.name}}</td>
          <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
            <span *ngIf="value.value == 0 else ti"> - </span>  <ng-template #ti> <span>${{value.value | number}} </span> </ng-template>
          </td>
        </tr>
        <tr style="color:gray;font-style:oblique;" *ngFor="let item of TotalPayableOptimized | filterHide:'PartnerAverageTaxRate'">
          <td style="border:none;padding-left:2em !important;">{{item.name}}</td>
          <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
            <span *ngIf="value.value == 0 else ti"> - </span>  <ng-template #ti> <span>{{value.value | number}}% </span> </ng-template>
          </td>
        </tr>
        <tr style="color:gray;font-style:oblique;" *ngFor="let item of TotalPayableOptimized | filterHide:'PartnerMarginalTaxRate'">
          <td style="border:none;padding-left:2em !important;">{{item.name}}</td>
          <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
            <span *ngIf="value.value == 0 else ti"> - </span>  <ng-template #ti> <span>{{value.value | number}}% </span> </ng-template>
          </td>
        </tr>
      </ng-template>
      <tr style="height:10px;">
        <td [attr.colspan]="period" style="border:none;"></td>
      </tr>
    </ng-container>

    <!--<tr *ngIf="partnerRTaxOffset?.length <= 0 else partnerRTaxOffsetsSummary"></tr>
    <ng-template #partnerRTaxOffsetsSummary>
        <tr *ngFor="let item of partnerRTaxOffset | filterHide:'PartnerFrankingCredits'">
            <td style="border:none;padding-left:2em !important;">Refundable tax offsets</td>
            <td style="border:none;" *ngFor=" let value of item.values | keys">
                <span *ngIf="value.value == 0 else crt"> - </span>  <ng-template #crt> <span>${{value.value | number}} </span> </ng-template>
            </td>
        </tr>
    </ng-template>
    <tr *ngIf="partnerRTaxOffset?.length <= 0 else partnerNRTaxOffsetsSummary"></tr>
    <ng-template #partnerNRTaxOffsetsSummary>
        <tr *ngFor="let item of partnerNRTaxOffset | filterHide:'PartnerTotalTO'">
            <td style="border:none;padding-left:2em !important;">Non-refundable tax offsets</td>
            <td style="border:none;" *ngFor=" let value of item.values | keys">
                <span *ngIf="value.value == 0 else cnrt"> - </span>  <ng-template #cnrt> <span>${{value.value | number}} </span> </ng-template>
            </td>
        </tr>
    </ng-template>-->
    <tr style="height:30px;" [attr.colspan]="period"></tr>
    <!--Main body-->
    <tr class="header" style="margin-top:10px;">
      <td style="border:none;font-weight:bold;" [attr.colspan]="period"> TAXATION -  {{clientDetails.clientName}} <span class="glyphicon glyphicon-chevron-up" style="left:90%;"></span></td>
    </tr>
    <tr style="background:#f18b43;">
      <td [attr.colspan]="period" style="padding:0 !important;height:3px;"></td>
    </tr>
    <tr style="height:20px;">
      <td [attr.colspan]="period" style="border-bottom:1px solid #dbdbdb;"></td>
    </tr>

    <tr *ngIf="cfiClient?.length <= 0 else clientIncomeTotal"></tr>
    <ng-template #clientIncomeTotal>

      <tr>
        <td style="padding-left:1em !important;border:none;">Income</td>
        <td [attr.colspan]="period - 1"></td>
      </tr>
      <tr *ngFor="let item of IncomeOptimized | filterHide:'ClientIncome-tax'" style="color:gray;">
        <td style="padding-left:2em !important;border:none;">{{item.name}}</td>
        <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
          <span *ngIf="value.value == 0 else ic"> - </span>  <ng-template #ic> <span>${{value.value | number}} </span> </ng-template>
        </td>
      </tr>
      <tr *ngFor="let item of PensiontotalOptimized | filterHide:'PensionIncome-client'" style="color:gray;">
        <td style="padding-left:2em !important;border:none;">{{item.name}}</td>
        <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
          <span *ngIf="value.value == 0 else ic"> - </span>  <ng-template #ic> <span>${{value.value | number}} </span> </ng-template>
        </td>
      </tr>
      <tr *ngFor="let item of FAtotalOptimized | filterHide:'TotalTaxIE-client'" style="color:gray;">
        <td style="padding-left:2em !important;border:none;">{{item.name}}</td>
        <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
          <span *ngIf="value.value == 0 else ic"> - </span>  <ng-template #ic> <span>${{value.value | number}} </span> </ng-template>
        </td>
      </tr>
      <tr *ngFor="let item of FAtotalOptimized | filterHide:'FrankingCredits-client'" style="color:gray;">
        <td style="padding-left:2em !important;border:none;">{{item.name}}</td>
        <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
          <span *ngIf="value.value == 0 else ic"> - </span>  <ng-template #ic> <span>${{value.value | number}} </span> </ng-template>
        </td>
      </tr>
      <tr>
        <td [attr.colspan]="period" style="border:none;"></td>
      </tr>
      <tr>
        <td style="padding-left:1em !important;border:none;">Capital gains</td>
        <td [attr.colspan]="period - 1" style="border:none;"></td>
      </tr>
      <tr *ngFor="let item of FAtotalOptimized | filterHide:'RCGFA-client'" style="color:gray;">
        <td style="padding-left:2em !important;border:none;">{{item.name}}</td>
        <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
          <span *ngIf="value.value == 0 else ic"> - </span>  <ng-template #ic> <span>${{value.value | number}} </span> </ng-template>
        </td>
      </tr>
      <tr *ngFor="let item of PropertiestotalOptimized | filterHide:'RCGP-client'" style="color:gray;">
        <td style="padding-left:2em !important;border:none;">{{item.name}}</td>
        <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
          <span *ngIf="value.value == 0 else ic"> - </span>  <ng-template #ic> <span>${{value.value | number}} </span> </ng-template>
        </td>
      </tr>
      <tr *ngFor="let item of PropertiestotalOptimized | filterHide:'CLA-client'" style="color:gray;">
        <td style="padding-left:2em !important;border:none;font-style:italic;">{{item.name}}</td>
        <td style="border:none;font-style:italic;text-align:right;" *ngFor=" let value of item.values | keys">
          <span *ngIf="value.value == 0 else ic"> - </span>  <ng-template #ic> <span>${{value.value | number}} </span> </ng-template>
        </td>
      </tr>

      <tr *ngFor="let item of SupertotalOptimized | filterHide:'LumpSum-client'">
        <td style="border:none;">{{item.name}}</td>
        <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
          <span *ngIf="value.value == 0 else ic"> - </span>  <ng-template #ic> <span>${{value.value | number}} </span> </ng-template>
        </td>
      </tr>
    </ng-template>
    <!--Income Total-->
    <tr *ngIf="cfiClient?.length <= 0  else CAssessibleIncomeTotal"></tr>
    <ng-template #CAssessibleIncomeTotal>
      <tr>
        <td [attr.colspan]="period" style="border:none;"></td>
      </tr>
      <tr style="font-weight:bold;" *ngFor="let item of IncomeOptimized | filterHide:'ClientAssessibleIncome'">
        <td style="border:none;">Total Assessable Income</td>
        <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
          <span *ngIf="value.value == 0 else ti"> - </span>  <ng-template #ti> <span>${{value.value | number}} </span> </ng-template>
        </td>
      </tr>
    </ng-template>
    <tr>
      <td [attr.colspan]="period" style="border:none;border-bottom:1px solid #dbdbdb;"></td>
    </tr>
    <!--Deductions-->

    <tr *ngIf="( EPRTClient?.length <= 0 && EPRTJoint?.length <= 0 && PropertiestotalOptimized?.length <= 0 && SalarySacrificeTaxOptimized?.length <= 0 ) else clientDeduction"></tr>
    <ng-template #clientDeduction>
      <tr *ngFor="let item of PropertiestotalOptimized | filterHide:'InvestmentPropertyExpenses-client'">
        <td style="padding-left:1em !important;">{{item.name}}</td>
        <td style="text-align:right;" *ngFor=" let value of item.values | keys">
          <span *ngIf="value.value == 0 else ipeC"> - </span>  <ng-template #ipeC> <span>${{value.value | number}} </span> </ng-template>
        </td>
      </tr>
      <tr *ngFor="let item of LBtotalOptimized | filterHide:'Accruedliability-client'">
        <td style="padding-left:1em !important;">{{item.name}}</td>
        <td style="text-align:right;" *ngFor=" let value of item.values | keys">
          <span *ngIf="value.value == 0 else ACLC"> - </span>  <ng-template #ACLC> <span>${{value.value | number}} </span> </ng-template>
        </td>
      </tr>
      <tr *ngFor="let item of SupertotalOptimized | filterHide:'SalarySacrifice-client'">
        <td style="padding-left:1em !important;">{{item.name}}</td>
        <td style="text-align:right;" *ngFor=" let value of item.values | keys">
          <span *ngIf="value.value == 0 else ipeC"> - </span>  <ng-template #ipeC> <span>${{value.value | number}} </span> </ng-template>
        </td>
      </tr>
      <tr *ngFor="let item of ClientDeductionsOptimized | filterHide:'Client'">
        <td style="padding-left:1em !important;border:none;">{{item.name}}</td>
        <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
          <span *ngIf="value.value == 0 else ec"> - </span>  <ng-template #ec> <span>${{value.value | number}} </span> </ng-template>
        </td>
      </tr>
    </ng-template>
    <tr *ngIf="( EPRTClient?.length <= 0 && EPRTJoint?.length <= 0 && PropertiestotalOptimized?.length <= 0 ) else CDeductionTotal"></tr>
    <ng-template #CDeductionTotal>
      <tr style="font-weight:bold;" *ngFor="let item of ClientDeductionsOptimized | filterHide:'ClientDeductions'">
        <td style="border:none;">Total Deductions</td>
        <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
          <span *ngIf="value.value == 0 else td"> - </span>  <ng-template #td> <span>${{value.value | number}} </span> </ng-template>
        </td>
      </tr>
    </ng-template>
    <tr>
      <td [attr.colspan]="period" style="border:none;border-bottom:1px solid #dbdbdb;"></td>
    </tr>
    <!--Taxable Income & Adjustment for losses-->
    <tr *ngIf="(clientTaxableIncomeOptimized?.length <= 0) else CTaxableIncome"></tr>
    <ng-template #CTaxableIncome>
      <tr style="font-weight:bold;" *ngFor="let item of clientTaxableIncomeOptimized | filterHide:'ClientTaxableIncome'">
        <td style="border:none;">Taxable Income</td>
        <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
          <span *ngIf="value.value == 0 else tincome"> - </span>  <ng-template #tincome> <span>${{value.value | number}} </span> </ng-template>
        </td>
      </tr>
    </ng-template>
    <tr *ngIf="clientLossAdjustmentOptimized?.length <= 0 else CLossAdjustment"></tr>
    <ng-template #CLossAdjustment>
      <tr *ngFor="let item of clientLossAdjustmentOptimized | filterHide:'ClientAdjustment'" style="color:gray;">
        <td style="padding-left:2em !important;border:none;">Adjustment for losses</td>
        <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
          <span *ngIf="value.value == 0 else cla"> - </span>  <ng-template #cla> <span>${{value.value | number}} </span> </ng-template>
        </td>
      </tr>
    </ng-template>
    <tr>
      <td [attr.colspan]="period" style="border:none;border-bottom:1px solid #dbdbdb;"></td>
    </tr>
    <!--Gross tax payable-->
    <tr *ngIf="GrossTaxOptimized?.length <= 0 else ClientGrossTaxPayable"></tr>
    <ng-template #ClientGrossTaxPayable>
      <tr style="font-weight:bold;" *ngFor="let item of GrossTaxOptimized | filterHide:'ClientGrossTax'">
        <td style="border:none;">{{item.name}}</td>
        <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
          <span *ngIf="value.value == 0 else gtc"> - </span>  <ng-template #gtc> <span>${{value.value | number}} </span> </ng-template>
        </td>
      </tr>
      <tr>
        <td [attr.colspan]="period" style="border:none;border-bottom:1px solid #dbdbdb;"></td>
      </tr>
    </ng-template>

    <!--Non-refundable tax offsets-->
    <tr *ngIf="clientNRTaxOffsetOptimized?.length <= 0 else clientNRTaxOffsets"></tr>
    <ng-template #clientNRTaxOffsets>
      <tr *ngFor="let item of clientNRTaxOffsetOptimized | filterHide:'ClientLowIncomeTO'">
        <td style="border:none;padding-left:1em !important;">{{item.name}}</td>
        <td style="text-align:right;" *ngFor=" let value of item.values | keys">
          <span *ngIf="value.value == 0 else cnr"> - </span>  <ng-template #cnr> <span>${{value.value | number}} </span> </ng-template>
        </td>
      </tr>
      <tr *ngFor="let item of PensiontotalOptimized | filterHide:'SIncomeTaxOffset-client'">
        <td style="border:none;padding-left:1em !important;">{{item.name}}</td>
        <td style="text-align:right;" *ngFor=" let value of item.values | keys">
          <span *ngIf="value.value == 0 else cnr"> - </span>  <ng-template #cnr> <span>${{value.value | number}} </span> </ng-template>
        </td>
      </tr>
      <tr style="font-weight:bold;" *ngFor="let item of clientNRTaxOffsetOptimized | filterHide:'ClientTotalTO'">
        <td style="border:none;">{{item.name}}</td>
        <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
          <span *ngIf="value.value == 0 else cnrt"> - </span>  <ng-template #cnrt> <span>${{value.value | number}} </span> </ng-template>
        </td>
      </tr>
      <tr>
        <td [attr.colspan]="period" style="border:none;border-bottom:1px solid #dbdbdb;"></td>
      </tr>
    </ng-template>
    <!--Refundable tax offsets-->
    <tr *ngIf="clientRTaxOffsetOptimized?.length <= 0 else clientRTaxOffsets"></tr>
    <ng-template #clientRTaxOffsets>
      <tr *ngFor="let item of clientRTaxOffsetOptimized | filterHide:'ClientFrankingCredits'">
        <td style="border:none;padding-left:1em !important;">{{item.name}}</td>
        <td style="text-align:right;" *ngFor=" let value of item.values | keys">
          <span *ngIf="value.value == 0 else cr"> - </span>  <ng-template #cr> <span>${{value.value | number}} </span> </ng-template>
        </td>
      </tr>
      <tr style="font-weight:bold;" *ngFor="let item of clientRTaxOffsetOptimized | filterHide:'ClientFrankingCredits'">
        <td style="border:none;">Total refundable tax offsets</td>
        <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
          <span *ngIf="value.value == 0 else crt"> - </span>  <ng-template #crt> <span>${{value.value | number}} </span> </ng-template>
        </td>
      </tr>
      <tr>
        <td [attr.colspan]="period" style="border:none;border-bottom:1px solid #dbdbdb;"></td>
      </tr>
    </ng-template>
    <!--Net tax payable-->
    <tr *ngIf="NetPayableOptimized?.length <= 0 else clientTaxPayable"></tr>
    <ng-template #clientTaxPayable>
      <tr style="color:gray;" *ngFor="let item of NetPayableOptimized | filterHide:'ClientTPNonRefundable'">
        <td style="border:none;padding-left:1em !important;">{{item.name}}</td>
        <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
          <span *ngIf="value.value == 0 else ctp"> - </span>  <ng-template #ctp> <span>${{value.value | number}} </span> </ng-template>
        </td>
      </tr>
      <tr style="color:gray;" *ngFor="let item of NetPayableOptimized | filterHide:'ClientTPRefundable'">
        <td style="border:none;padding-left:1em !important;">{{item.name}}</td>
        <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
          <span *ngIf="value.value == '0' else ctpt"> - </span>
          <ng-template #ctpt>
            <span *ngIf="value.value > 0 else ct">${{value.value | number}} </span>
            <ng-template #ct>
              <span> (${{value.value | positive | number  }}) </span>
            </ng-template>
          </ng-template>
        </td>
      </tr>
      <tr style="font-weight:bold;" *ngFor="let item of NetPayableOptimized | filterHide:'ClientTPRefundable'">
        <td style="border:none;">Net tax payable</td>
        <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
          <span *ngIf="value.value == 0 else ct"> - </span>
          <ng-template #ct>
            <span *ngIf="value.value > 0 else ctn">${{value.value | number}} </span>
            <ng-template #ctn>
              <span> (${{value.value | positive | number  }}) </span>
            </ng-template>
          </ng-template>
        </td>
      </tr>
      <tr>
        <td [attr.colspan]="period" style="border:none;border-bottom:1px solid #dbdbdb;"></td>
      </tr>
    </ng-template>
    <!--Medicare levy-->
    <tr *ngIf="clientMedicareLevyOptimized?.length <= 0 else clientMedicareLevys"></tr>
    <ng-template #clientMedicareLevys>
      <tr *ngFor="let item of clientMedicareLevyOptimized | filterHide:'ClientMedicareLevy'">
        <td style="border:none;padding-left:1em !important;">{{item.name}}</td>
        <td style="text-align:right;" *ngFor=" let value of item.values | keys">
          <span *ngIf="value.value == 0 else ec"> - </span>  <ng-template #ec> <span>${{value.value | number}} </span> </ng-template>
        </td>
      </tr>
      <tr style="font-weight:bold;" *ngFor="let item of clientMedicareLevyOptimized | filterHide:'ClientMedicareLevy'">
        <td style="border:none;">Medicare levy payable</td>
        <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
          <span *ngIf="value.value == 0 else ti"> - </span>  <ng-template #ti> <span>${{value.value | number}} </span> </ng-template>
        </td>
      </tr>
      <tr>
        <td [attr.colspan]="period" style="border:none;border-bottom:1px solid #dbdbdb;"></td>
      </tr>
    </ng-template>
    <!--Total tax payable-->
    <tr *ngIf="TotalPayableOptimized?.length <= 0 else clientTotalPayable"></tr>
    <ng-template #clientTotalPayable>
      <tr style="font-weight:bold;" *ngFor="let item of TotalPayableOptimized | filterHide:'ClientTotalTaxPayable'">
        <td style="border:none;">{{item.name}}</td>
        <td style="border:none;text-align:right;" *ngFor=" let value of item.values | keys">
          <span *ngIf="value.value == 0 else ti"> - </span>  <ng-template #ti> <span>${{value.value | number}} </span> </ng-template>
        </td>
      </tr>
      <tr *ngFor="let item of TotalPayableOptimized | filterHide:'ClientAverageTaxRate'">
        <td style="border:none;padding-left:2em !important;font-style:oblique;">{{item.name}}</td>
        <td style="border:none;font-style:oblique;text-align:right;" *ngFor=" let value of item.values | keys">
          <span>{{value.value | number}}% </span>
        </td>
      </tr>
      <tr *ngFor="let item of TotalPayableOptimized | filterHide:'ClientMarginalTaxRate'">
        <td style="border:none;padding-left:2em !important;font-style:oblique;">{{item.name}}</td>
        <td style="border:none;font-style:oblique;text-align:right;" *ngFor=" let value of item.values | keys">
          <span>{{value.value | number}}% </span>
        </td>
      </tr>
      <tr>
        <td [attr.colspan]="period" style="border:none;border-bottom:1px solid #dbdbdb;"></td>
      </tr>
    </ng-template>

  </tbody>
</table>
<div style="float:right" *ngIf="(projection == 'proposedtax' )">
  <a (click)="onPreviousPTX()" class="previous">&laquo; Previous</a>
  <a (click)="onNextPTX()" class="next">Next &raquo;</a>
</div>
